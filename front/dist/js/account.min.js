function Account(){var t=this;t.accountWrapper=$(".add-account-wrapper"),t.curryWrapper=$(".account-curry-wrapper"),t.totalProperty=$(".property-total-wrapper"),t.detailsProperty=$(".property-details-wrapper"),t.carryWrapper=$(".account-carry-curry-wrapper")}Account.prototype.run=function(){var t=this;t.listenShowHideAddAccount(),t.listenShowHideCurryWrapper(),t.listPropertyTotalShowHideEvent(),t.listenPropertyDetailsShowEvent(),t.listtenToalAccountCloseEvent(),t.listtenPropertyDetailsCloseEvent(),t.deleteAccount(),t.listenSubmitAccount(),t.listendenominationEvent(),t.listtencuyyencyShow(),t.showCollectAsset(),t.showDetailProperty()},Account.prototype.showDetailProperty=function(){var c=this;$(".update-property").on("click",function(){var t=$(this).parent().parent().attr("data-id");$("#add-account-pk").attr("account-pk",t),console.log(t),c.accountWrapper.show(),xfzajax.post({url:"/deal/accountinfo/",data:{pk:t},success:function(t){if(console.log(t),200===t.code){account=t.data,console.log(account);var c=$(".account-body");platform=account.platform.Platform_name,id=account.platform.id,console.log(platform),title=account.title,accesskey=account.accesskey,secretkey=account.secretkey,$("#platform option[value="+id+"]").prop("selected",!0),c.find("input[name='account-name']").val(title),c.find("input[name='access']").val(accesskey),c.find("input[name='scrent']").val(secretkey)}}})})},Account.prototype.listenShowHideAddAccount=function(){var t=this,c=$(".close-btn");$("#add-account-btn").click(function(){t.accountWrapper.show()}),c.click(function(){console.log("sssfsdf"),t.accountWrapper.hide(),window.location.reload()}),$(".cancel").click(function(){t.accountWrapper.hide(),window.location.reload()})},Account.prototype.listendenominationEvent=function(){$("#account-curry-configuration").on("click",function(){$(".denomination-mask-account-wrapper").show(),$(".denomination-account-wrapper").show()}),$(".denomination-close-btn").on("click",function(){$(".denomination-mask-account-wrapper").hide(),$(".denomination-account-wrapper").hide()}),$(".cancel").click(function(){$(".denomination-mask-account-wrapper").hide(),$(".denomination-account-wrapper").hide()})},Account.prototype.listPropertyTotalShowHideEvent=function(){var t=this,c=$(".close-btn");$("#property-total").click(function(){t.totalProperty.show()}),c.click(function(){t.totalProperty.hide()}),$(".cancel").click(function(){t.totalProperty.hide()})},Account.prototype.listenShowHideCurryWrapper=function(){var c=this,t=$(".close-btn");$(".add-property").click(function(){c.curryWrapper.show();var t=$(this).parent().parent().attr("data-id");c.chargeAccountEvent(t)}),t.click(function(){c.curryWrapper.hide()}),$(".cancel").click(function(){c.curryWrapper.hide()})},Account.prototype.listtenToalAccountCloseEvent=function(){$(".property-close-btn").on("click",function(){$(".property-total-wrapper").hide(),window.location.reload()})},Account.prototype.listtenPropertyDetailsCloseEvent=function(){$(".property-close-btn").on("click",function(){$(".property-details-wrapper").hide()})},Account.prototype.listenPropertyDetailsShowEvent=function(){var c=this,t=$(".close-btn");$(".check-property").on("click",function(){c.detailsProperty.show();var t=$(this).parent().parent().attr("data-id");$(".refersh").attr("property-id",t),xfzajax.post({url:"/deal/showassert/",data:{pk:t},success:function(t){if(console.log(t),200===t.code){var c=t.data;console.log(c);var o=template("property-details",{properties:c});$("#property-details-ids").append(o)}}})}),t.click(function(){c.detailsProperty.hide()}),$(".cancel").click(function(){c.detailsProperty.hide()})},Account.prototype.showCollectAsset=function(){$("#property-total").click(function(){xfzajax.post({url:"/deal/showcollectasset/",success:function(t){console.log(t)}})})},Account.prototype.deleteAccount=function(){$(".delete-property").on("click",function(){var t=$(this).parent().parent().attr("data-id");xfzalert.alertConfirm({title:"您确定删除这个账户吗？",confirmCallback:function(){xfzajax.post({url:"/deal/deleteaccount/",data:{pk:t},success:function(t){200===t.code&&(console.log(t),window.location.reload())}})}})})},Account.prototype.listenEditAccount=function(c){$(".confirm").on("click",function(){var t=$(".account-body");platform=$("#platform").find("option:selected").val(),title=t.find("input[name='account-name']").val(),accesskey=t.find("input[name='access']").val(),secretkey=t.find("input[name='scrent']").val(),xfzajax.post({url:"/deal/editaccount/",data:{platform:platform,title:title,accesskey:accesskey,secretkey:secretkey,pk:c},success:function(t){200===t.code&&xfzalert.alertSuccess("添加账户成功！",function(){window.location.reload()})}})})},Account.prototype.listenSubmitAccount=function(t){$(".confirm").click(function(){var c=$(this).attr("account-pk");console.log(c);var t=$(".account-body");platform=$("#platform").find("option:selected").val(),title=t.find("input[name='account-name']").val(),accesskey=t.find("input[name='access']").val(),secretkey=t.find("input[name='scrent']").val();var o="";o=c?"/deal/editaccount/":"/deal/addaccount/",xfzajax.post({url:o,data:{platform:platform,title:title,accesskey:accesskey,secretkey:secretkey,pk:c},success:function(t){200===t.code&&(c?xfzalert.alertSuccess("编辑账户成功！",function(){window.location.reload()}):xfzalert.alertSuccess("添加账户成功！",function(){window.location.reload()}))}})})},Account.prototype.chargeAccountEvent=function(t){$(".curry-confirm").click(function(){num=$("#currency-number").val(),currency=$("#currency").val(),console.log("*"),console.log(num,currency,t),xfzajax.post({url:"/deal/chargeaccount/",data:{pk:t,num:num,currency:currency},success:function(t){200===t.code&&xfzalert.alertSuccess("增资成功",function(){window.location.reload()})}})})},Account.prototype.listtencuyyencyShow=function(){var c=this,t=$(".close-btn");$(".mention-money").click(function(){c.carryWrapper.show();var t=$(this).parent().parent().attr("data-id");c.listenWithDraw(t)}),t.click(function(){c.carryWrapper.hide()}),$(".cancel").click(function(){c.carryWrapper.hide()})},Account.prototype.listenWithDraw=function(t){$(".carry-confirm").click(function(){num=$("#currency-number").val(),currency=$("#currency").val(),console.log("*"),console.log(num,currency,t),xfzajax.post({url:"/deal/withdraw/",data:{num:num,currency:currency,pk:t},success:function(t){200===t.code&&xfzalert.alertSuccess("提币成功",function(){window.location.reload()})}})})},$(function(){(new Account).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQuanMiXSwibmFtZXMiOlsiQWNjb3VudCIsInNlbGYiLCJ0aGlzIiwiYWNjb3VudFdyYXBwZXIiLCIkIiwiY3VycnlXcmFwcGVyIiwidG90YWxQcm9wZXJ0eSIsImRldGFpbHNQcm9wZXJ0eSIsImNhcnJ5V3JhcHBlciIsInByb3RvdHlwZSIsInJ1biIsImxpc3RlblNob3dIaWRlQWRkQWNjb3VudCIsImxpc3RlblNob3dIaWRlQ3VycnlXcmFwcGVyIiwibGlzdFByb3BlcnR5VG90YWxTaG93SGlkZUV2ZW50IiwibGlzdGVuUHJvcGVydHlEZXRhaWxzU2hvd0V2ZW50IiwibGlzdHRlblRvYWxBY2NvdW50Q2xvc2VFdmVudCIsImxpc3R0ZW5Qcm9wZXJ0eURldGFpbHNDbG9zZUV2ZW50IiwiZGVsZXRlQWNjb3VudCIsImxpc3RlblN1Ym1pdEFjY291bnQiLCJsaXN0ZW5kZW5vbWluYXRpb25FdmVudCIsImxpc3R0ZW5jdXl5ZW5jeVNob3ciLCJzaG93Q29sbGVjdEFzc2V0Iiwic2hvd0RldGFpbFByb3BlcnR5Iiwib24iLCJwayIsInBhcmVudCIsImF0dHIiLCJjb25zb2xlIiwibG9nIiwic2hvdyIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJhY2NvdW50IiwiYWNjb3VudEdyb3VwIiwicGxhdGZvcm0iLCJpZCIsInRpdGxlIiwiYWNjZXNza2V5Iiwic2VjcmV0a2V5IiwicHJvcCIsImZpbmQiLCJ2YWwiLCJjbG9zZUJ0biIsImNsaWNrIiwiaGlkZSIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiY2hhcmdlQWNjb3VudEV2ZW50IiwicHJvcGVydGllcyIsInRwbCIsInRlbXBsYXRlIiwiYXBwZW5kIiwieGZ6YWxlcnQiLCJhbGVydENvbmZpcm0iLCJjb25maXJtQ2FsbGJhY2siLCJsaXN0ZW5FZGl0QWNjb3VudCIsImFsZXJ0U3VjY2VzcyIsIm51bSIsImN1cnJlbmN5IiwibGlzdGVuV2l0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QyxLQUFLLFdBQ2pCekIsRUFBSytELGVBQWV4QyxLQUd4QnNCLEVBQVNDLE1BQU0sV0FDWDlDLEVBQUtPLGFBQWF3QyxTQUV0QjVDLEVBQUUsV0FBVzJDLE1BQU0sV0FDZjlDLEVBQUtPLGFBQWF3QyxVQU0xQmhELFFBQVFTLFVBQVV1RCxlQUFpQixTQUFVeEMsR0FFL0JwQixFQUFFLGtCQUNSMkMsTUFBTSxXQUNOZSxJQUFNMUQsRUFBRSxvQkFBb0J5QyxNQUM1QmtCLFNBQVczRCxFQUFFLGFBQWF5QyxNQUMxQmxCLFFBQVFDLElBQUksS0FDWkQsUUFBUUMsSUFBSWtDLElBQUtDLFNBQVV2QyxHQUMzQk0sUUFBUUMsS0FBSyxDQUNUQyxJQUFPLGtCQUNQQyxLQUFRLENBQ0o2QixJQUFPQSxJQUNQQyxTQUFZQSxTQUNadkMsR0FBTUEsR0FFVlUsUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLE1BQ2JzQixTQUFTSSxhQUFhLE9BQVEsV0FDMUJaLE9BQU9DLFNBQVNDLGlCQVF4Qy9DLEVBQUUsWUFDZ0IsSUFBSUosU0FDVlUiLCJmaWxlIjoiYWNjb3VudC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBBY2NvdW50KCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5hY2NvdW50V3JhcHBlciA9ICQoJy5hZGQtYWNjb3VudC13cmFwcGVyJyk7XHJcbiAgICBzZWxmLmN1cnJ5V3JhcHBlciA9ICQoJy5hY2NvdW50LWN1cnJ5LXdyYXBwZXInKTtcclxuICAgIHNlbGYudG90YWxQcm9wZXJ0eSA9ICQoJy5wcm9wZXJ0eS10b3RhbC13cmFwcGVyJyk7XHJcbiAgICBzZWxmLmRldGFpbHNQcm9wZXJ0eSA9ICQoJy5wcm9wZXJ0eS1kZXRhaWxzLXdyYXBwZXInKTtcclxuICAgIHNlbGYuY2FycnlXcmFwcGVyID0gJCgnLmFjY291bnQtY2FycnktY3Vycnktd3JhcHBlcicpO1xyXG5cclxufTtcclxuXHJcblxyXG5BY2NvdW50LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlblNob3dIaWRlQWRkQWNjb3VudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5TaG93SGlkZUN1cnJ5V3JhcHBlcigpO1xyXG4gICAgc2VsZi5saXN0UHJvcGVydHlUb3RhbFNob3dIaWRlRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuUHJvcGVydHlEZXRhaWxzU2hvd0V2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3R0ZW5Ub2FsQWNjb3VudENsb3NlRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdHRlblByb3BlcnR5RGV0YWlsc0Nsb3NlRXZlbnQoKTtcclxuICAgIHNlbGYuZGVsZXRlQWNjb3VudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5TdWJtaXRBY2NvdW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbmRlbm9taW5hdGlvbkV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3R0ZW5jdXl5ZW5jeVNob3coKTtcclxuICAgIHNlbGYuc2hvd0NvbGxlY3RBc3NldCgpO1xyXG4gICAgc2VsZi5zaG93RGV0YWlsUHJvcGVydHkoKTtcclxuICAgIC8vIHNlbGYubGlzdGVuRWRpdEFjY291bnQoKTtcclxuXHJcbn1cclxuXHJcbkFjY291bnQucHJvdG90eXBlLnNob3dEZXRhaWxQcm9wZXJ0eSA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgJCgnLnVwZGF0ZS1wcm9wZXJ0eScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudGJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudGJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgcGsgPSB0ci5hdHRyKCdkYXRhLWlkJyk7XHJcbiAgICAgICAgJCgnI2FkZC1hY2NvdW50LXBrJykuYXR0cignYWNjb3VudC1waycscGspXHJcbiAgICAgICAgY29uc29sZS5sb2cocGspXHJcbiAgICAgICAgc2VsZi5hY2NvdW50V3JhcHBlci5zaG93KClcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9kZWFsL2FjY291bnRpbmZvLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3BrJzogcGssXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ID0gcmVzdWx0WydkYXRhJ11cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhY2NvdW50KVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2NvdW50R3JvdXAgPSAkKCcuYWNjb3VudC1ib2R5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm0gPSBhY2NvdW50WydwbGF0Zm9ybSddWydQbGF0Zm9ybV9uYW1lJ11cclxuICAgICAgICAgICAgICAgICAgICBpZCA9IGFjY291bnRbJ3BsYXRmb3JtJ11bJ2lkJ11cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwbGF0Zm9ybSlcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IGFjY291bnRbJ3RpdGxlJ11cclxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NrZXkgPSBhY2NvdW50WydhY2Nlc3NrZXknXVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY3JldGtleSA9IGFjY291bnRbJ3NlY3JldGtleSddXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNwbGF0Zm9ybSBvcHRpb25bdmFsdWU9XCIraWQrXCJdXCIpLnByb3AoXCJzZWxlY3RlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgb3B0aW9uID0gJChcIjxvcHRpb24+XCIpLnZhbChpZCkudGV4dChwbGF0Zm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICQoXCIjcGxhdGZvcm1cIikuYXBwZW5kKG9wdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50R3JvdXAuZmluZChcImlucHV0W25hbWU9J2FjY291bnQtbmFtZSddXCIpLnZhbCh0aXRsZSlcclxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50R3JvdXAuZmluZChcImlucHV0W25hbWU9J2FjY2VzcyddXCIpLnZhbChhY2Nlc3NrZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdzY3JlbnQnXVwiKS52YWwoc2VjcmV0a2V5KVxyXG4gICAgICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VsZi5saXN0ZW5TdWJtaXRBY2NvdW50KHBrKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFjY291bnQpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHBsID0gdGVtcGxhdGUoJ2FkZC1hY2NvdW50SW5mbycse1wiYWNjb3VudFwiOmFjY291bnR9KVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRwbClcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgYWNjb3VudEdyb3VwID0gJCgnI2FjY291bnQtYm9keScpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWNjb3VudEdyb3VwLmFwcGVuZCh0cGwpXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuQWNjb3VudC5wcm90b3R5cGUubGlzdGVuU2hvd0hpZGVBZGRBY2NvdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGNsb3NlQnRuID0gJCgnLmNsb3NlLWJ0bicpO1xyXG4gICAgJCgnI2FkZC1hY2NvdW50LWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmFjY291bnRXcmFwcGVyLnNob3coKVxyXG4gICAgfSk7XHJcblxyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3NzZnNkZlwiKVxyXG4gICAgICAgIHNlbGYuYWNjb3VudFdyYXBwZXIuaGlkZSgpXHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICB9KTtcclxuICAgICQoJy5jYW5jZWwnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5hY2NvdW50V3JhcHBlci5oaWRlKCk7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICB9KVxyXG5cclxufTtcclxuXHJcblxyXG5BY2NvdW50LnByb3RvdHlwZS5saXN0ZW5kZW5vbWluYXRpb25FdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAkKCcjYWNjb3VudC1jdXJyeS1jb25maWd1cmF0aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy5kZW5vbWluYXRpb24tbWFzay1hY2NvdW50LXdyYXBwZXInKS5zaG93KCk7XHJcbiAgICAgICAgJCgnLmRlbm9taW5hdGlvbi1hY2NvdW50LXdyYXBwZXInKS5zaG93KCk7XHJcbiAgICB9KVxyXG5cclxuICAgICQoJy5kZW5vbWluYXRpb24tY2xvc2UtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy5kZW5vbWluYXRpb24tbWFzay1hY2NvdW50LXdyYXBwZXInKS5oaWRlKCk7XHJcbiAgICAgICAgJCgnLmRlbm9taW5hdGlvbi1hY2NvdW50LXdyYXBwZXInKS5oaWRlKCk7XHJcblxyXG4gICAgfSk7XHJcbiAgICAkKCcuY2FuY2VsJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy5kZW5vbWluYXRpb24tbWFzay1hY2NvdW50LXdyYXBwZXInKS5oaWRlKCk7XHJcbiAgICAgICAgJCgnLmRlbm9taW5hdGlvbi1hY2NvdW50LXdyYXBwZXInKS5oaWRlKCk7XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuQWNjb3VudC5wcm90b3R5cGUubGlzdFByb3BlcnR5VG90YWxTaG93SGlkZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGNsb3NlQnRuID0gJCgnLmNsb3NlLWJ0bicpO1xyXG4gICAgJCgnI3Byb3BlcnR5LXRvdGFsJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYudG90YWxQcm9wZXJ0eS5zaG93KClcclxuICAgIH0pO1xyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYudG90YWxQcm9wZXJ0eS5oaWRlKClcclxuICAgIH0pO1xyXG4gICAgJCgnLmNhbmNlbCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnRvdGFsUHJvcGVydHkuaGlkZSgpO1xyXG4gICAgfSlcclxuXHJcbn07XHJcblxyXG5BY2NvdW50LnByb3RvdHlwZS5saXN0ZW5TaG93SGlkZUN1cnJ5V3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBjbG9zZUJ0biA9ICQoJy5jbG9zZS1idG4nKTtcclxuICAgICQoJy5hZGQtcHJvcGVydHknKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jdXJyeVdyYXBwZXIuc2hvdygpXHJcbiAgICAgICAgdmFyIGN1cnJlbnRidG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRidG4ucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHBrID0gdHIuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgICAgIHNlbGYuY2hhcmdlQWNjb3VudEV2ZW50KHBrKVxyXG4gICAgfSk7XHJcbiAgICBjbG9zZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jdXJyeVdyYXBwZXIuaGlkZSgpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuY2FuY2VsJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuY3VycnlXcmFwcGVyLmhpZGUoKTtcclxuICAgIH0pXHJcblxyXG59O1xyXG5cclxuQWNjb3VudC5wcm90b3R5cGUubGlzdHRlblRvYWxBY2NvdW50Q2xvc2VFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5wcm9wZXJ0eS1jbG9zZS1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLnByb3BlcnR5LXRvdGFsLXdyYXBwZXInKS5oaWRlKClcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgIH0pXHJcbn07XHJcblxyXG5BY2NvdW50LnByb3RvdHlwZS5saXN0dGVuUHJvcGVydHlEZXRhaWxzQ2xvc2VFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5wcm9wZXJ0eS1jbG9zZS1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLnByb3BlcnR5LWRldGFpbHMtd3JhcHBlcicpLmhpZGUoKVxyXG4gICAgfSlcclxufTtcclxuXHJcbkFjY291bnQucHJvdG90eXBlLmxpc3RlblByb3BlcnR5RGV0YWlsc1Nob3dFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBjbG9zZUJ0biA9ICQoJy5jbG9zZS1idG4nKTtcclxuICAgICQoJy5jaGVjay1wcm9wZXJ0eScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmRldGFpbHNQcm9wZXJ0eS5zaG93KClcclxuICAgICAgICB2YXIgY3VycmVudGJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudGJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgcGsgPSB0ci5hdHRyKCdkYXRhLWlkJyk7XHJcbiAgICAgICAgJCgnLnJlZmVyc2gnKS5hdHRyKCdwcm9wZXJ0eS1pZCcsIHBrKVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHBrKVxyXG4gICAgICAgIHhmemFqYXgucG9zdChcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAndXJsJzogJy9kZWFsL3Nob3dhc3NlcnQvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAncGsnOiBwa1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGF0YXMgPSByZXN1bHRbJ2RhdGEnXVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gcmVzdWx0WydkYXRhJ11cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9wZXJ0aWVzKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBwbGF0Zm9ybSA9IGRhdGFzWydQbGF0Zm9ybV9uYW1lJ10gIC8v5bmz5Y+w5ZCN56ewXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGFzc2V0X2NoYW5nZSA9IGRhdGFzWydhc3NldF9jaGFuZ2UnXSAgLy/ku4rml6XotYTkuqflj5jljJZcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgb3JpZ2luYWxfYXNzZXRzID0gZGF0YXNbJ29yaWdpbmFsX2Fzc2V0cyddIC8v5Yid5aeL6LWE5LqnXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGhpc3RvcnlfcHJvZml0ID0gZGF0YXNbJ2hpc3RvcnlfcHJvZml0J10gLy/ljoblj7Lnm4jkuo9cclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgd2l0aGRyYXdfcmVjb3JkID0gZGF0YXNbJ3dpdGhkcmF3X3JlY29yZCddIC8v5oC75o+Q5biBXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGFzc2V0c19kaWN0ID0gZGF0YXNbJ2Fzc2V0c19kaWN0J10gICAvL+i1hOS6p+ihqFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBwcm9maXRfbG9zc19kaWN0ID0gZGF0YXNbJ3Byb2ZpdF9sb3NzX2RpY3QnXSAvL+aNn+ebiuihqFxyXG4gICAgICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJCgnLnByb3BlcnR5LWFjY291bnQtdmFsdWUnKS50ZXh0KHBsYXRmb3JtKSAgLy/mj5LlhaXlubPlj7DliLBodG1s5LitXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGRldGFpbHNHcm91cCA9ICQoJy5wcm9wZXJ0eS1kZXRhaWxzLXdyYXBwZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRldGFpbHNHcm91cC5maW5kKCcuYXNzZXRzLWNoYW5nZSAubnVtYmVyJykudGV4dChhc3NldF9jaGFuZ2VbJ251bWJlciddKSAvL+i1hOS6p+WPmOWMllxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRldGFpbHNHcm91cC5maW5kKCcuYXNzZXRzLWNoYW5nZSAucGVyY2VudGFnZScpLnRleHQoYXNzZXRfY2hhbmdlWydwZXJjZW50J10pIC8v6LWE5Lqn5Y+Y5YyWXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGV0YWlsc0dyb3VwLmZpbmQoJy5pbml0aWFsLWFzc2V0IC5udW1iZXInKS50ZXh0KG9yaWdpbmFsX2Fzc2V0cykgLy/liJ3lp4vlj5jljJZcclxuICAgICAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRldGFpbHNHcm91cC5maW5kKCcuY3VycnktYWNjb3VudC10b3RhbCAudG90YWwtbnVtYmVyJykudGV4dCh3aXRoZHJhd19yZWNvcmQpIC8v5oC76K6h5o+Q5biBXHJcbiAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICAvLyBkZXRhaWxzR3JvdXAuZmluZCgnLmhpc3RvcnktcHJvZml0ICAubnVtYmVyJykudGV4dChoaXN0b3J5X3Byb2ZpdFsnbnVtYmVyJ10pIC8v5oC76K6h5o+Q5biBXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGV0YWlsc0dyb3VwLmZpbmQoJy5oaXN0b3J5LXByb2ZpdCAucGVyY2VudGFnZScpLnRleHQoaGlzdG9yeV9wcm9maXRbJ3BlcmNlbnQnXSkgLy/mgLvorqHmj5DluIFcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHRwbDEgPSB0ZW1wbGF0ZShcIlwiLHtcImFzc2V0c19kaWN0XCI6YXNzZXRzX2RpY3R9KVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciB0cGwyID0gdGVtcGxhdGUoXCJcIix7XCJwcm9maXRfbG9zc19kaWN0XCI6cHJvZml0X2xvc3NfZGljdH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHRwbCA9IHRlbXBsYXRlKFwiZGV0YWlscy1pdGVtXCIse1wiZGF0YXNcIjpkYXRhc30pXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGRldGFpbHNHcm91cCA9ICQoXCIucHJvcGVydHktZGV0YWlscy13cmFwcGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRldGFpbHNHcm91cC5hcHBlbmQodHBsKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgncHJvcGVydHktZGV0YWlscycseydwcm9wZXJ0aWVzJzpwcm9wZXJ0aWVzfSlcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYWNjb3VudFByb3BlcnR5ID0gJCgnI3Byb3BlcnR5LWRldGFpbHMtaWRzJylcclxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50UHJvcGVydHkuYXBwZW5kKHRwbClcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgZGV0YWlsc1RhYiA9ICQoJyNwcm9wZXJ0eS1kZXRhaWxzJylcclxuICAgICAgICAgICAgICAgICAgICAvLyAvLyB2YXIgdGQgPSBkZXRhaWxzVGFiLmZpbmQoXCJ0Ym9keSB0ciB0ZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICQuZWFjaChhc3NldHNfZGljdCwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coa2V5KVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAkLmVhY2godmFsdWUsIGZ1bmN0aW9uIChqLCBrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhrKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGNsb3NlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmRldGFpbHNQcm9wZXJ0eS5oaWRlKCk7XHJcbiAgICB9KTtcclxuICAgICQoJy5jYW5jZWwnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5kZXRhaWxzUHJvcGVydHkuaGlkZSgpO1xyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcblxyXG5BY2NvdW50LnByb3RvdHlwZS5zaG93Q29sbGVjdEFzc2V0ID0gZnVuY3Rpb24oKXtcclxuICAkKCcjcHJvcGVydHktdG90YWwnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgJ3VybCc6Jy9kZWFsL3Nob3djb2xsZWN0YXNzZXQvJyxcclxuICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcclxuICAgICAgICAgfVxyXG4gICAgIH0pXHJcbiAgfSlcclxufVxyXG5cclxuQWNjb3VudC5wcm90b3R5cGUuZGVsZXRlQWNjb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICQoJy5kZWxldGUtcHJvcGVydHknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRidG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRidG4ucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHBrID0gdHIuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0Q29uZmlybSh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICfmgqjnoa7lrprliKDpmaTov5nkuKrotKbmiLflkJfvvJ8nLFxyXG4gICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAndXJsJzogJy9kZWFsL2RlbGV0ZWFjY291bnQvJyxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BrJzogcGssXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5BY2NvdW50LnByb3RvdHlwZS5saXN0ZW5FZGl0QWNjb3VudCA9IGZ1bmN0aW9uIChwaykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGNvbmZpcm1CdG4gPSAkKCcuY29uZmlybScpO1xyXG4gICAgY29uZmlybUJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFjY291bnQgPSAkKCcuYWNjb3VudC1ib2R5Jyk7XHJcbiAgICAgICAgcGxhdGZvcm0gPSAkKCcjcGxhdGZvcm0nKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLnZhbCgpXHJcbiAgICAgICAgdGl0bGUgPSBhY2NvdW50LmZpbmQoXCJpbnB1dFtuYW1lPSdhY2NvdW50LW5hbWUnXVwiKS52YWwoKVxyXG4gICAgICAgIGFjY2Vzc2tleSA9IGFjY291bnQuZmluZChcImlucHV0W25hbWU9J2FjY2VzcyddXCIpLnZhbCgpXHJcbiAgICAgICAgc2VjcmV0a2V5ID0gYWNjb3VudC5maW5kKFwiaW5wdXRbbmFtZT0nc2NyZW50J11cIikudmFsKClcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9kZWFsL2VkaXRhY2NvdW50LycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3BsYXRmb3JtJzogcGxhdGZvcm0sXHJcbiAgICAgICAgICAgICAgICAndGl0bGUnOiB0aXRsZSxcclxuICAgICAgICAgICAgICAgICdhY2Nlc3NrZXknOiBhY2Nlc3NrZXksXHJcbiAgICAgICAgICAgICAgICAnc2VjcmV0a2V5Jzogc2VjcmV0a2V5LFxyXG4gICAgICAgICAgICAgICAgJ3BrJzogcGssXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3MoXCLmt7vliqDotKbmiLfmiJDlip/vvIFcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KVxyXG5cclxufVxyXG5BY2NvdW50LnByb3RvdHlwZS5saXN0ZW5TdWJtaXRBY2NvdW50ID0gZnVuY3Rpb24gKHBrKSB7XHJcbiAgICB2YXIgY29uZmlybUJ0biA9ICQoJy5jb25maXJtJyk7XHJcblxyXG4gICAgY29uZmlybUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICB2YXIgcGsgPSAkKHRoaXMpLmF0dHIoJ2FjY291bnQtcGsnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHBrKVxyXG4gICAgICAgIHZhciBhY2NvdW50ID0gJCgnLmFjY291bnQtYm9keScpO1xyXG4gICAgICAgIHBsYXRmb3JtID0gJCgnI3BsYXRmb3JtJykuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS52YWwoKVxyXG4gICAgICAgIHRpdGxlID0gYWNjb3VudC5maW5kKFwiaW5wdXRbbmFtZT0nYWNjb3VudC1uYW1lJ11cIikudmFsKClcclxuICAgICAgICBhY2Nlc3NrZXkgPSBhY2NvdW50LmZpbmQoXCJpbnB1dFtuYW1lPSdhY2Nlc3MnXVwiKS52YWwoKVxyXG4gICAgICAgIHNlY3JldGtleSA9IGFjY291bnQuZmluZChcImlucHV0W25hbWU9J3NjcmVudCddXCIpLnZhbCgpXHJcbiAgICAgICAgdmFyIHVybCA9ICcnXHJcbiAgICAgICAgaWYgKHBrKSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcvZGVhbC9lZGl0YWNjb3VudC8nXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXJsID0gJy9kZWFsL2FkZGFjY291bnQvJ1xyXG4gICAgICAgIH1cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogdXJsLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdwbGF0Zm9ybSc6IHBsYXRmb3JtLFxyXG4gICAgICAgICAgICAgICAgJ3RpdGxlJzogdGl0bGUsXHJcbiAgICAgICAgICAgICAgICAnYWNjZXNza2V5JzogYWNjZXNza2V5LFxyXG4gICAgICAgICAgICAgICAgJ3NlY3JldGtleSc6IHNlY3JldGtleSxcclxuICAgICAgICAgICAgICAgICdwayc6IHBrLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzKFwi57yW6L6R6LSm5oi35oiQ5Yqf77yBXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2VzcyhcIua3u+WKoOi0puaIt+aIkOWKn++8gVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbkFjY291bnQucHJvdG90eXBlLmNoYXJnZUFjY291bnRFdmVudCA9IGZ1bmN0aW9uIChwaykge1xyXG4gICAgdmFyIGNvbmZpcm1CdG4gPSAkKCcuY3VycnktY29uZmlybScpXHJcbiAgICBjb25maXJtQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBudW0gPSAkKCcjY3VycmVuY3ktbnVtYmVyJykudmFsKClcclxuICAgICAgICBjdXJyZW5jeSA9ICQoJyNjdXJyZW5jeScpLnZhbCgpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqXCIpXHJcbiAgICAgICAgY29uc29sZS5sb2cobnVtLCBjdXJyZW5jeSwgcGspXHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvZGVhbC9jaGFyZ2VhY2NvdW50LycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3BrJzogcGssXHJcbiAgICAgICAgICAgICAgICAnbnVtJzogbnVtLFxyXG4gICAgICAgICAgICAgICAgJ2N1cnJlbmN5JzogY3VycmVuY3ksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3MoXCLlop7otYTmiJDlip9cIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5BY2NvdW50LnByb3RvdHlwZS5saXN0dGVuY3V5eWVuY3lTaG93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGNsb3NlQnRuID0gJCgnLmNsb3NlLWJ0bicpO1xyXG4gICAgJCgnLm1lbnRpb24tbW9uZXknKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jYXJyeVdyYXBwZXIuc2hvdygpO1xyXG4gICAgICAgIHZhciBjdXJyZW50YnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50YnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciBwayA9IHRyLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICBzZWxmLmxpc3RlbldpdGhEcmF3KHBrKVxyXG5cclxuICAgIH0pO1xyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuY2FycnlXcmFwcGVyLmhpZGUoKVxyXG4gICAgfSk7XHJcbiAgICAkKCcuY2FuY2VsJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuY2FycnlXcmFwcGVyLmhpZGUoKTtcclxuICAgIH0pXHJcblxyXG5cclxufTtcclxuXHJcbkFjY291bnQucHJvdG90eXBlLmxpc3RlbldpdGhEcmF3ID0gZnVuY3Rpb24gKHBrKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYnRuID0gJCgnLmNhcnJ5LWNvbmZpcm0nKVxyXG4gICAgYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBudW0gPSAkKCcjY3VycmVuY3ktbnVtYmVyJykudmFsKClcclxuICAgICAgICBjdXJyZW5jeSA9ICQoJyNjdXJyZW5jeScpLnZhbCgpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqXCIpXHJcbiAgICAgICAgY29uc29sZS5sb2cobnVtLCBjdXJyZW5jeSwgcGspXHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvZGVhbC93aXRoZHJhdy8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdudW0nOiBudW0sXHJcbiAgICAgICAgICAgICAgICAnY3VycmVuY3knOiBjdXJyZW5jeSxcclxuICAgICAgICAgICAgICAgICdwayc6IHBrLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzKFwi5o+Q5biB5oiQ5YqfXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhY2NvdW50ID0gbmV3IEFjY291bnQoKTtcclxuICAgIGFjY291bnQucnVuKCk7XHJcbn0pIl19
