function Girding(){}function Robot(){var t=this;t.robotWrapper=$(".robot-wrapper"),t.tradingOnWrapper=$(".trading-on"),t.tradingStrategyWrapper=$(".trading-strategy"),t.setStrategyWrapper=$(".set-strategy"),t.setRiskWrapper=$(".set-risk-strategy")}Girding.prototype.run=function(){},Girding.prototype.modalRun=function(){var t=this,e=new Array(t.step1,t.stept2);t.moadlDataControl("#modal",e,t.modalCallback())},Girding.prototype.controlPageToggle=function(t,e,n,o){var r=e.length;r<=1||(1==o?(n==r-2&&$(t+" .next-page").text("提交"),0==n&&1<r&&$(t+" .previous-page").removeClass("hidden"),$(t+" .page-index").text((++n).toString())):(n==r-1&&$(t+" .next-page").text("下一页"),1==n&&$(t+" .previous-page").addClass("hidden"),$(t+" .page-index").text((--n).toString())),$(t+" .modal-body").html(e[n]))},Girding.prototype.moadlDataControl=function(e,n,t){var o=this;$(e+" .modal-body").html(n[0]),n.length<=1&&$(e+" .next-page").text("提交"),$(e+" .next-page").click(function(){if(o.modalCallback(),"提交"!=$(this).text()){var t=parseInt($(e+" .page-index").text());o.controlPageToggle(e,n,t,1)}else $(e).modal("hide")}),$(e+" .previous-page").click(function(){var t=parseInt($(e+" .page-index").text());controlPageToggle(e,n,t,-1)}),$(e).on("hidden.bs.modal",function(){$(e+" .page-index").text((0).toString()),n.length<=1?$(e+" .next-page").text("提交"):$(e+" .next-page").text("下一页"),$(e+" .modal-body").html(n[0]),$(e+" .previous-page").addClass("hidden")})},Girding.prototype.modalCallback=function(){alert("提交成功")},$(function(){(new Girding).run()}),Robot.prototype.run=function(){var t=this;t.listenClickRobotEvent(),t.listenCloseRobotEvent(),t.loadstepEvent(),t.listenTradingRobotEvent(),t.listenCreatTradingEvent(),t.listenparameterEven()},Robot.prototype.initYstepEvent=function(){$(".ystep").setStep(1)},Robot.prototype.loadstepEvent=function(){$(".ystep").loadStep({size:"large",color:"green",steps:[{title:"选择交易对"},{title:"选择交易策略"},{title:"设置策略参数"},{title:"设置风险策略"}]})},Robot.prototype.listenClickRobotEaaavent=function(){var t=this,e=$("#btnPre"),n=$("#btnNext"),o=new Array(t.tradingOnWrapper,t.tradingStrategyWrapper,t.setStrategyWrapper,t.setRiskWrapper),r=(o.length,0),a=0;$("#create-robot").on("click",function(){0==a?(t.robotWrapper.show(),o[r].show(),a++):(console.log(a),t.robotWrapper.show()),$("#btnPre").unbind(),e.click(function(){console.log("num"),r<=0?r=0:(r--,$("#btnNext").text("下一步")),$(".ystep").prevStep(),console.log("val",o);for(var t=0;t<o.length;t++)r===t?o[t].show():o[t].hide()}),$("#btnNext").unbind(),n.click(function(){console.log("next"),2<=r?($("#btnNext").text("完成"),r=3):(r++,$("#btnNext").text("下一步")),$(".ystep").nextStep(),$.each(o,function(t,e){r===t?e.show():e.hide()})}),$(".warninguser label").on("click",function(){$(this).toggleClass("btn-success")})})},Robot.prototype.listenClickRobotEvent=function(){var t=this,e=$("#btnPre"),n=$("#btnNext"),o=new Array(t.tradingOnWrapper,t.tradingStrategyWrapper,t.setStrategyWrapper,t.setRiskWrapper),r=(o.length,0),a=0;$("#create-robot").on("click",function(){0==a?(t.robotWrapper.show(),o[r].show(),a++):(console.log(a),t.robotWrapper.show()),console.log("open1"),$("#btnPre").unbind(),e.click(function(){console.log("num"),r<=0?r=0:(r--,$("#btnNext").text("下一步")),$(".ystep").prevStep(),console.log("val",o);for(var t=0;t<o.length;t++)r===t?o[t].show():o[t].hide()}),$("#btnNext").unbind(),n.click(function(){var t=$("#curry").find(" option:selected").val(),e=$("#market").find(" option:selected").val(),n=t+"/"+e;$(".trading-strategy .strategy-curry .curry").text(n);$(".strategy-name .strategy-button button").unbind(),$(".strategy-name .strategy-button button").on("click",function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).text();console.log(t),$(".set-strategy .strategy-title .curry").text(t)}),$(".set-strategy .strategy-curry .curry").text(t),$(".set-strategy .strategy-curry .curry1").text(e),console.log("next"),2<=r?($("#btnNext").text("完成"),r=3):(r++,$("#btnNext").text("下一步")),$(".ystep").nextStep(),$.each(o,function(t,e){r===t?e.show():e.hide()})}),$(".warninguser label").on("click",function(){$(this).toggleClass("btn-success")})})},Robot.prototype.listenCloseRobotEvent=function(){var t=$(".close-btn"),e=$(".robot-wrapper");t.click(function(){e.hide()})},Robot.prototype.listenCreatTradingEvent=function(){$(".update-property").on("click",function(){$(".tradingParticulars").show(),$(".tradingShade").show()})},Robot.prototype.listenTradingRobotEvent=function(){var t=$(".trading-close-btn"),e=$(".tradingParticulars"),n=$(".tradingShade"),o=$(".trading-loading"),r=$(".trading-ending"),a=$(".trading-container"),i=$(".trading-ending-table");t.click(function(){e.hide(),n.hide()}),r.click(function(){a.hide(),i.show(),o.toggleClass("green"),r.toggleClass("green")}),o.click(function(){a.show(),i.hide(),r.toggleClass("green"),o.toggleClass("green")})},Robot.prototype.listenparameterEven=function(){var t=$(".parameter-configuration"),e=$(".parameter-close-btn"),n=$(".delete-property"),o=$(".tradingShade");n.click(function(){t.show(),o.show()}),e.click(function(){t.hide(),o.hide()})},Robot.prototype.getAccountInfoEvent=function(){var t=$(".strategy-parameters");id=t.find("select['name='account']").val(),console.log(id)},Robot.prototype.listenClickStragerty=function(){$(".deal-strategy").each(function(t,e){var n=$(e);n.click(function(){n.addClass("active").siblings().removeClass("active")})})},$(function(){(new Robot).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdpcmRpbmcuanMiXSwibmFtZXMiOlsiR2lyZGluZyIsIlJvYm90Iiwic2VsZiIsInRoaXMiLCJyb2JvdFdyYXBwZXIiLCIkIiwidHJhZGluZ09uV3JhcHBlciIsInRyYWRpbmdTdHJhdGVneVdyYXBwZXIiLCJzZXRTdHJhdGVneVdyYXBwZXIiLCJzZXRSaXNrV3JhcHBlciIsInByb3RvdHlwZSIsInJ1biIsIm1vZGFsUnVuIiwibW9kYWxEYXRhQXJyYXkiLCJBcnJheSIsInN0ZXAxIiwic3RlcHQyIiwibW9hZGxEYXRhQ29udHJvbCIsIm1vZGFsQ2FsbGJhY2siLCJjb250cm9sUGFnZVRvZ2dsZSIsIm1vZGFsU2VsZWN0IiwiY3VycmVudFBhZ2VJbmRleCIsImRpcmVjdGlvbiIsImFycmF5TGVuZ3RoIiwibGVuZ3RoIiwidGV4dCIsInJlbW92ZUNsYXNzIiwidG9TdHJpbmciLCJhZGRDbGFzcyIsImh0bWwiLCJjbGljayIsInBhcnNlSW50IiwibW9kYWwiLCJvbiIsImFsZXJ0IiwibGlzdGVuQ2xpY2tSb2JvdEV2ZW50IiwibGlzdGVuQ2xvc2VSb2JvdEV2ZW50IiwibG9hZHN0ZXBFdmVudCIsImxpc3RlblRyYWRpbmdSb2JvdEV2ZW50IiwibGlzdGVuQ3JlYXRUcmFkaW5nRXZlbnQiLCJsaXN0ZW5wYXJhbWV0ZXJFdmVuIiwiaW5pdFlzdGVwRXZlbnQiLCJzZXRTdGVwIiwibG9hZFN0ZXAiLCJzaXplIiwiY29sb3IiLCJzdGVwcyIsInRpdGxlIiwibGlzdGVuQ2xpY2tSb2JvdEVhYWF2ZW50IiwiYnRuUHJlIiwiYnRuTmV4dCIsInJvYm90RGF0YUFycmF5IiwibnVtIiwiY3JlYXRyb2JvdGNsaWNrIiwic2hvdyIsImNvbnNvbGUiLCJsb2ciLCJ1bmJpbmQiLCJwcmV2U3RlcCIsImkiLCJoaWRlIiwibmV4dFN0ZXAiLCJlYWNoIiwia2V5IiwidmFsdWUiLCJ0b2dnbGVDbGFzcyIsInRyYW5zYWN0aW9uQ3VycmVuY3kiLCJmaW5kIiwidmFsIiwibWFya2V0dGl0bGUiLCJzaWJsaW5ncyIsInN0cmF0ZWd5dGl0bGUiLCJjbG9zZUJ0biIsInRyYWRpbmdjbG9zZWJ0biIsInRyYWRpbmdQYXJ0aWN1bGFycyIsInRyYWRpbmdTaGFkZSIsInRyYWRpbmdsb2FkaW5nIiwidHJhZGluZ2VuZGluZyIsInRyYWRpbmdjb250YWluZXIiLCJ0cmFkaW5nZW5kaW5ndGFibGUiLCJwYXJhbWV0ZXJjb25maWd1cmF0aW9uIiwicGFyYW1ldGVyY2xvc2VidG4iLCJkZWxldGVwcm9wZXJ0eSIsImdldEFjY291bnRJbmZvRXZlbnQiLCJwYXJhbnRlcnNHcm91cCIsImlkIiwibGlzdGVuQ2xpY2tTdHJhZ2VydHkiLCJpbmRleCIsImVsZW1lbnQiLCJidG4iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFdBb0hULFNBQVNDLFFBQ0wsSUFBSUMsRUFBT0MsS0FDWEQsRUFBS0UsYUFBZUMsRUFBRSxrQkFDdEJILEVBQUtJLGlCQUFtQkQsRUFBRSxlQUMxQkgsRUFBS0ssdUJBQXlCRixFQUFFLHFCQUNoQ0gsRUFBS00sbUJBQXFCSCxFQUFFLGlCQUM1QkgsRUFBS08sZUFBaUJKLEVBQUUsc0JBckg1QkwsUUFBUVUsVUFBVUMsSUFBTSxhQU14QlgsUUFBUVUsVUFBVUUsU0FBVyxXQUN6QixJQUFJVixFQUFPQyxLQUNQVSxFQUFpQixJQUFJQyxNQUFNWixFQUFLYSxNQUFPYixFQUFLYyxRQUNoRGQsRUFBS2UsaUJBQWlCLFNBQVVKLEVBQWdCWCxFQUFLZ0Isa0JBU3pEbEIsUUFBUVUsVUFBVVMsa0JBQW9CLFNBQVVDLEVBQWFQLEVBQWdCUSxFQUFrQkMsR0FDM0YsSUFDSUMsRUFBY1YsRUFBZVcsT0FDN0JELEdBQWUsSUFFRixHQUFiRCxHQUVJRCxHQUFvQkUsRUFBYyxHQUNsQ2xCLEVBQUVlLEVBQWMsZUFBb0JLLEtBQUssTUFJckIsR0FBcEJKLEdBQXVDLEVBQWRFLEdBQ3pCbEIsRUFBRWUsRUFBYyxtQkFBd0JNLFlBQVksVUFHeERyQixFQUFFZSxFQUFjLGdCQUFxQkssUUFBUUosR0FB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LE9BQ1ZVIiwiZmlsZSI6ImdpcmRpbmcubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gR2lyZGluZygpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbn07XHJcblxyXG5HaXJkaW5nLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyBzZWxmLm1vZGFsUnVuKCk7XHJcbiAgICAvLyBzZWxmLmxpc3RlblN0ZXBzRXZlbnQoKVxyXG59O1xyXG5cclxuR2lyZGluZy5wcm90b3R5cGUubW9kYWxSdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgbW9kYWxEYXRhQXJyYXkgPSBuZXcgQXJyYXkoc2VsZi5zdGVwMSwgc2VsZi5zdGVwdDIpO1xyXG4gICAgc2VsZi5tb2FkbERhdGFDb250cm9sKFwiI21vZGFsXCIsIG1vZGFsRGF0YUFycmF5LCBzZWxmLm1vZGFsQ2FsbGJhY2soKSlcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIG1vZGFsU2VsZWN0IG1vZGFs6YCJ5oup56ym77yM5pys5L6L5Li64oCcI215TW9kYWzigJ1cclxuICogQHBhcmFtIG1vZGFsRGF0YUFycmF5IGh0bWzku6PnoIHlrZfnrKbkuLLmlbDnu4RcclxuICogQHBhcmFtIGN1cnJlbnRQYWdlSW5kZXgg5b2T5YmN6aG156CBXHJcbiAqIEBwYXJhbSBkaXJlY3Rpb24gMeihqOekuuS4i+S4gOmhteaWueWQke+8jC0x6KGo56S65LiK5LiA6aG15pa55ZCRXHJcbiAqL1xyXG5HaXJkaW5nLnByb3RvdHlwZS5jb250cm9sUGFnZVRvZ2dsZSA9IGZ1bmN0aW9uIChtb2RhbFNlbGVjdCwgbW9kYWxEYXRhQXJyYXksIGN1cnJlbnRQYWdlSW5kZXgsIGRpcmVjdGlvbikge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGFycmF5TGVuZ3RoID0gbW9kYWxEYXRhQXJyYXkubGVuZ3RoO1xyXG4gICAgaWYgKGFycmF5TGVuZ3RoIDw9IDEpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKGRpcmVjdGlvbiA9PSAxKSB7XHJcbiAgICAgICAgLy/lpoLmnpzlvZPliY3pobXmmK/lgJLmlbDnrKzkuozpobXvvIzliJnlsIbkuIvkuIDpobXorr7nva7kuLrlsL7pobVcclxuICAgICAgICBpZiAoY3VycmVudFBhZ2VJbmRleCA9PSBhcnJheUxlbmd0aCAtIDIpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLmj5DkuqRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WmguaenOW9k+WJjemhteaYr+mmlumhte+8jOa3u+WKoOS4iuS4gOmhtVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ID09IDAgJiYgYXJyYXlMZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnByZXZpb3VzLXBhZ2VcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5pu05o2ibW9kYWwtYm9keeWSjOmhteeggVxyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnBhZ2UtaW5kZXhcIikudGV4dCgoKytjdXJyZW50UGFnZUluZGV4KS50b1N0cmluZygpKTtcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5tb2RhbC1ib2R5XCIpLmh0bWwobW9kYWxEYXRhQXJyYXlbY3VycmVudFBhZ2VJbmRleF0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL+WmguaenOW9k+WJjemhteaYr+WwvumhtVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ID09IGFycmF5TGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5uZXh0LXBhZ2VcIikudGV4dChcIuS4i+S4gOmhtVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5aaC5p6c5b2T5YmN6aG15piv5q2j5pWw56ys5LqM6aG1LOWImeWwhuS4iuS4gOmhteiuvue9ruS4uummlumhtVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ID09IDEpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucHJldmlvdXMtcGFnZVwiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/mm7TmjaJtb2RhbC1ib2R55ZKM6aG156CBXHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCgtLWN1cnJlbnRQYWdlSW5kZXgpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm1vZGFsLWJvZHlcIikuaHRtbChtb2RhbERhdGFBcnJheVtjdXJyZW50UGFnZUluZGV4XSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIG1vZGFsU2VsZWN0IG1vZGFs6YCJ5oup56ymXHJcbiAqIEBwYXJhbSBtb2RhbERhdGFBcnJheSBodG1s5Luj56CB5a2X56ym5Liy5pWw57uEXHJcbiAqIEBwYXJhbSBtb2RhbENhbGxiYWNrIG1vZGFs5Zue6LCD5Ye95pWwXHJcbiAqL1xyXG5HaXJkaW5nLnByb3RvdHlwZS5tb2FkbERhdGFDb250cm9sID0gZnVuY3Rpb24gKG1vZGFsU2VsZWN0LCBtb2RhbERhdGFBcnJheSwgbW9kYWxDYWxsYmFjaykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy/liJ3lp4vljJbmqKHmgIHmoYbpppbpobXmlbDmja5cclxuICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm1vZGFsLWJvZHlcIikuaHRtbChtb2RhbERhdGFBcnJheVswXSk7XHJcbiAgICBpZiAobW9kYWxEYXRhQXJyYXkubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5uZXh0LXBhZ2VcIikudGV4dChcIuaPkOS6pFwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+eCueWHu+S4i+S4gOmhtVxyXG4gICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+iwg+eUqOWbnuiwg+WHveaVsFxyXG4gICAgICAgIHNlbGYubW9kYWxDYWxsYmFjaygpXHJcbiAgICAgICAgaWYgKCQodGhpcykudGV4dCgpID09IFwi5o+Q5LqkXCIpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCkubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+iOt+WPluW9k+WJjemhteeggVxyXG4gICAgICAgIHZhciBjdXJyZW50UGFnZUluZGV4ID0gcGFyc2VJbnQoJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCkpO1xyXG4gICAgICAgIHNlbGYuY29udHJvbFBhZ2VUb2dnbGUobW9kYWxTZWxlY3QsIG1vZGFsRGF0YUFycmF5LCBjdXJyZW50UGFnZUluZGV4LCAxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8v54K55Ye75LiK5LiA6aG1XHJcbiAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wcmV2aW91cy1wYWdlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+iOt+WPluW9k+WJjemhteeggVxyXG4gICAgICAgIHZhciBjdXJyZW50UGFnZUluZGV4ID0gcGFyc2VJbnQoJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCkpO1xyXG4gICAgICAgIGNvbnRyb2xQYWdlVG9nZ2xlKG1vZGFsU2VsZWN0LCBtb2RhbERhdGFBcnJheSwgY3VycmVudFBhZ2VJbmRleCwgLTEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy/lhbPpl63mqKHmgIHmoYbml7bvvIzph43nva7kuLrpppbpobVcclxuICAgICQobW9kYWxTZWxlY3QpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCgwKS50b1N0cmluZygpKTtcclxuICAgICAgICBpZiAobW9kYWxEYXRhQXJyYXkubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLmj5DkuqRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLkuIvkuIDpobVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm1vZGFsLWJvZHlcIikuaHRtbChtb2RhbERhdGFBcnJheVswXSk7XHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucHJldmlvdXMtcGFnZVwiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbkdpcmRpbmcucHJvdG90eXBlLm1vZGFsQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBhbGVydChcIuaPkOS6pOaIkOWKn1wiKTtcclxufVxyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGdpcmQgPSBuZXcgR2lyZGluZygpO1xyXG4gICAgZ2lyZC5ydW4oKTtcclxufSlcclxuXHJcblxyXG5mdW5jdGlvbiBSb2JvdCgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucm9ib3RXcmFwcGVyID0gJCgnLnJvYm90LXdyYXBwZXInKTtcclxuICAgIHNlbGYudHJhZGluZ09uV3JhcHBlciA9ICQoJy50cmFkaW5nLW9uJyk7XHJcbiAgICBzZWxmLnRyYWRpbmdTdHJhdGVneVdyYXBwZXIgPSAkKCcudHJhZGluZy1zdHJhdGVneScpO1xyXG4gICAgc2VsZi5zZXRTdHJhdGVneVdyYXBwZXIgPSAkKCcuc2V0LXN0cmF0ZWd5Jyk7XHJcbiAgICBzZWxmLnNldFJpc2tXcmFwcGVyID0gJCgnLnNldC1yaXNrLXN0cmF0ZWd5Jyk7XHJcblxyXG59O1xyXG5cclxuUm9ib3QucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIHNlbGYuaW5pdFlzdGVwRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuQ2xpY2tSb2JvdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNsb3NlUm9ib3RFdmVudCgpO1xyXG4gICAgc2VsZi5sb2Fkc3RlcEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblRyYWRpbmdSb2JvdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNyZWF0VHJhZGluZ0V2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbnBhcmFtZXRlckV2ZW4oKTtcclxuICAgIC8vIHNlbGYubGlzdGVuQ2xpY2tTdHJhZ2VydHkoKTtcclxuICAgIC8vIHNlbGYuZ2V0QWNjb3VudEluZm9FdmVudCgpO1xyXG5cclxufTtcclxuXHJcblJvYm90LnByb3RvdHlwZS5pbml0WXN0ZXBFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8v5qC55o2ualF1ZXJ56YCJ5oup5Zmo5om+5Yiw6ZyA6KaB5Yqg6L29eXN0ZXDnmoTlrrnlmahcclxuLy9sb2FkU3RlcCDmlrnms5Xlj6/ku6XliJ3lp4vljJZ5c3RlcFxyXG5cclxuICAgICQoXCIueXN0ZXBcIikuc2V0U3RlcCgxKTtcclxuXHJcbn07XHJcblJvYm90LnByb3RvdHlwZS5sb2Fkc3RlcEV2ZW50ID1mdW5jdGlvbigpe1xyXG4gICAgICQoXCIueXN0ZXBcIikubG9hZFN0ZXAoe1xyXG4gICAgICAgIHNpemU6IFwibGFyZ2VcIixcclxuICAgICAgICBjb2xvcjogXCJncmVlblwiLFxyXG4gICAgICAgIHN0ZXBzOiBbe1xyXG4gICAgICAgICAgICB0aXRsZTogXCLpgInmi6nkuqTmmJPlr7lcIixcclxuXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB0aXRsZTogXCLpgInmi6nkuqTmmJPnrZbnlaVcIixcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIuiuvue9ruetlueVpeWPguaVsFwiLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgdGl0bGU6IFwi6K6+572u6aOO6Zmp562W55WlXCIsXHJcbiAgICAgICAgfSxdXHJcbiAgICB9KTtcclxufVxyXG5cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlbkNsaWNrUm9ib3RFYWFhdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdmFyIGJ0blByZSA9ICQoXCIjYnRuUHJlXCIpXHJcbiAgICB2YXIgYnRuTmV4dCA9ICQoXCIjYnRuTmV4dFwiKVxyXG4gICAgdmFyIHJvYm90RGF0YUFycmF5ID0gbmV3IEFycmF5KHNlbGYudHJhZGluZ09uV3JhcHBlciwgc2VsZi50cmFkaW5nU3RyYXRlZ3lXcmFwcGVyLCBzZWxmLnNldFN0cmF0ZWd5V3JhcHBlciwgc2VsZi5zZXRSaXNrV3JhcHBlcilcclxuICAgIHZhciBhcnJheUxlbmd0aCA9IHJvYm90RGF0YUFycmF5Lmxlbmd0aFxyXG4gICAgdmFyIG51bSA9IDA7XHJcbiAgICB2YXIgY3JlYXRyb2JvdGNsaWNrID0gMFxyXG4gICAgLy8gY29uc29sZS5sb2coYXJyYXlMZW5ndGgpXHJcbiAgICAvLyBpZiAoYXJyYXlMZW5ndGggPD0gMSlcclxuICAgIC8vICAgICByZXR1cm47XHJcbiAgICAkKCcjY3JlYXRlLXJvYm90Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChjcmVhdHJvYm90Y2xpY2s9PTApe1xyXG4gICAgICAgICAgICAgc2VsZi5yb2JvdFdyYXBwZXIuc2hvdygpO1xyXG4gICAgICAgICAgICAgIHJvYm90RGF0YUFycmF5W251bV0uc2hvdygpXHJcbiAgICAgICAgICAgICBjcmVhdHJvYm90Y2xpY2srK1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjcmVhdHJvYm90Y2xpY2spXHJcbiAgICAgICAgICAgICBzZWxmLnJvYm90V3JhcHBlci5zaG93KClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoXCIjYnRuUHJlXCIpLnVuYmluZCgpO1xyXG4gICAgICAgIGJ0blByZS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICBjb25zb2xlLmxvZygnbnVtJylcclxuICAgICAgICAgICAgaWYgKG51bTw9MCl7XHJcbiAgICAgICAgICAgICAgIG51bT0wO1xyXG4gICAgICAgICAgICAgICAvLyBsaVtudW1dLnNob3coKS5zaWJsaW5nKCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBudW0tLTtcclxuICAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLnRleHQoJ+S4i+S4gOatpScpXHJcbiAgICAgICAgICAgICAgIC8vIGxpW251bV0uc2hvdygpLnNpYmxpbmcoKS5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v6Lez6L2s5Yiw5LiK5LiA5Liq5q2l6aqkXHJcbiAgICAgICAgICAgICQoXCIueXN0ZXBcIikucHJldlN0ZXAoKTtcclxuXHJcbiAgICAgICAgICAgICBjb25zb2xlLmxvZygndmFsJyxyb2JvdERhdGFBcnJheSlcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wO2k8cm9ib3REYXRhQXJyYXkubGVuZ3RoO2krKyl7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYobnVtPT09IGkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJvYm90RGF0YUFycmF5W2ldLnNob3coKVxyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvYm90RGF0YUFycmF5W2ldLmhpZGUoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcIiNidG5OZXh0XCIpLnVuYmluZCgpO1xyXG4gICAgICAgIGJ0bk5leHQuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbmV4dCcpXHJcbiAgICAgICAgICAgIGlmIChudW0+PTIpe1xyXG4gICAgICAgICAgICAgICAgJCgnI2J0bk5leHQnKS50ZXh0KCflrozmiJAnKVxyXG4gICAgICAgICAgICAgICAgbnVtPTM7XHJcblxyXG5cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBudW0rKztcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0JykudGV4dCgn5LiL5LiA5q2lJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+i3s+i9rOWIsOS4i+S4gOS4quatpemqpFxyXG4gICAgICAgICAgICAkKFwiLnlzdGVwXCIpLm5leHRTdGVwKCk7XHJcbiAgICAgICAgICAgIC8vIHZhciBzdGVwTnVtID0gJChcIi55c3RlcFwiKS5nZXRTdGVwKCk7XHJcbiAgICAgICAgICAgIC8vIHJvYm90RGF0YUFycmF5W3N0ZXBOdW0rMV0uc2hvdygpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0ZXBOdW0pXHJcbiAgICAgICAgICAgICQuZWFjaChyb2JvdERhdGFBcnJheSxmdW5jdGlvbiAoa2V5LHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZihudW09PT0ga2V5KXtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zaG93KClcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5oaWRlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLndhcm5pbmd1c2VyIGxhYmVsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2J0bi1zdWNjZXNzJylcclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pXHJcblxyXG5cclxufVxyXG5cclxuXHJcblJvYm90LnByb3RvdHlwZS5saXN0ZW5DbGlja1JvYm90RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHZhciBidG5QcmUgPSAkKFwiI2J0blByZVwiKVxyXG4gICAgdmFyIGJ0bk5leHQgPSAkKFwiI2J0bk5leHRcIilcclxuICAgIHZhciByb2JvdERhdGFBcnJheSA9IG5ldyBBcnJheShzZWxmLnRyYWRpbmdPbldyYXBwZXIsIHNlbGYudHJhZGluZ1N0cmF0ZWd5V3JhcHBlciwgc2VsZi5zZXRTdHJhdGVneVdyYXBwZXIsIHNlbGYuc2V0Umlza1dyYXBwZXIpXHJcbiAgICB2YXIgYXJyYXlMZW5ndGggPSByb2JvdERhdGFBcnJheS5sZW5ndGhcclxuICAgIHZhciBudW0gPSAwO1xyXG4gICAgdmFyIGNyZWF0cm9ib3RjbGljayA9IDBcclxuICAgIC8vIGNvbnNvbGUubG9nKGFycmF5TGVuZ3RoKVxyXG4gICAgLy8gaWYgKGFycmF5TGVuZ3RoIDw9IDEpXHJcbiAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgJCgnI2NyZWF0ZS1yb2JvdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY3JlYXRyb2JvdGNsaWNrPT0wKXtcclxuICAgICAgICAgICAgIHNlbGYucm9ib3RXcmFwcGVyLnNob3coKTtcclxuICAgICAgICAgICAgICByb2JvdERhdGFBcnJheVtudW1dLnNob3coKVxyXG4gICAgICAgICAgICAgY3JlYXRyb2JvdGNsaWNrKytcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY3JlYXRyb2JvdGNsaWNrKVxyXG4gICAgICAgICAgICAgc2VsZi5yb2JvdFdyYXBwZXIuc2hvdygpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnb3BlbjEnKVxyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRhaXFlXCIpXHJcbiAgICAgICAgLy8gc2VsZi5pbml0WXN0ZXBFdmVudCgpO1xyXG5cclxuICAgICAgICAvLyB2YXIgbGkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaScpXHJcbiAgICAgICAgLy8gdmFyIGxpbGVuZ3RoID0gbGkubGVuZ3RoO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGxpbGVuZ3RoKVxyXG4gICAgICAgICQoXCIjYnRuUHJlXCIpLnVuYmluZCgpO1xyXG4gICAgICAgIGJ0blByZS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICBjb25zb2xlLmxvZygnbnVtJylcclxuICAgICAgICAgICAgaWYgKG51bTw9MCl7XHJcbiAgICAgICAgICAgICAgIG51bT0wO1xyXG4gICAgICAgICAgICAgICAvLyBsaVtudW1dLnNob3coKS5zaWJsaW5nKCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBudW0tLTtcclxuICAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLnRleHQoJ+S4i+S4gOatpScpXHJcbiAgICAgICAgICAgICAgIC8vIGxpW251bV0uc2hvdygpLnNpYmxpbmcoKS5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v6Lez6L2s5Yiw5LiK5LiA5Liq5q2l6aqkXHJcbiAgICAgICAgICAgICQoXCIueXN0ZXBcIikucHJldlN0ZXAoKTtcclxuICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2YWwnLHJvYm90RGF0YUFycmF5KVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7aTxyb2JvdERhdGFBcnJheS5sZW5ndGg7aSsrKXtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihudW09PT0gaSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbaV0uc2hvdygpXHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbaV0uaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCIjYnRuTmV4dFwiKS51bmJpbmQoKTtcclxuICAgICAgICBidG5OZXh0LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uQ3VycmVuY3kgPSAkKCcjY3VycnknKS5maW5kKFwiIG9wdGlvbjpzZWxlY3RlZFwiKS52YWwoKTsvL+S6pOaYk+W4geenjVxyXG4gICAgICAgICAgICB2YXIgbWFya2V0dGl0bGUgPSQoJyNtYXJrZXQnKS5maW5kKFwiIG9wdGlvbjpzZWxlY3RlZFwiKS52YWwoKTsvL+S6pOaYk+W4guWculxyXG4gICAgICAgICAgICB2YXIgdGV4dD0gdHJhbnNhY3Rpb25DdXJyZW5jeSArICcvJyArIG1hcmtldHRpdGxlXHJcbiAgICAgICAgICAgICQoJy50cmFkaW5nLXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KHRleHQpXHJcbiAgICAgICAgICAgIC8vICQoJy50cmFkaW5nLXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnkxJykudGV4dChtYXJrZXR0aXRsZSlcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJhdGVneXRpdGxlID0gJ+e9keagvOS6pOaYk3YxLjAnXHJcbiAgICAgICAgICAgICQoJy5zdHJhdGVneS1uYW1lIC5zdHJhdGVneS1idXR0b24gYnV0dG9uJykudW5iaW5kKCk7XHJcbiAgICAgICAgICAgICQoJy5zdHJhdGVneS1uYW1lIC5zdHJhdGVneS1idXR0b24gYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyYXRlZ3l0aXRsZSA9ICQodGhpcykudGV4dCgpOy8v5Lqk5piT562W55WlXHJcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RyYXRlZ3l0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc2V0LXN0cmF0ZWd5IC5zdHJhdGVneS10aXRsZSAuY3VycnknKS50ZXh0KHN0cmF0ZWd5dGl0bGUpXHJcblxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgJCgnLnNldC1zdHJhdGVneSAuc3RyYXRlZ3ktY3VycnkgLmN1cnJ5JykudGV4dCh0cmFuc2FjdGlvbkN1cnJlbmN5KVxyXG4gICAgICAgICAgICAkKCcuc2V0LXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnkxJykudGV4dChtYXJrZXR0aXRsZSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25leHQnKVxyXG4gICAgICAgICAgICBpZiAobnVtPj0yKXtcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0JykudGV4dCgn5a6M5oiQJylcclxuICAgICAgICAgICAgICAgIG51bT0zO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLnRleHQoJ+S4i+S4gOatpScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/ot7PovazliLDkuIvkuIDkuKrmraXpqqRcclxuICAgICAgICAgICAgJChcIi55c3RlcFwiKS5uZXh0U3RlcCgpO1xyXG4gICAgICAgICAgICAvLyB2YXIgc3RlcE51bSA9ICQoXCIueXN0ZXBcIikuZ2V0U3RlcCgpO1xyXG4gICAgICAgICAgICAvLyByb2JvdERhdGFBcnJheVtzdGVwTnVtKzFdLnNob3coKVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGVwTnVtKVxyXG4gICAgICAgICAgICAkLmVhY2gocm9ib3REYXRhQXJyYXksZnVuY3Rpb24gKGtleSx2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYobnVtPT09IGtleSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuc2hvdygpXHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy53YXJuaW5ndXNlciBsYWJlbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdidG4tc3VjY2VzcycpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xvc2VSb2JvdEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBjbG9zZUJ0biA9ICQoJy5jbG9zZS1idG4nKTtcclxuICAgIHZhciByb2JvdFdyYXBwZXIgPSAkKCcucm9ib3Qtd3JhcHBlcicpO1xyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJvYm90V3JhcHBlci5oaWRlKCk7XHJcblxyXG5cclxuXHJcbiAgICB9KVxyXG59O1xyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ3JlYXRUcmFkaW5nRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgJCgnLnVwZGF0ZS1wcm9wZXJ0eScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcudHJhZGluZ1BhcnRpY3VsYXJzJykuc2hvdygpO1xyXG4gICAgICAgICQoJy50cmFkaW5nU2hhZGUnKS5zaG93KCk7XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlblRyYWRpbmdSb2JvdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRyYWRpbmdjbG9zZWJ0biA9ICQoJy50cmFkaW5nLWNsb3NlLWJ0bicpO1xyXG4gICAgdmFyIHRyYWRpbmdQYXJ0aWN1bGFycyA9ICQoJy50cmFkaW5nUGFydGljdWxhcnMnKTtcclxuICAgIHZhciB0cmFkaW5nU2hhZGUgPSAkKCcudHJhZGluZ1NoYWRlJylcclxuICAgIHZhciB0cmFkaW5nbG9hZGluZyA9ICQoJy50cmFkaW5nLWxvYWRpbmcnKVxyXG4gICAgdmFyIHRyYWRpbmdlbmRpbmcgPSAkKCcudHJhZGluZy1lbmRpbmcnKVxyXG4gICAgdmFyIHRyYWRpbmdjb250YWluZXIgPSAkKCcudHJhZGluZy1jb250YWluZXInKVxyXG4gICAgdmFyIHRyYWRpbmdlbmRpbmd0YWJsZSA9ICQoJy50cmFkaW5nLWVuZGluZy10YWJsZScpXHJcbiAgICB0cmFkaW5nY2xvc2VidG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRyYWRpbmdQYXJ0aWN1bGFycy5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ1NoYWRlLmhpZGUoKTtcclxuICAgIH0pXHJcbiAgICB0cmFkaW5nZW5kaW5nLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdHJhZGluZ2NvbnRhaW5lci5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ2VuZGluZ3RhYmxlLnNob3coKTtcclxuICAgICAgICB0cmFkaW5nbG9hZGluZy50b2dnbGVDbGFzcygnZ3JlZW4nKVxyXG4gICAgICAgIHRyYWRpbmdlbmRpbmcudG9nZ2xlQ2xhc3MoJ2dyZWVuJylcclxuXHJcbiAgICB9KVxyXG4gICAgdHJhZGluZ2xvYWRpbmcuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRyYWRpbmdjb250YWluZXIuc2hvdygpO1xyXG4gICAgICAgIHRyYWRpbmdlbmRpbmd0YWJsZS5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ2VuZGluZy50b2dnbGVDbGFzcygnZ3JlZW4nKVxyXG4gICAgICAgIHRyYWRpbmdsb2FkaW5nLnRvZ2dsZUNsYXNzKCdncmVlbicpXHJcbiAgICB9KVxyXG5cclxufVxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVucGFyYW1ldGVyRXZlbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgcGFyYW1ldGVyY29uZmlndXJhdGlvbiA9ICQoJy5wYXJhbWV0ZXItY29uZmlndXJhdGlvbicpO1xyXG4gICAgdmFyIHBhcmFtZXRlcmNsb3NlYnRuID0gJCgnLnBhcmFtZXRlci1jbG9zZS1idG4nKTtcclxuICAgIHZhciBkZWxldGVwcm9wZXJ0eSA9ICQoJy5kZWxldGUtcHJvcGVydHknKTtcclxuICAgIHZhciB0cmFkaW5nU2hhZGUgPSAkKCcudHJhZGluZ1NoYWRlJylcclxuICAgIGRlbGV0ZXByb3BlcnR5LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwYXJhbWV0ZXJjb25maWd1cmF0aW9uLnNob3coKTtcclxuICAgICAgICB0cmFkaW5nU2hhZGUuc2hvdygpO1xyXG5cclxuICAgIH0pXHJcbiAgICBwYXJhbWV0ZXJjbG9zZWJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcGFyYW1ldGVyY29uZmlndXJhdGlvbi5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ1NoYWRlLmhpZGUoKTtcclxuICAgIH0pXHJcbn1cclxuXHJcblJvYm90LnByb3RvdHlwZS5nZXRBY2NvdW50SW5mb0V2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBwYXJhbnRlcnNHcm91cCA9ICQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzJylcclxuICAgIGlkID0gcGFyYW50ZXJzR3JvdXAuZmluZChcInNlbGVjdFsnbmFtZT0nYWNjb3VudCddXCIpLnZhbCgpXHJcbiAgICBjb25zb2xlLmxvZyhpZClcclxuXHJcblxyXG59XHJcblxyXG5cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlbkNsaWNrU3RyYWdlcnR5ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBidG5MaXN0ID0gJCgnLmRlYWwtc3RyYXRlZ3knKVxyXG4gICAgYnRuTGlzdC5lYWNoKGZ1bmN0aW9uIChpbmRleCxlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGJ0biA9ICQoZWxlbWVudClcclxuICAgICAgICBidG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBidG4uYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcm9ib3QgPSBuZXcgUm9ib3QoKTtcclxuICAgIHJvYm90LnJ1bigpO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==
