function Girding(){}function Robot(){var t=this;t.robotWrapper=$(".robot-wrapper"),t.tradingOnWrapper=$(".trading-on"),t.tradingStrategyWrapper=$(".trading-strategy"),t.setStrategyWrapper=$(".set-strategy"),t.setRiskWrapper=$(".set-risk-strategy")}Girding.prototype.run=function(){},Girding.prototype.modalRun=function(){var t=this,e=new Array(t.step1,t.stept2);t.moadlDataControl("#modal",e,t.modalCallback())},Girding.prototype.controlPageToggle=function(t,e,n,o){var r=e.length;r<=1||(1==o?(n==r-2&&$(t+" .next-page").text("提交"),0==n&&1<r&&$(t+" .previous-page").removeClass("hidden"),$(t+" .page-index").text((++n).toString())):(n==r-1&&$(t+" .next-page").text("下一页"),1==n&&$(t+" .previous-page").addClass("hidden"),$(t+" .page-index").text((--n).toString())),$(t+" .modal-body").html(e[n]))},Girding.prototype.moadlDataControl=function(e,n,t){var o=this;$(e+" .modal-body").html(n[0]),n.length<=1&&$(e+" .next-page").text("提交"),$(e+" .next-page").click(function(){if(o.modalCallback(),"提交"!=$(this).text()){var t=parseInt($(e+" .page-index").text());o.controlPageToggle(e,n,t,1)}else $(e).modal("hide")}),$(e+" .previous-page").click(function(){var t=parseInt($(e+" .page-index").text());controlPageToggle(e,n,t,-1)}),$(e).on("hidden.bs.modal",function(){$(e+" .page-index").text((0).toString()),n.length<=1?$(e+" .next-page").text("提交"):$(e+" .next-page").text("下一页"),$(e+" .modal-body").html(n[0]),$(e+" .previous-page").addClass("hidden")})},Girding.prototype.modalCallback=function(){alert("提交成功")},$(function(){(new Girding).run()}),Robot.prototype.run=function(){var t=this;t.listenClickRobotEvent(),t.listenCloseRobotEvent(),t.loadstepEvent(),t.listenTradingRobotEvent(),t.listenCreatTradingEvent(),t.listenparameterEven()},Robot.prototype.initYstepEvent=function(){$(".ystep").setStep(1)},Robot.prototype.loadstepEvent=function(){$(".ystep").loadStep({size:"large",color:"green",steps:[{title:"选择交易对"},{title:"选择交易策略"},{title:"设置策略参数"},{title:"设置风险策略"}]})},Robot.prototype.listenClickRobotEaaavent=function(){var t=this,e=$("#btnPre"),n=$("#btnNext"),o=new Array(t.tradingOnWrapper,t.tradingStrategyWrapper,t.setStrategyWrapper,t.setRiskWrapper),r=(o.length,0),a=0;$("#create-robot").on("click",function(){0==a?(t.robotWrapper.show(),o[r].show(),a++):(console.log(a),t.robotWrapper.show()),$("#btnPre").unbind(),e.click(function(){console.log("num"),r<=0?r=0:(r--,$("#btnNext").text("下一步")),$(".ystep").prevStep(),console.log("val",o);for(var t=0;t<o.length;t++)r===t?o[t].show():o[t].hide()}),$("#btnNext").unbind(),n.click(function(){console.log("next"),2<=r?($("#btnNext").text("完成"),r=3):(r++,$("#btnNext").text("下一步")),$(".ystep").nextStep(),$.each(o,function(t,e){r===t?e.show():e.hide()})}),$(".warninguser label").on("click",function(){$(this).toggleClass("btn-success")})})},Robot.prototype.listenClickRobotEvent=function(){var t=this,e=$("#btnPre"),n=$("#btnNext"),o=new Array(t.tradingOnWrapper,t.tradingStrategyWrapper,t.setStrategyWrapper,t.setRiskWrapper),r=(o.length,0),a=0;$("#create-robot").on("click",function(){0==a?(t.robotWrapper.show(),o[r].show(),a++):(console.log(a),t.robotWrapper.show()),console.log("open1"),$("#btnPre").unbind(),e.click(function(){console.log("num"),r<=0?r=0:(r--,$("#btnNext").text("下一步")),$(".ystep").prevStep(),console.log("val",o);for(var t=0;t<o.length;t++)r===t?o[t].show():o[t].hide()}),$("#btnNext").unbind(),n.click(function(){var t=$("#curry").find(" option:selected").text(),e=$("#market").find(" option:selected").text(),n=t+"/"+e;$(".trading-strategy .strategy-curry .curry").text(n);$(".strategy-name .strategy-button button").unbind(),$(".strategy-name .strategy-button button").on("click",function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).text();console.log(t),$(".set-strategy .strategy-title .curry").text(t)}),$(".set-strategy .strategy-curry .curry").text(t),$(".set-strategy .strategy-curry .curry1").text(e),console.log("next"),2<=r?($("#btnNext").text("完成"),r=3):(r++,$("#btnNext").text("下一步")),$(".ystep").nextStep(),$.each(o,function(t,e){r===t?e.show():e.hide()})}),$(".warninguser label").on("click",function(){$(this).toggleClass("btn-success")})})},Robot.prototype.listenCloseRobotEvent=function(){var t=$(".close-btn"),e=$(".robot-wrapper");t.click(function(){e.hide()})},Robot.prototype.listenCreatTradingEvent=function(){$(".update-property").on("click",function(){$(".tradingParticulars").show(),$(".tradingShade").show()})},Robot.prototype.listenTradingRobotEvent=function(){var t=$(".trading-close-btn"),e=$(".tradingParticulars"),n=$(".tradingShade"),o=$(".trading-loading"),r=$(".trading-ending"),a=$(".trading-container"),i=$(".trading-ending-table");t.click(function(){e.hide(),n.hide()}),r.click(function(){a.hide(),i.show(),o.toggleClass("green"),r.toggleClass("green")}),o.click(function(){a.show(),i.hide(),r.toggleClass("green"),o.toggleClass("green")})},Robot.prototype.listenparameterEven=function(){var t=$(".parameter-configuration"),e=$(".parameter-close-btn"),n=$(".delete-property"),o=$(".tradingShade");n.click(function(){t.show(),o.show()}),e.click(function(){t.hide(),o.hide()})},Robot.prototype.getAccountInfoEvent=function(){var t=$(".strategy-parameters");id=t.find("select['name='account']").val(),console.log(id)},Robot.prototype.listenClickStragerty=function(){$(".deal-strategy").each(function(t,e){var n=$(e);n.click(function(){n.addClass("active").siblings().removeClass("active")})})},$(function(){(new Robot).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdpcmRpbmcuanMiXSwibmFtZXMiOlsiR2lyZGluZyIsIlJvYm90Iiwic2VsZiIsInRoaXMiLCJyb2JvdFdyYXBwZXIiLCIkIiwidHJhZGluZ09uV3JhcHBlciIsInRyYWRpbmdTdHJhdGVneVdyYXBwZXIiLCJzZXRTdHJhdGVneVdyYXBwZXIiLCJzZXRSaXNrV3JhcHBlciIsInByb3RvdHlwZSIsInJ1biIsIm1vZGFsUnVuIiwibW9kYWxEYXRhQXJyYXkiLCJBcnJheSIsInN0ZXAxIiwic3RlcHQyIiwibW9hZGxEYXRhQ29udHJvbCIsIm1vZGFsQ2FsbGJhY2siLCJjb250cm9sUGFnZVRvZ2dsZSIsIm1vZGFsU2VsZWN0IiwiY3VycmVudFBhZ2VJbmRleCIsImRpcmVjdGlvbiIsImFycmF5TGVuZ3RoIiwibGVuZ3RoIiwidGV4dCIsInJlbW92ZUNsYXNzIiwidG9TdHJpbmciLCJhZGRDbGFzcyIsImh0bWwiLCJjbGljayIsInBhcnNlSW50IiwibW9kYWwiLCJvbiIsImFsZXJ0IiwibGlzdGVuQ2xpY2tSb2JvdEV2ZW50IiwibGlzdGVuQ2xvc2VSb2JvdEV2ZW50IiwibG9hZHN0ZXBFdmVudCIsImxpc3RlblRyYWRpbmdSb2JvdEV2ZW50IiwibGlzdGVuQ3JlYXRUcmFkaW5nRXZlbnQiLCJsaXN0ZW5wYXJhbWV0ZXJFdmVuIiwiaW5pdFlzdGVwRXZlbnQiLCJzZXRTdGVwIiwibG9hZFN0ZXAiLCJzaXplIiwiY29sb3IiLCJzdGVwcyIsInRpdGxlIiwibGlzdGVuQ2xpY2tSb2JvdEVhYWF2ZW50IiwiYnRuUHJlIiwiYnRuTmV4dCIsInJvYm90RGF0YUFycmF5IiwibnVtIiwiY3JlYXRyb2JvdGNsaWNrIiwic2hvdyIsImNvbnNvbGUiLCJsb2ciLCJ1bmJpbmQiLCJwcmV2U3RlcCIsImkiLCJoaWRlIiwibmV4dFN0ZXAiLCJlYWNoIiwia2V5IiwidmFsdWUiLCJ0b2dnbGVDbGFzcyIsInRyYW5zYWN0aW9uQ3VycmVuY3kiLCJmaW5kIiwibWFya2V0dGl0bGUiLCJzaWJsaW5ncyIsInN0cmF0ZWd5dGl0bGUiLCJjbG9zZUJ0biIsInRyYWRpbmdjbG9zZWJ0biIsInRyYWRpbmdQYXJ0aWN1bGFycyIsInRyYWRpbmdTaGFkZSIsInRyYWRpbmdsb2FkaW5nIiwidHJhZGluZ2VuZGluZyIsInRyYWRpbmdjb250YWluZXIiLCJ0cmFkaW5nZW5kaW5ndGFibGUiLCJwYXJhbWV0ZXJjb25maWd1cmF0aW9uIiwicGFyYW1ldGVyY2xvc2VidG4iLCJkZWxldGVwcm9wZXJ0eSIsImdldEFjY291bnRJbmZvRXZlbnQiLCJwYXJhbnRlcnNHcm91cCIsImlkIiwidmFsIiwibGlzdGVuQ2xpY2tTdHJhZ2VydHkiLCJpbmRleCIsImVsZW1lbnQiLCJidG4iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFdBb0hULFNBQVNDLFFBQ0wsSUFBSUMsRUFBT0MsS0FDWEQsRUFBS0UsYUFBZUMsRUFBRSxrQkFDdEJILEVBQUtJLGlCQUFtQkQsRUFBRSxlQUMxQkgsRUFBS0ssdUJBQXlCRixFQUFFLHFCQUNoQ0gsRUFBS00sbUJBQXFCSCxFQUFFLGlCQUM1QkgsRUFBS08sZUFBaUJKLEVBQUUsc0JBckg1QkwsUUFBUVUsVUFBVUMsSUFBTSxhQU14QlgsUUFBUVUsVUFBVUUsU0FBVyxXQUN6QixJQUFJVixFQUFPQyxLQUNQVSxFQUFpQixJQUFJQyxNQUFNWixFQUFLYSxNQUFPYixFQUFLYyxRQUNoRGQsRUFBS2UsaUJBQWlCLFNBQVVKLEVBQWdCWCxFQUFLZ0Isa0JBU3pEbEIsUUFBUVUsVUFBVVMsa0JBQW9CLFNBQVVDLEVBQWFQLEVBQWdCUSxFQUFrQkMsR0FDM0YsSUFDSUMsRUFBY1YsRUFBZVcsT0FDN0JELEdBQWUsSUFFRixHQUFiRCxHQUVJRCxHQUFvQkUsRUFBYyxHQUNsQ2xCLEVBQUVlLEVBQWMsZUFBb0JLLEtBQUssTUFJckIsR0FBcEJKLEdBQXVDLEVBQWRFLEdBQ3pCbEIsRUFBRWUsRUFBYyxtQkFBd0JNLFlBQVksVUFHeERyQixFQUFFZSxFQUFjLGdCQUFxQkssUUFBUUosR0FB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QUFJSixPQUNWVSIsImZpbGUiOiJnaXJkaW5nLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIEdpcmRpbmcoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG59O1xyXG5cclxuR2lyZGluZy5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gc2VsZi5tb2RhbFJ1bigpO1xyXG4gICAgLy8gc2VsZi5saXN0ZW5TdGVwc0V2ZW50KClcclxufTtcclxuXHJcbkdpcmRpbmcucHJvdG90eXBlLm1vZGFsUnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIG1vZGFsRGF0YUFycmF5ID0gbmV3IEFycmF5KHNlbGYuc3RlcDEsIHNlbGYuc3RlcHQyKTtcclxuICAgIHNlbGYubW9hZGxEYXRhQ29udHJvbChcIiNtb2RhbFwiLCBtb2RhbERhdGFBcnJheSwgc2VsZi5tb2RhbENhbGxiYWNrKCkpXHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBtb2RhbFNlbGVjdCBtb2RhbOmAieaLqeespu+8jOacrOS+i+S4uuKAnCNteU1vZGFs4oCdXHJcbiAqIEBwYXJhbSBtb2RhbERhdGFBcnJheSBodG1s5Luj56CB5a2X56ym5Liy5pWw57uEXHJcbiAqIEBwYXJhbSBjdXJyZW50UGFnZUluZGV4IOW9k+WJjemhteeggVxyXG4gKiBAcGFyYW0gZGlyZWN0aW9uIDHooajnpLrkuIvkuIDpobXmlrnlkJHvvIwtMeihqOekuuS4iuS4gOmhteaWueWQkVxyXG4gKi9cclxuR2lyZGluZy5wcm90b3R5cGUuY29udHJvbFBhZ2VUb2dnbGUgPSBmdW5jdGlvbiAobW9kYWxTZWxlY3QsIG1vZGFsRGF0YUFycmF5LCBjdXJyZW50UGFnZUluZGV4LCBkaXJlY3Rpb24pIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBhcnJheUxlbmd0aCA9IG1vZGFsRGF0YUFycmF5Lmxlbmd0aDtcclxuICAgIGlmIChhcnJheUxlbmd0aCA8PSAxKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGlmIChkaXJlY3Rpb24gPT0gMSkge1xyXG4gICAgICAgIC8v5aaC5p6c5b2T5YmN6aG15piv5YCS5pWw56ys5LqM6aG177yM5YiZ5bCG5LiL5LiA6aG16K6+572u5Li65bC+6aG1XHJcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlSW5kZXggPT0gYXJyYXlMZW5ndGggLSAyKSB7XHJcbiAgICAgICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm5leHQtcGFnZVwiKS50ZXh0KFwi5o+Q5LqkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/lpoLmnpzlvZPliY3pobXmmK/pppbpobXvvIzmt7vliqDkuIrkuIDpobVcclxuICAgICAgICBpZiAoY3VycmVudFBhZ2VJbmRleCA9PSAwICYmIGFycmF5TGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wcmV2aW91cy1wYWdlXCIpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+abtOaNom1vZGFsLWJvZHnlkozpobXnoIFcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wYWdlLWluZGV4XCIpLnRleHQoKCsrY3VycmVudFBhZ2VJbmRleCkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubW9kYWwtYm9keVwiKS5odG1sKG1vZGFsRGF0YUFycmF5W2N1cnJlbnRQYWdlSW5kZXhdKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy/lpoLmnpzlvZPliY3pobXmmK/lsL7pobVcclxuICAgICAgICBpZiAoY3VycmVudFBhZ2VJbmRleCA9PSBhcnJheUxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLkuIvkuIDpobVcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WmguaenOW9k+WJjemhteaYr+ato+aVsOesrOS6jOmhtSzliJnlsIbkuIrkuIDpobXorr7nva7kuLrpppbpobVcclxuICAgICAgICBpZiAoY3VycmVudFBhZ2VJbmRleCA9PSAxKSB7XHJcbiAgICAgICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnByZXZpb3VzLXBhZ2VcIikuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5pu05o2ibW9kYWwtYm9keeWSjOmhteeggVxyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnBhZ2UtaW5kZXhcIikudGV4dCgoLS1jdXJyZW50UGFnZUluZGV4KS50b1N0cmluZygpKTtcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5tb2RhbC1ib2R5XCIpLmh0bWwobW9kYWxEYXRhQXJyYXlbY3VycmVudFBhZ2VJbmRleF0pO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBtb2RhbFNlbGVjdCBtb2RhbOmAieaLqeesplxyXG4gKiBAcGFyYW0gbW9kYWxEYXRhQXJyYXkgaHRtbOS7o+eggeWtl+espuS4suaVsOe7hFxyXG4gKiBAcGFyYW0gbW9kYWxDYWxsYmFjayBtb2RhbOWbnuiwg+WHveaVsFxyXG4gKi9cclxuR2lyZGluZy5wcm90b3R5cGUubW9hZGxEYXRhQ29udHJvbCA9IGZ1bmN0aW9uIChtb2RhbFNlbGVjdCwgbW9kYWxEYXRhQXJyYXksIG1vZGFsQ2FsbGJhY2spIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8v5Yid5aeL5YyW5qih5oCB5qGG6aaW6aG15pWw5o2uXHJcbiAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5tb2RhbC1ib2R5XCIpLmh0bWwobW9kYWxEYXRhQXJyYXlbMF0pO1xyXG4gICAgaWYgKG1vZGFsRGF0YUFycmF5Lmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLmj5DkuqRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ngrnlh7vkuIvkuIDpobVcclxuICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm5leHQtcGFnZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy/osIPnlKjlm57osIPlh73mlbBcclxuICAgICAgICBzZWxmLm1vZGFsQ2FsbGJhY2soKVxyXG4gICAgICAgIGlmICgkKHRoaXMpLnRleHQoKSA9PSBcIuaPkOS6pFwiKSB7XHJcbiAgICAgICAgICAgICQobW9kYWxTZWxlY3QpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/ojrflj5blvZPliY3pobXnoIFcclxuICAgICAgICB2YXIgY3VycmVudFBhZ2VJbmRleCA9IHBhcnNlSW50KCQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnBhZ2UtaW5kZXhcIikudGV4dCgpKTtcclxuICAgICAgICBzZWxmLmNvbnRyb2xQYWdlVG9nZ2xlKG1vZGFsU2VsZWN0LCBtb2RhbERhdGFBcnJheSwgY3VycmVudFBhZ2VJbmRleCwgMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL+eCueWHu+S4iuS4gOmhtVxyXG4gICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucHJldmlvdXMtcGFnZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy/ojrflj5blvZPliY3pobXnoIFcclxuICAgICAgICB2YXIgY3VycmVudFBhZ2VJbmRleCA9IHBhcnNlSW50KCQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnBhZ2UtaW5kZXhcIikudGV4dCgpKTtcclxuICAgICAgICBjb250cm9sUGFnZVRvZ2dsZShtb2RhbFNlbGVjdCwgbW9kYWxEYXRhQXJyYXksIGN1cnJlbnRQYWdlSW5kZXgsIC0xKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8v5YWz6Zet5qih5oCB5qGG5pe277yM6YeN572u5Li66aaW6aG1XHJcbiAgICAkKG1vZGFsU2VsZWN0KS5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnBhZ2UtaW5kZXhcIikudGV4dCgoMCkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgaWYgKG1vZGFsRGF0YUFycmF5Lmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm5leHQtcGFnZVwiKS50ZXh0KFwi5o+Q5LqkXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm5leHQtcGFnZVwiKS50ZXh0KFwi5LiL5LiA6aG1XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5tb2RhbC1ib2R5XCIpLmh0bWwobW9kYWxEYXRhQXJyYXlbMF0pO1xyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnByZXZpb3VzLXBhZ2VcIikuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XHJcbiAgICB9KVxyXG59XHJcblxyXG5HaXJkaW5nLnByb3RvdHlwZS5tb2RhbENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgYWxlcnQoXCLmj5DkuqTmiJDlip9cIik7XHJcbn1cclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBnaXJkID0gbmV3IEdpcmRpbmcoKTtcclxuICAgIGdpcmQucnVuKCk7XHJcbn0pXHJcblxyXG5cclxuZnVuY3Rpb24gUm9ib3QoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnJvYm90V3JhcHBlciA9ICQoJy5yb2JvdC13cmFwcGVyJyk7XHJcbiAgICBzZWxmLnRyYWRpbmdPbldyYXBwZXIgPSAkKCcudHJhZGluZy1vbicpO1xyXG4gICAgc2VsZi50cmFkaW5nU3RyYXRlZ3lXcmFwcGVyID0gJCgnLnRyYWRpbmctc3RyYXRlZ3knKTtcclxuICAgIHNlbGYuc2V0U3RyYXRlZ3lXcmFwcGVyID0gJCgnLnNldC1zdHJhdGVneScpO1xyXG4gICAgc2VsZi5zZXRSaXNrV3JhcHBlciA9ICQoJy5zZXQtcmlzay1zdHJhdGVneScpO1xyXG5cclxufTtcclxuXHJcblJvYm90LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyBzZWxmLmluaXRZc3RlcEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNsaWNrUm9ib3RFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5DbG9zZVJvYm90RXZlbnQoKTtcclxuICAgIHNlbGYubG9hZHN0ZXBFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5UcmFkaW5nUm9ib3RFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5DcmVhdFRyYWRpbmdFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5wYXJhbWV0ZXJFdmVuKCk7XHJcbiAgICAvLyBzZWxmLmxpc3RlbkNsaWNrU3RyYWdlcnR5KCk7XHJcbiAgICAvLyBzZWxmLmdldEFjY291bnRJbmZvRXZlbnQoKTtcclxuXHJcbn07XHJcblxyXG5Sb2JvdC5wcm90b3R5cGUuaW5pdFlzdGVwRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvL+agueaNrmpRdWVyeemAieaLqeWZqOaJvuWIsOmcgOimgeWKoOi9vXlzdGVw55qE5a655ZmoXHJcbi8vbG9hZFN0ZXAg5pa55rOV5Y+v5Lul5Yid5aeL5YyWeXN0ZXBcclxuXHJcbiAgICAkKFwiLnlzdGVwXCIpLnNldFN0ZXAoMSk7XHJcblxyXG59O1xyXG5Sb2JvdC5wcm90b3R5cGUubG9hZHN0ZXBFdmVudCA9ZnVuY3Rpb24oKXtcclxuICAgICAkKFwiLnlzdGVwXCIpLmxvYWRTdGVwKHtcclxuICAgICAgICBzaXplOiBcImxhcmdlXCIsXHJcbiAgICAgICAgY29sb3I6IFwiZ3JlZW5cIixcclxuICAgICAgICBzdGVwczogW3tcclxuICAgICAgICAgICAgdGl0bGU6IFwi6YCJ5oup5Lqk5piT5a+5XCIsXHJcblxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgdGl0bGU6IFwi6YCJ5oup5Lqk5piT562W55WlXCIsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB0aXRsZTogXCLorr7nva7nrZbnlaXlj4LmlbBcIixcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIuiuvue9rumjjumZqeetlueVpVwiLFxyXG4gICAgICAgIH0sXVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblJvYm90LnByb3RvdHlwZS5saXN0ZW5DbGlja1JvYm90RWFhYXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHZhciBidG5QcmUgPSAkKFwiI2J0blByZVwiKVxyXG4gICAgdmFyIGJ0bk5leHQgPSAkKFwiI2J0bk5leHRcIilcclxuICAgIHZhciByb2JvdERhdGFBcnJheSA9IG5ldyBBcnJheShzZWxmLnRyYWRpbmdPbldyYXBwZXIsIHNlbGYudHJhZGluZ1N0cmF0ZWd5V3JhcHBlciwgc2VsZi5zZXRTdHJhdGVneVdyYXBwZXIsIHNlbGYuc2V0Umlza1dyYXBwZXIpXHJcbiAgICB2YXIgYXJyYXlMZW5ndGggPSByb2JvdERhdGFBcnJheS5sZW5ndGhcclxuICAgIHZhciBudW0gPSAwO1xyXG4gICAgdmFyIGNyZWF0cm9ib3RjbGljayA9IDBcclxuICAgIC8vIGNvbnNvbGUubG9nKGFycmF5TGVuZ3RoKVxyXG4gICAgLy8gaWYgKGFycmF5TGVuZ3RoIDw9IDEpXHJcbiAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgJCgnI2NyZWF0ZS1yb2JvdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY3JlYXRyb2JvdGNsaWNrPT0wKXtcclxuICAgICAgICAgICAgIHNlbGYucm9ib3RXcmFwcGVyLnNob3coKTtcclxuICAgICAgICAgICAgICByb2JvdERhdGFBcnJheVtudW1dLnNob3coKVxyXG4gICAgICAgICAgICAgY3JlYXRyb2JvdGNsaWNrKytcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY3JlYXRyb2JvdGNsaWNrKVxyXG4gICAgICAgICAgICAgc2VsZi5yb2JvdFdyYXBwZXIuc2hvdygpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKFwiI2J0blByZVwiKS51bmJpbmQoKTtcclxuICAgICAgICBidG5QcmUuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgY29uc29sZS5sb2coJ251bScpXHJcbiAgICAgICAgICAgIGlmIChudW08PTApe1xyXG4gICAgICAgICAgICAgICBudW09MDtcclxuICAgICAgICAgICAgICAgLy8gbGlbbnVtXS5zaG93KCkuc2libGluZygpLmhpZGUoKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbnVtLS07XHJcbiAgICAgICAgICAgICAgICAgJCgnI2J0bk5leHQnKS50ZXh0KCfkuIvkuIDmraUnKVxyXG4gICAgICAgICAgICAgICAvLyBsaVtudW1dLnNob3coKS5zaWJsaW5nKCkuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+i3s+i9rOWIsOS4iuS4gOS4quatpemqpFxyXG4gICAgICAgICAgICAkKFwiLnlzdGVwXCIpLnByZXZTdGVwKCk7XHJcblxyXG4gICAgICAgICAgICAgY29uc29sZS5sb2coJ3ZhbCcscm9ib3REYXRhQXJyYXkpXHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDtpPHJvYm90RGF0YUFycmF5Lmxlbmd0aDtpKyspe1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKG51bT09PSBpKXtcclxuICAgICAgICAgICAgICAgICAgICByb2JvdERhdGFBcnJheVtpXS5zaG93KClcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByb2JvdERhdGFBcnJheVtpXS5oaWRlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCIjYnRuTmV4dFwiKS51bmJpbmQoKTtcclxuICAgICAgICBidG5OZXh0LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25leHQnKVxyXG4gICAgICAgICAgICBpZiAobnVtPj0yKXtcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0JykudGV4dCgn5a6M5oiQJylcclxuICAgICAgICAgICAgICAgIG51bT0zO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLnRleHQoJ+S4i+S4gOatpScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/ot7PovazliLDkuIvkuIDkuKrmraXpqqRcclxuICAgICAgICAgICAgJChcIi55c3RlcFwiKS5uZXh0U3RlcCgpO1xyXG4gICAgICAgICAgICAvLyB2YXIgc3RlcE51bSA9ICQoXCIueXN0ZXBcIikuZ2V0U3RlcCgpO1xyXG4gICAgICAgICAgICAvLyByb2JvdERhdGFBcnJheVtzdGVwTnVtKzFdLnNob3coKVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGVwTnVtKVxyXG4gICAgICAgICAgICAkLmVhY2gocm9ib3REYXRhQXJyYXksZnVuY3Rpb24gKGtleSx2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYobnVtPT09IGtleSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuc2hvdygpXHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy53YXJuaW5ndXNlciBsYWJlbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdidG4tc3VjY2VzcycpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xpY2tSb2JvdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB2YXIgYnRuUHJlID0gJChcIiNidG5QcmVcIilcclxuICAgIHZhciBidG5OZXh0ID0gJChcIiNidG5OZXh0XCIpXHJcbiAgICB2YXIgcm9ib3REYXRhQXJyYXkgPSBuZXcgQXJyYXkoc2VsZi50cmFkaW5nT25XcmFwcGVyLCBzZWxmLnRyYWRpbmdTdHJhdGVneVdyYXBwZXIsIHNlbGYuc2V0U3RyYXRlZ3lXcmFwcGVyLCBzZWxmLnNldFJpc2tXcmFwcGVyKVxyXG4gICAgdmFyIGFycmF5TGVuZ3RoID0gcm9ib3REYXRhQXJyYXkubGVuZ3RoXHJcbiAgICB2YXIgbnVtID0gMDtcclxuICAgIHZhciBjcmVhdHJvYm90Y2xpY2sgPSAwXHJcbiAgICAvLyBjb25zb2xlLmxvZyhhcnJheUxlbmd0aClcclxuICAgIC8vIGlmIChhcnJheUxlbmd0aCA8PSAxKVxyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgICQoJyNjcmVhdGUtcm9ib3QnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNyZWF0cm9ib3RjbGljaz09MCl7XHJcbiAgICAgICAgICAgICBzZWxmLnJvYm90V3JhcHBlci5zaG93KCk7XHJcbiAgICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbbnVtXS5zaG93KClcclxuICAgICAgICAgICAgIGNyZWF0cm9ib3RjbGljaysrXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNyZWF0cm9ib3RjbGljaylcclxuICAgICAgICAgICAgIHNlbGYucm9ib3RXcmFwcGVyLnNob3coKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ29wZW4xJylcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJkYWlxZVwiKVxyXG4gICAgICAgIC8vIHNlbGYuaW5pdFlzdGVwRXZlbnQoKTtcclxuXHJcbiAgICAgICAgLy8gdmFyIGxpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGknKVxyXG4gICAgICAgIC8vIHZhciBsaWxlbmd0aCA9IGxpLmxlbmd0aDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhsaWxlbmd0aClcclxuICAgICAgICAkKFwiI2J0blByZVwiKS51bmJpbmQoKTtcclxuICAgICAgICBidG5QcmUuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgY29uc29sZS5sb2coJ251bScpXHJcbiAgICAgICAgICAgIGlmIChudW08PTApe1xyXG4gICAgICAgICAgICAgICBudW09MDtcclxuICAgICAgICAgICAgICAgLy8gbGlbbnVtXS5zaG93KCkuc2libGluZygpLmhpZGUoKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbnVtLS07XHJcbiAgICAgICAgICAgICAgICAgJCgnI2J0bk5leHQnKS50ZXh0KCfkuIvkuIDmraUnKVxyXG4gICAgICAgICAgICAgICAvLyBsaVtudW1dLnNob3coKS5zaWJsaW5nKCkuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+i3s+i9rOWIsOS4iuS4gOS4quatpemqpFxyXG4gICAgICAgICAgICAkKFwiLnlzdGVwXCIpLnByZXZTdGVwKCk7XHJcbiAgICAgICAgICAgICBjb25zb2xlLmxvZygndmFsJyxyb2JvdERhdGFBcnJheSlcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wO2k8cm9ib3REYXRhQXJyYXkubGVuZ3RoO2krKyl7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYobnVtPT09IGkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJvYm90RGF0YUFycmF5W2ldLnNob3coKVxyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvYm90RGF0YUFycmF5W2ldLmhpZGUoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKFwiI2J0bk5leHRcIikudW5iaW5kKCk7XHJcbiAgICAgICAgYnRuTmV4dC5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbkN1cnJlbmN5ID0gJCgnI2N1cnJ5JykuZmluZChcIiBvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpOy8v5Lqk5piT5biB56eNXHJcbiAgICAgICAgICAgIHZhciBtYXJrZXR0aXRsZSA9JCgnI21hcmtldCcpLmZpbmQoXCIgb3B0aW9uOnNlbGVjdGVkXCIpLnRleHQoKTsvL+S6pOaYk+W4guWculxyXG4gICAgICAgICAgICB2YXIgdGV4dD0gdHJhbnNhY3Rpb25DdXJyZW5jeSArICcvJyArIG1hcmtldHRpdGxlXHJcbiAgICAgICAgICAgICQoJy50cmFkaW5nLXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KHRleHQpXHJcbiAgICAgICAgICAgIC8vICQoJy50cmFkaW5nLXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnkxJykudGV4dChtYXJrZXR0aXRsZSlcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJhdGVneXRpdGxlID0gJ+e9keagvOS6pOaYk3YxLjAnXHJcbiAgICAgICAgICAgICQoJy5zdHJhdGVneS1uYW1lIC5zdHJhdGVneS1idXR0b24gYnV0dG9uJykudW5iaW5kKCk7XHJcbiAgICAgICAgICAgICQoJy5zdHJhdGVneS1uYW1lIC5zdHJhdGVneS1idXR0b24gYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyYXRlZ3l0aXRsZSA9ICQodGhpcykudGV4dCgpOy8v5Lqk5piT562W55WlXHJcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RyYXRlZ3l0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc2V0LXN0cmF0ZWd5IC5zdHJhdGVneS10aXRsZSAuY3VycnknKS50ZXh0KHN0cmF0ZWd5dGl0bGUpXHJcblxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgJCgnLnNldC1zdHJhdGVneSAuc3RyYXRlZ3ktY3VycnkgLmN1cnJ5JykudGV4dCh0cmFuc2FjdGlvbkN1cnJlbmN5KVxyXG4gICAgICAgICAgICAkKCcuc2V0LXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnkxJykudGV4dChtYXJrZXR0aXRsZSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25leHQnKVxyXG4gICAgICAgICAgICBpZiAobnVtPj0yKXtcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0JykudGV4dCgn5a6M5oiQJylcclxuICAgICAgICAgICAgICAgIG51bT0zO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLnRleHQoJ+S4i+S4gOatpScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/ot7PovazliLDkuIvkuIDkuKrmraXpqqRcclxuICAgICAgICAgICAgJChcIi55c3RlcFwiKS5uZXh0U3RlcCgpO1xyXG4gICAgICAgICAgICAvLyB2YXIgc3RlcE51bSA9ICQoXCIueXN0ZXBcIikuZ2V0U3RlcCgpO1xyXG4gICAgICAgICAgICAvLyByb2JvdERhdGFBcnJheVtzdGVwTnVtKzFdLnNob3coKVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGVwTnVtKVxyXG4gICAgICAgICAgICAkLmVhY2gocm9ib3REYXRhQXJyYXksZnVuY3Rpb24gKGtleSx2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYobnVtPT09IGtleSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuc2hvdygpXHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy53YXJuaW5ndXNlciBsYWJlbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdidG4tc3VjY2VzcycpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xvc2VSb2JvdEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBjbG9zZUJ0biA9ICQoJy5jbG9zZS1idG4nKTtcclxuICAgIHZhciByb2JvdFdyYXBwZXIgPSAkKCcucm9ib3Qtd3JhcHBlcicpO1xyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJvYm90V3JhcHBlci5oaWRlKCk7XHJcblxyXG5cclxuXHJcbiAgICB9KVxyXG59O1xyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ3JlYXRUcmFkaW5nRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgJCgnLnVwZGF0ZS1wcm9wZXJ0eScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcudHJhZGluZ1BhcnRpY3VsYXJzJykuc2hvdygpO1xyXG4gICAgICAgICQoJy50cmFkaW5nU2hhZGUnKS5zaG93KCk7XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlblRyYWRpbmdSb2JvdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRyYWRpbmdjbG9zZWJ0biA9ICQoJy50cmFkaW5nLWNsb3NlLWJ0bicpO1xyXG4gICAgdmFyIHRyYWRpbmdQYXJ0aWN1bGFycyA9ICQoJy50cmFkaW5nUGFydGljdWxhcnMnKTtcclxuICAgIHZhciB0cmFkaW5nU2hhZGUgPSAkKCcudHJhZGluZ1NoYWRlJylcclxuICAgIHZhciB0cmFkaW5nbG9hZGluZyA9ICQoJy50cmFkaW5nLWxvYWRpbmcnKVxyXG4gICAgdmFyIHRyYWRpbmdlbmRpbmcgPSAkKCcudHJhZGluZy1lbmRpbmcnKVxyXG4gICAgdmFyIHRyYWRpbmdjb250YWluZXIgPSAkKCcudHJhZGluZy1jb250YWluZXInKVxyXG4gICAgdmFyIHRyYWRpbmdlbmRpbmd0YWJsZSA9ICQoJy50cmFkaW5nLWVuZGluZy10YWJsZScpXHJcbiAgICB0cmFkaW5nY2xvc2VidG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRyYWRpbmdQYXJ0aWN1bGFycy5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ1NoYWRlLmhpZGUoKTtcclxuICAgIH0pXHJcbiAgICB0cmFkaW5nZW5kaW5nLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdHJhZGluZ2NvbnRhaW5lci5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ2VuZGluZ3RhYmxlLnNob3coKTtcclxuICAgICAgICB0cmFkaW5nbG9hZGluZy50b2dnbGVDbGFzcygnZ3JlZW4nKVxyXG4gICAgICAgIHRyYWRpbmdlbmRpbmcudG9nZ2xlQ2xhc3MoJ2dyZWVuJylcclxuXHJcbiAgICB9KVxyXG4gICAgdHJhZGluZ2xvYWRpbmcuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRyYWRpbmdjb250YWluZXIuc2hvdygpO1xyXG4gICAgICAgIHRyYWRpbmdlbmRpbmd0YWJsZS5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ2VuZGluZy50b2dnbGVDbGFzcygnZ3JlZW4nKVxyXG4gICAgICAgIHRyYWRpbmdsb2FkaW5nLnRvZ2dsZUNsYXNzKCdncmVlbicpXHJcbiAgICB9KVxyXG5cclxufVxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVucGFyYW1ldGVyRXZlbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgcGFyYW1ldGVyY29uZmlndXJhdGlvbiA9ICQoJy5wYXJhbWV0ZXItY29uZmlndXJhdGlvbicpO1xyXG4gICAgdmFyIHBhcmFtZXRlcmNsb3NlYnRuID0gJCgnLnBhcmFtZXRlci1jbG9zZS1idG4nKTtcclxuICAgIHZhciBkZWxldGVwcm9wZXJ0eSA9ICQoJy5kZWxldGUtcHJvcGVydHknKTtcclxuICAgIHZhciB0cmFkaW5nU2hhZGUgPSAkKCcudHJhZGluZ1NoYWRlJylcclxuICAgIGRlbGV0ZXByb3BlcnR5LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwYXJhbWV0ZXJjb25maWd1cmF0aW9uLnNob3coKTtcclxuICAgICAgICB0cmFkaW5nU2hhZGUuc2hvdygpO1xyXG5cclxuICAgIH0pXHJcbiAgICBwYXJhbWV0ZXJjbG9zZWJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcGFyYW1ldGVyY29uZmlndXJhdGlvbi5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ1NoYWRlLmhpZGUoKTtcclxuICAgIH0pXHJcbn1cclxuXHJcblJvYm90LnByb3RvdHlwZS5nZXRBY2NvdW50SW5mb0V2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBwYXJhbnRlcnNHcm91cCA9ICQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzJylcclxuICAgIGlkID0gcGFyYW50ZXJzR3JvdXAuZmluZChcInNlbGVjdFsnbmFtZT0nYWNjb3VudCddXCIpLnZhbCgpXHJcbiAgICBjb25zb2xlLmxvZyhpZClcclxuXHJcblxyXG59XHJcblxyXG5cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlbkNsaWNrU3RyYWdlcnR5ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBidG5MaXN0ID0gJCgnLmRlYWwtc3RyYXRlZ3knKVxyXG4gICAgYnRuTGlzdC5lYWNoKGZ1bmN0aW9uIChpbmRleCxlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGJ0biA9ICQoZWxlbWVudClcclxuICAgICAgICBidG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBidG4uYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcm9ib3QgPSBuZXcgUm9ib3QoKTtcclxuICAgIHJvYm90LnJ1bigpO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==
