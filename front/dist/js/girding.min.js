function Girding(){}function Robot(){var t=this;t.robotWrapper=$(".robot-wrapper"),t.tradingOnWrapper=$(".trading-on"),t.tradingStrategyWrapper=$(".trading-strategy"),t.setStrategyWrapper=$(".set-strategy"),t.setRiskWrapper=$(".set-risk-strategy")}Girding.prototype.run=function(){},Girding.prototype.modalRun=function(){var t=this,e=new Array(t.step1,t.stept2);t.moadlDataControl("#modal",e,t.modalCallback())},Girding.prototype.controlPageToggle=function(t,e,n,o){var r=e.length;r<=1||(1==o?(n==r-2&&$(t+" .next-page").text("提交"),0==n&&1<r&&$(t+" .previous-page").removeClass("hidden"),$(t+" .page-index").text((++n).toString())):(n==r-1&&$(t+" .next-page").text("下一页"),1==n&&$(t+" .previous-page").addClass("hidden"),$(t+" .page-index").text((--n).toString())),$(t+" .modal-body").html(e[n]))},Girding.prototype.moadlDataControl=function(e,n,t){var o=this;$(e+" .modal-body").html(n[0]),n.length<=1&&$(e+" .next-page").text("提交"),$(e+" .next-page").click(function(){if(o.modalCallback(),"提交"!=$(this).text()){var t=parseInt($(e+" .page-index").text());o.controlPageToggle(e,n,t,1)}else $(e).modal("hide")}),$(e+" .previous-page").click(function(){var t=parseInt($(e+" .page-index").text());controlPageToggle(e,n,t,-1)}),$(e).on("hidden.bs.modal",function(){$(e+" .page-index").text((0).toString()),n.length<=1?$(e+" .next-page").text("提交"):$(e+" .next-page").text("下一页"),$(e+" .modal-body").html(n[0]),$(e+" .previous-page").addClass("hidden")})},Girding.prototype.modalCallback=function(){alert("提交成功")},$(function(){(new Girding).run()}),Robot.prototype.run=function(){var t=this;t.listenClickRobotEvent(),t.listenCloseRobotEvent(),t.loadstepEvent(),t.listenTradingRobotEvent(),t.listenCreatTradingEvent(),t.listenparameterEven(),t.listenSubmitRobot()},Robot.prototype.initYstepEvent=function(){$(".ystep").setStep(1)},Robot.prototype.loadstepEvent=function(){$(".ystep").loadStep({size:"large",color:"green",steps:[{title:"选择交易对"},{title:"选择交易策略"},{title:"设置策略参数"},{title:"设置风险策略"}]})},Robot.prototype.listenClickRobotEaaavent=function(){var t=this,e=$("#btnPre"),n=$("#btnNext"),o=new Array(t.tradingOnWrapper,t.tradingStrategyWrapper,t.setStrategyWrapper,t.setRiskWrapper),r=(o.length,0),a=0;$("#create-robot").on("click",function(){0==a?(t.robotWrapper.show(),o[r].show(),a++):(console.log(a),t.robotWrapper.show()),$("#btnPre").unbind(),e.click(function(){console.log("num"),r<=0?r=0:(r--,$("#btnNext").text("下一步")),$(".ystep").prevStep(),console.log("val",o);for(var t=0;t<o.length;t++)r===t?o[t].show():o[t].hide()}),$("#btnNext").unbind(),n.click(function(){console.log("next"),2<=r?($("#btnNext").text("完成"),r=3):(r++,$("#btnNext").text("下一步")),$(".ystep").nextStep(),$.each(o,function(t,e){r===t?e.show():e.hide()})}),$(".warninguser label").on("click",function(){$(this).toggleClass("btn-success")})})},Robot.prototype.listenClickRobotEvent=function(){var t=this,e=$("#btnPre"),n=$("#btnNext"),s=new Array(t.tradingOnWrapper,t.tradingStrategyWrapper,t.setStrategyWrapper,t.setRiskWrapper),l=(s.length,0),o=0;$("#create-robot").on("click",function(){0==o?(t.robotWrapper.show(),s[l].show(),o++):(console.log(o),t.robotWrapper.show()),console.log("open1"),$("#btnPre").unbind(),e.click(function(){console.log("num"),l<=0?l=0:(l--,$("#btnNext").text("下一步")),$(".ystep").prevStep(),console.log("val",s);for(var t=0;t<s.length;t++)l===t?s[t].show():s[t].hide()}),$("#btnNext").unbind(),n.click(function(){var t=$("#curry").find(" option:selected").text(),e=$("#market").find(" option:selected").text(),n=$(".parameters-control").find(" option:selected").text(),o=$(".strategy-parameters .trading-parameters .resistance-value").val(),r=$(".strategy-parameters .trading-parameters .support").val(),a=$(".strategy-parameters .trading-parameters .grid-number").val(),i=t+"/"+e;$(".trading-strategy .strategy-curry .curry").text(i),$(".set-strategy .strategy-curry .curry").text(i),$(".set-risk-strategy .strategy-curry .curry").text(i),$(".set-strategy-title .strategy-parameters-top .user").text(n),$(".set-risk-strategy .set-strategy-title .resistance").text(o),$(".set-risk-strategy .set-strategy-title .support-level").text(r),$(".set-risk-strategy .set-strategy-title .girding-num").text(a);$(".strategy-name .strategy-button button").unbind(),$(".strategy-name .strategy-button button").on("click",function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).text();console.log(t),$(".set-strategy .strategy-title .strategy").text(t),$(".set-risk-strategy .strategy-title .curry").text(t)}),console.log("next"),2<=l?($("#btnNext").hide(),$("#btnComplete").show(),l=3):(l++,$("#btnNext").text("下一步")),$(".ystep").nextStep(),$.each(s,function(t,e){l===t?e.show():e.hide()})}),$(".warninguser label").on("click",function(){$(this).toggleClass("btn-success")})})},Robot.prototype.listenCloseRobotEvent=function(){var t=$(".close-btn"),e=$(".robot-wrapper");t.click(function(){e.hide()})},Robot.prototype.listenCreatTradingEvent=function(){$(".update-property").on("click",function(){$(".tradingParticulars").show(),$(".tradingShade").show()})},Robot.prototype.listenTradingRobotEvent=function(){var t=$(".trading-close-btn"),e=$(".tradingParticulars"),n=$(".tradingShade"),o=$(".trading-loading"),r=$(".trading-ending"),a=$(".trading-container"),i=$(".trading-ending-table");t.click(function(){e.hide(),n.hide()}),r.click(function(){a.hide(),i.show(),o.toggleClass("green"),r.toggleClass("green")}),o.click(function(){a.show(),i.hide(),r.toggleClass("green"),o.toggleClass("green")})},Robot.prototype.listenparameterEven=function(){var t=$(".parameter-configuration"),e=$(".parameter-close-btn"),n=$(".delete-property"),o=$(".tradingShade");n.click(function(){t.show(),o.show()}),e.click(function(){t.hide(),o.hide()})},Robot.prototype.getAccountInfoEvent=function(){var t=$(".strategy-parameters");id=t.find("select['name='account']").val(),console.log(id)},Robot.prototype.listenClickStragerty=function(){$(".deal-strategy").each(function(t,e){var n=$(e);n.click(function(){n.addClass("active").siblings().removeClass("active")})})},Robot.prototype.listenSubmitRobot=function(){$(".btnComplete ").click(function(){var t=$(".set-risk-strategy"),e=t.find(".curry").text().split("/"),n=e[0],o=e[1];console.log(n,o);var r=t.find(".strategy").text(),a=t.find(".account-value").text(),i=t.find(".resistance-value").text(),s=t.find(".support-value").text(),l=t.find(".girding-value").text(),c=t.find(".deal-account-free").text(),g=t.find(".girding-profit-value").text();console.log(r,a,i,s,l,c,g),xfzajax.post({url:"",data:{}})})},$(function(){(new Robot).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdpcmRpbmcuanMiXSwibmFtZXMiOlsiR2lyZGluZyIsIlJvYm90Iiwic2VsZiIsInRoaXMiLCJyb2JvdFdyYXBwZXIiLCIkIiwidHJhZGluZ09uV3JhcHBlciIsInRyYWRpbmdTdHJhdGVneVdyYXBwZXIiLCJzZXRTdHJhdGVneVdyYXBwZXIiLCJzZXRSaXNrV3JhcHBlciIsInByb3RvdHlwZSIsInJ1biIsIm1vZGFsUnVuIiwibW9kYWxEYXRhQXJyYXkiLCJBcnJheSIsInN0ZXAxIiwic3RlcHQyIiwibW9hZGxEYXRhQ29udHJvbCIsIm1vZGFsQ2FsbGJhY2siLCJjb250cm9sUGFnZVRvZ2dsZSIsIm1vZGFsU2VsZWN0IiwiY3VycmVudFBhZ2VJbmRleCIsImRpcmVjdGlvbiIsImFycmF5TGVuZ3RoIiwibGVuZ3RoIiwidGV4dCIsInJlbW92ZUNsYXNzIiwidG9TdHJpbmciLCJhZGRDbGFzcyIsImh0bWwiLCJjbGljayIsInBhcnNlSW50IiwibW9kYWwiLCJvbiIsImFsZXJ0IiwibGlzdGVuQ2xpY2tSb2JvdEV2ZW50IiwibGlzdGVuQ2xvc2VSb2JvdEV2ZW50IiwibG9hZHN0ZXBFdmVudCIsImxpc3RlblRyYWRpbmdSb2JvdEV2ZW50IiwibGlzdGVuQ3JlYXRUcmFkaW5nRXZlbnQiLCJsaXN0ZW5wYXJhbWV0ZXJFdmVuIiwibGlzdGVuU3VibWl0Um9ib3QiLCJpbml0WXN0ZXBFdmVudCIsInNldFN0ZXAiLCJsb2FkU3RlcCIsInNpemUiLCJjb2xvciIsInN0ZXBzIiwidGl0bGUiLCJsaXN0ZW5DbGlja1JvYm90RWFhYXZlbnQiLCJidG5QcmUiLCJidG5OZXh0Iiwicm9ib3REYXRhQXJyYXkiLCJudW0iLCJjcmVhdHJvYm90Y2xpY2siLCJzaG93IiwiY29uc29sZSIsImxvZyIsInVuYmluZCIsInByZXZTdGVwIiwiaSIsImhpZGUiLCJuZXh0U3RlcCIsImVhY2giLCJrZXkiLCJ2YWx1ZSIsInRvZ2dsZUNsYXNzIiwidHJhbnNhY3Rpb25DdXJyZW5jeSIsImZpbmQiLCJtYXJrZXR0aXRsZSIsInBhcmFtZXRlcnNjb250cm9sIiwicmVzaXN0YW5jZXZhbHVlIiwidmFsIiwic3VwcG9ydCIsImdyaWRudW1iZXIiLCJzaWJsaW5ncyIsInN0cmF0ZWd5dGl0bGUiLCJjbG9zZUJ0biIsInRyYWRpbmdjbG9zZWJ0biIsInRyYWRpbmdQYXJ0aWN1bGFycyIsInRyYWRpbmdTaGFkZSIsInRyYWRpbmdsb2FkaW5nIiwidHJhZGluZ2VuZGluZyIsInRyYWRpbmdjb250YWluZXIiLCJ0cmFkaW5nZW5kaW5ndGFibGUiLCJwYXJhbWV0ZXJjb25maWd1cmF0aW9uIiwicGFyYW1ldGVyY2xvc2VidG4iLCJkZWxldGVwcm9wZXJ0eSIsImdldEFjY291bnRJbmZvRXZlbnQiLCJwYXJhbnRlcnNHcm91cCIsImlkIiwibGlzdGVuQ2xpY2tTdHJhZ2VydHkiLCJpbmRleCIsImVsZW1lbnQiLCJidG4iLCJyb2JvdEdyb3VwIiwic3RyciIsInNwbGl0IiwiY3VycmVueSIsIm1hcmtldCIsInN0cmF0ZWd5IiwiYWNjb3VudCIsInJlc2lzdGFuY2UiLCJnaXJkaW5nX251bSIsImZyZWUiLCJnaXJkaW5nX3Byb2ZpdCIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsV0FvSFQsU0FBU0MsUUFDTCxJQUFJQyxFQUFPQyxLQUNYRCxFQUFLRSxhQUFlQyxFQUFFLGtCQUN0QkgsRUFBS0ksaUJBQW1CRCxFQUFFLGVBQzFCSCxFQUFLSyx1QkFBeUJGLEVBQUUscUJBQ2hDSCxFQUFLTSxtQkFBcUJILEVBQUUsaUJBQzVCSCxFQUFLTyxlQUFpQkosRUFBRSxzQkFySDVCTCxRQUFRVSxVQUFVQyxJQUFNLGFBTXhCWCxRQUFRVSxVQUFVRSxTQUFXLFdBQ3pCLElBQUlWLEVBQU9DLEtBQ1BVLEVBQWlCLElBQUlDLE1BQU1aLEVBQUthLE1BQU9iLEVBQUtjLFFBQ2hEZCxFQUFLZSxpQkFBaUIsU0FBVUosRUFBZ0JYLEVBQUtnQixrQkFTekRsQixRQUFR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QU9ULEVBQVczQixLQUFLLHNCQUFzQjNDLE9BQzdDZ0YsRUFBaUJWLEVBQVczQixLQUFLLHlCQUF5QjNDLE9BQzlEK0IsUUFBUUMsSUFBSTJDLEVBQVVDLEVBQVNDLEVBQVk3QixFQUFTOEIsRUFBYUMsRUFBTUMsR0FFdkVDLFFBQVFDLEtBQUssQ0FDVEMsSUFBTSxHQUNOQyxLQUFPLFFBVW5CeEcsRUFBRSxZQUNjLElBQUlKLE9BQ1ZVIiwiZmlsZSI6ImdpcmRpbmcubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gR2lyZGluZygpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbn07XHJcblxyXG5HaXJkaW5nLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyBzZWxmLm1vZGFsUnVuKCk7XHJcbiAgICAvLyBzZWxmLmxpc3RlblN0ZXBzRXZlbnQoKVxyXG59O1xyXG5cclxuR2lyZGluZy5wcm90b3R5cGUubW9kYWxSdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgbW9kYWxEYXRhQXJyYXkgPSBuZXcgQXJyYXkoc2VsZi5zdGVwMSwgc2VsZi5zdGVwdDIpO1xyXG4gICAgc2VsZi5tb2FkbERhdGFDb250cm9sKFwiI21vZGFsXCIsIG1vZGFsRGF0YUFycmF5LCBzZWxmLm1vZGFsQ2FsbGJhY2soKSlcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIG1vZGFsU2VsZWN0IG1vZGFs6YCJ5oup56ym77yM5pys5L6L5Li64oCcI215TW9kYWzigJ1cclxuICogQHBhcmFtIG1vZGFsRGF0YUFycmF5IGh0bWzku6PnoIHlrZfnrKbkuLLmlbDnu4RcclxuICogQHBhcmFtIGN1cnJlbnRQYWdlSW5kZXgg5b2T5YmN6aG156CBXHJcbiAqIEBwYXJhbSBkaXJlY3Rpb24gMeihqOekuuS4i+S4gOmhteaWueWQke+8jC0x6KGo56S65LiK5LiA6aG15pa55ZCRXHJcbiAqL1xyXG5HaXJkaW5nLnByb3RvdHlwZS5jb250cm9sUGFnZVRvZ2dsZSA9IGZ1bmN0aW9uIChtb2RhbFNlbGVjdCwgbW9kYWxEYXRhQXJyYXksIGN1cnJlbnRQYWdlSW5kZXgsIGRpcmVjdGlvbikge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGFycmF5TGVuZ3RoID0gbW9kYWxEYXRhQXJyYXkubGVuZ3RoO1xyXG4gICAgaWYgKGFycmF5TGVuZ3RoIDw9IDEpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKGRpcmVjdGlvbiA9PSAxKSB7XHJcbiAgICAgICAgLy/lpoLmnpzlvZPliY3pobXmmK/lgJLmlbDnrKzkuozpobXvvIzliJnlsIbkuIvkuIDpobXorr7nva7kuLrlsL7pobVcclxuICAgICAgICBpZiAoY3VycmVudFBhZ2VJbmRleCA9PSBhcnJheUxlbmd0aCAtIDIpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLmj5DkuqRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WmguaenOW9k+WJjemhteaYr+mmlumhte+8jOa3u+WKoOS4iuS4gOmhtVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ID09IDAgJiYgYXJyYXlMZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnByZXZpb3VzLXBhZ2VcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5pu05o2ibW9kYWwtYm9keeWSjOmhteeggVxyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnBhZ2UtaW5kZXhcIikudGV4dCgoKytjdXJyZW50UGFnZUluZGV4KS50b1N0cmluZygpKTtcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5tb2RhbC1ib2R5XCIpLmh0bWwobW9kYWxEYXRhQXJyYXlbY3VycmVudFBhZ2VJbmRleF0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL+WmguaenOW9k+WJjemhteaYr+WwvumhtVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ID09IGFycmF5TGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5uZXh0LXBhZ2VcIikudGV4dChcIuS4i+S4gOmhtVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5aaC5p6c5b2T5YmN6aG15piv5q2j5pWw56ys5LqM6aG1LOWImeWwhuS4iuS4gOmhteiuvue9ruS4uummlumhtVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ID09IDEpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucHJldmlvdXMtcGFnZVwiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/mm7TmjaJtb2RhbC1ib2R55ZKM6aG156CBXHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCgtLWN1cnJlbnRQYWdlSW5kZXgpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm1vZGFsLWJvZHlcIikuaHRtbChtb2RhbERhdGFBcnJheVtjdXJyZW50UGFnZUluZGV4XSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIG1vZGFsU2VsZWN0IG1vZGFs6YCJ5oup56ymXHJcbiAqIEBwYXJhbSBtb2RhbERhdGFBcnJheSBodG1s5Luj56CB5a2X56ym5Liy5pWw57uEXHJcbiAqIEBwYXJhbSBtb2RhbENhbGxiYWNrIG1vZGFs5Zue6LCD5Ye95pWwXHJcbiAqL1xyXG5HaXJkaW5nLnByb3RvdHlwZS5tb2FkbERhdGFDb250cm9sID0gZnVuY3Rpb24gKG1vZGFsU2VsZWN0LCBtb2RhbERhdGFBcnJheSwgbW9kYWxDYWxsYmFjaykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy/liJ3lp4vljJbmqKHmgIHmoYbpppbpobXmlbDmja5cclxuICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm1vZGFsLWJvZHlcIikuaHRtbChtb2RhbERhdGFBcnJheVswXSk7XHJcbiAgICBpZiAobW9kYWxEYXRhQXJyYXkubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5uZXh0LXBhZ2VcIikudGV4dChcIuaPkOS6pFwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+eCueWHu+S4i+S4gOmhtVxyXG4gICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+iwg+eUqOWbnuiwg+WHveaVsFxyXG4gICAgICAgIHNlbGYubW9kYWxDYWxsYmFjaygpXHJcbiAgICAgICAgaWYgKCQodGhpcykudGV4dCgpID09IFwi5o+Q5LqkXCIpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCkubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+iOt+WPluW9k+WJjemhteeggVxyXG4gICAgICAgIHZhciBjdXJyZW50UGFnZUluZGV4ID0gcGFyc2VJbnQoJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCkpO1xyXG4gICAgICAgIHNlbGYuY29udHJvbFBhZ2VUb2dnbGUobW9kYWxTZWxlY3QsIG1vZGFsRGF0YUFycmF5LCBjdXJyZW50UGFnZUluZGV4LCAxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8v54K55Ye75LiK5LiA6aG1XHJcbiAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wcmV2aW91cy1wYWdlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+iOt+WPluW9k+WJjemhteeggVxyXG4gICAgICAgIHZhciBjdXJyZW50UGFnZUluZGV4ID0gcGFyc2VJbnQoJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCkpO1xyXG4gICAgICAgIGNvbnRyb2xQYWdlVG9nZ2xlKG1vZGFsU2VsZWN0LCBtb2RhbERhdGFBcnJheSwgY3VycmVudFBhZ2VJbmRleCwgLTEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy/lhbPpl63mqKHmgIHmoYbml7bvvIzph43nva7kuLrpppbpobVcclxuICAgICQobW9kYWxTZWxlY3QpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCgwKS50b1N0cmluZygpKTtcclxuICAgICAgICBpZiAobW9kYWxEYXRhQXJyYXkubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLmj5DkuqRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLkuIvkuIDpobVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm1vZGFsLWJvZHlcIikuaHRtbChtb2RhbERhdGFBcnJheVswXSk7XHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucHJldmlvdXMtcGFnZVwiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbkdpcmRpbmcucHJvdG90eXBlLm1vZGFsQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBhbGVydChcIuaPkOS6pOaIkOWKn1wiKTtcclxufVxyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGdpcmQgPSBuZXcgR2lyZGluZygpO1xyXG4gICAgZ2lyZC5ydW4oKTtcclxufSlcclxuXHJcblxyXG5mdW5jdGlvbiBSb2JvdCgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucm9ib3RXcmFwcGVyID0gJCgnLnJvYm90LXdyYXBwZXInKTtcclxuICAgIHNlbGYudHJhZGluZ09uV3JhcHBlciA9ICQoJy50cmFkaW5nLW9uJyk7XHJcbiAgICBzZWxmLnRyYWRpbmdTdHJhdGVneVdyYXBwZXIgPSAkKCcudHJhZGluZy1zdHJhdGVneScpO1xyXG4gICAgc2VsZi5zZXRTdHJhdGVneVdyYXBwZXIgPSAkKCcuc2V0LXN0cmF0ZWd5Jyk7XHJcbiAgICBzZWxmLnNldFJpc2tXcmFwcGVyID0gJCgnLnNldC1yaXNrLXN0cmF0ZWd5Jyk7XHJcblxyXG59O1xyXG5cclxuUm9ib3QucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIHNlbGYuaW5pdFlzdGVwRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuQ2xpY2tSb2JvdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNsb3NlUm9ib3RFdmVudCgpO1xyXG4gICAgc2VsZi5sb2Fkc3RlcEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblRyYWRpbmdSb2JvdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNyZWF0VHJhZGluZ0V2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbnBhcmFtZXRlckV2ZW4oKTtcclxuICAgIHNlbGYubGlzdGVuU3VibWl0Um9ib3QoKTtcclxuICAgIC8vIHNlbGYubGlzdGVuQ2xpY2tTdHJhZ2VydHkoKTtcclxuICAgIC8vIHNlbGYuZ2V0QWNjb3VudEluZm9FdmVudCgpO1xyXG5cclxufTtcclxuXHJcblJvYm90LnByb3RvdHlwZS5pbml0WXN0ZXBFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8v5qC55o2ualF1ZXJ56YCJ5oup5Zmo5om+5Yiw6ZyA6KaB5Yqg6L29eXN0ZXDnmoTlrrnlmahcclxuLy9sb2FkU3RlcCDmlrnms5Xlj6/ku6XliJ3lp4vljJZ5c3RlcFxyXG5cclxuICAgICQoXCIueXN0ZXBcIikuc2V0U3RlcCgxKTtcclxuXHJcbn07XHJcblJvYm90LnByb3RvdHlwZS5sb2Fkc3RlcEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi55c3RlcFwiKS5sb2FkU3RlcCh7XHJcbiAgICAgICAgc2l6ZTogXCJsYXJnZVwiLFxyXG4gICAgICAgIGNvbG9yOiBcImdyZWVuXCIsXHJcbiAgICAgICAgc3RlcHM6IFt7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIumAieaLqeS6pOaYk+WvuVwiLFxyXG5cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIumAieaLqeS6pOaYk+etlueVpVwiLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgdGl0bGU6IFwi6K6+572u562W55Wl5Y+C5pWwXCIsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB0aXRsZTogXCLorr7nva7po47pmannrZbnlaVcIixcclxuICAgICAgICB9LF1cclxuICAgIH0pO1xyXG59XHJcblxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xpY2tSb2JvdEVhYWF2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB2YXIgYnRuUHJlID0gJChcIiNidG5QcmVcIilcclxuICAgIHZhciBidG5OZXh0ID0gJChcIiNidG5OZXh0XCIpXHJcbiAgICB2YXIgcm9ib3REYXRhQXJyYXkgPSBuZXcgQXJyYXkoc2VsZi50cmFkaW5nT25XcmFwcGVyLCBzZWxmLnRyYWRpbmdTdHJhdGVneVdyYXBwZXIsIHNlbGYuc2V0U3RyYXRlZ3lXcmFwcGVyLCBzZWxmLnNldFJpc2tXcmFwcGVyKVxyXG4gICAgdmFyIGFycmF5TGVuZ3RoID0gcm9ib3REYXRhQXJyYXkubGVuZ3RoXHJcbiAgICB2YXIgbnVtID0gMDtcclxuICAgIHZhciBjcmVhdHJvYm90Y2xpY2sgPSAwXHJcbiAgICAvLyBjb25zb2xlLmxvZyhhcnJheUxlbmd0aClcclxuICAgIC8vIGlmIChhcnJheUxlbmd0aCA8PSAxKVxyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgICQoJyNjcmVhdGUtcm9ib3QnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNyZWF0cm9ib3RjbGljayA9PSAwKSB7XHJcbiAgICAgICAgICAgIHNlbGYucm9ib3RXcmFwcGVyLnNob3coKTtcclxuICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbbnVtXS5zaG93KClcclxuICAgICAgICAgICAgY3JlYXRyb2JvdGNsaWNrKytcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjcmVhdHJvYm90Y2xpY2spXHJcbiAgICAgICAgICAgIHNlbGYucm9ib3RXcmFwcGVyLnNob3coKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJChcIiNidG5QcmVcIikudW5iaW5kKCk7XHJcbiAgICAgICAgYnRuUHJlLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ251bScpXHJcbiAgICAgICAgICAgIGlmIChudW0gPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtID0gMDtcclxuICAgICAgICAgICAgICAgIC8vIGxpW251bV0uc2hvdygpLnNpYmxpbmcoKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBudW0tLTtcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0JykudGV4dCgn5LiL5LiA5q2lJylcclxuICAgICAgICAgICAgICAgIC8vIGxpW251bV0uc2hvdygpLnNpYmxpbmcoKS5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v6Lez6L2s5Yiw5LiK5LiA5Liq5q2l6aqkXHJcbiAgICAgICAgICAgICQoXCIueXN0ZXBcIikucHJldlN0ZXAoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2YWwnLCByb2JvdERhdGFBcnJheSlcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb2JvdERhdGFBcnJheS5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChudW0gPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByb2JvdERhdGFBcnJheVtpXS5zaG93KClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbaV0uaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKFwiI2J0bk5leHRcIikudW5iaW5kKCk7XHJcbiAgICAgICAgYnRuTmV4dC5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCduZXh0JylcclxuICAgICAgICAgICAgaWYgKG51bSA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLnRleHQoJ+WujOaIkCcpXHJcbiAgICAgICAgICAgICAgICBudW0gPSAzO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBudW0rKztcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0JykudGV4dCgn5LiL5LiA5q2lJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+i3s+i9rOWIsOS4i+S4gOS4quatpemqpFxyXG4gICAgICAgICAgICAkKFwiLnlzdGVwXCIpLm5leHRTdGVwKCk7XHJcbiAgICAgICAgICAgIC8vIHZhciBzdGVwTnVtID0gJChcIi55c3RlcFwiKS5nZXRTdGVwKCk7XHJcbiAgICAgICAgICAgIC8vIHJvYm90RGF0YUFycmF5W3N0ZXBOdW0rMV0uc2hvdygpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0ZXBOdW0pXHJcbiAgICAgICAgICAgICQuZWFjaChyb2JvdERhdGFBcnJheSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChudW0gPT09IGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnNob3coKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5oaWRlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLndhcm5pbmd1c2VyIGxhYmVsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdidG4tc3VjY2VzcycpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xpY2tSb2JvdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB2YXIgYnRuUHJlID0gJChcIiNidG5QcmVcIilcclxuICAgIHZhciBidG5OZXh0ID0gJChcIiNidG5OZXh0XCIpXHJcbiAgICB2YXIgcm9ib3REYXRhQXJyYXkgPSBuZXcgQXJyYXkoc2VsZi50cmFkaW5nT25XcmFwcGVyLCBzZWxmLnRyYWRpbmdTdHJhdGVneVdyYXBwZXIsIHNlbGYuc2V0U3RyYXRlZ3lXcmFwcGVyLCBzZWxmLnNldFJpc2tXcmFwcGVyKVxyXG4gICAgdmFyIGFycmF5TGVuZ3RoID0gcm9ib3REYXRhQXJyYXkubGVuZ3RoXHJcbiAgICB2YXIgbnVtID0gMDtcclxuICAgIHZhciBjcmVhdHJvYm90Y2xpY2sgPSAwXHJcbiAgICAvLyBjb25zb2xlLmxvZyhhcnJheUxlbmd0aClcclxuICAgIC8vIGlmIChhcnJheUxlbmd0aCA8PSAxKVxyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgICQoJyNjcmVhdGUtcm9ib3QnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNyZWF0cm9ib3RjbGljayA9PSAwKSB7XHJcbiAgICAgICAgICAgIHNlbGYucm9ib3RXcmFwcGVyLnNob3coKTtcclxuICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbbnVtXS5zaG93KClcclxuICAgICAgICAgICAgY3JlYXRyb2JvdGNsaWNrKytcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjcmVhdHJvYm90Y2xpY2spXHJcbiAgICAgICAgICAgIHNlbGYucm9ib3RXcmFwcGVyLnNob3coKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ29wZW4xJylcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJkYWlxZVwiKVxyXG4gICAgICAgIC8vIHNlbGYuaW5pdFlzdGVwRXZlbnQoKTtcclxuXHJcbiAgICAgICAgLy8gdmFyIGxpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGknKVxyXG4gICAgICAgIC8vIHZhciBsaWxlbmd0aCA9IGxpLmxlbmd0aDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhsaWxlbmd0aClcclxuICAgICAgICAkKFwiI2J0blByZVwiKS51bmJpbmQoKTtcclxuICAgICAgICBidG5QcmUuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbnVtJylcclxuICAgICAgICAgICAgaWYgKG51bSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBudW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8gbGlbbnVtXS5zaG93KCkuc2libGluZygpLmhpZGUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG51bS0tO1xyXG4gICAgICAgICAgICAgICAgJCgnI2J0bk5leHQnKS50ZXh0KCfkuIvkuIDmraUnKVxyXG4gICAgICAgICAgICAgICAgLy8gbGlbbnVtXS5zaG93KCkuc2libGluZygpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/ot7PovazliLDkuIrkuIDkuKrmraXpqqRcclxuICAgICAgICAgICAgJChcIi55c3RlcFwiKS5wcmV2U3RlcCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndmFsJywgcm9ib3REYXRhQXJyYXkpXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm9ib3REYXRhQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobnVtID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbaV0uc2hvdygpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvYm90RGF0YUFycmF5W2ldLmhpZGUoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKFwiI2J0bk5leHRcIikudW5iaW5kKCk7XHJcbiAgICAgICAgIGJ0bk5leHQuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbkN1cnJlbmN5ID0gJCgnI2N1cnJ5JykuZmluZChcIiBvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpOy8v5Lqk5piT5biB56eNXHJcbiAgICAgICAgICAgIHZhciBtYXJrZXR0aXRsZSA9ICQoJyNtYXJrZXQnKS5maW5kKFwiIG9wdGlvbjpzZWxlY3RlZFwiKS50ZXh0KCk7Ly/kuqTmmJPluILlnLpcclxuICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnNjb250cm9sID0gJCgnLnBhcmFtZXRlcnMtY29udHJvbCcpLmZpbmQoXCIgb3B0aW9uOnNlbGVjdGVkXCIpLnRleHQoKS8v5Lqk5piT6LSm5oi3XHJcbiAgICAgICAgICAgIHZhciByZXNpc3RhbmNldmFsdWUgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycyAudHJhZGluZy1wYXJhbWV0ZXJzIC5yZXNpc3RhbmNlLXZhbHVlJykudmFsKCkvL+mYu+WKm+WAvFxyXG4gICAgICAgICAgICB2YXIgc3VwcG9ydCA9ICQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzIC50cmFkaW5nLXBhcmFtZXRlcnMgLnN1cHBvcnQnKS52YWwoKS8v5pSv5pKR5L2NXHJcbiAgICAgICAgICAgIHZhciBncmlkbnVtYmVyPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycyAudHJhZGluZy1wYXJhbWV0ZXJzIC5ncmlkLW51bWJlcicpLnZhbCgpLy/nvZHmoLzmlbDph49cclxuXHJcblxyXG4gICAgICAgICAgICAvLyBhbGVydCgn6K+36YCJ5oup5Lqk5piT5biB56eNL+S6pOaYk+W4guWcuicpXHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHRleHQgPSB0cmFuc2FjdGlvbkN1cnJlbmN5ICsgJy8nICsgbWFya2V0dGl0bGVcclxuICAgICAgICAgICAgJCgnLnRyYWRpbmctc3RyYXRlZ3kgLnN0cmF0ZWd5LWN1cnJ5IC5jdXJyeScpLnRleHQodGV4dCk7XHJcbiAgICAgICAgICAgICQoJy5zZXQtc3RyYXRlZ3kgLnN0cmF0ZWd5LWN1cnJ5IC5jdXJyeScpLnRleHQodGV4dCk7XHJcbiAgICAgICAgICAgICQoJy5zZXQtcmlzay1zdHJhdGVneSAuc3RyYXRlZ3ktY3VycnkgLmN1cnJ5JykudGV4dCh0ZXh0KTtcclxuXHJcblxyXG4gICAgICAgICAgICAkKCcuc2V0LXN0cmF0ZWd5LXRpdGxlIC5zdHJhdGVneS1wYXJhbWV0ZXJzLXRvcCAudXNlcicpLnRleHQocGFyYW1ldGVyc2NvbnRyb2wpXHJcblxyXG4gICAgICAgICAgICAkKCcuc2V0LXJpc2stc3RyYXRlZ3kgLnNldC1zdHJhdGVneS10aXRsZSAucmVzaXN0YW5jZScpLnRleHQocmVzaXN0YW5jZXZhbHVlKVxyXG4gICAgICAgICAgICAkKCcuc2V0LXJpc2stc3RyYXRlZ3kgLnNldC1zdHJhdGVneS10aXRsZSAuc3VwcG9ydC1sZXZlbCcpLnRleHQoc3VwcG9ydClcclxuICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zZXQtc3RyYXRlZ3ktdGl0bGUgLmdpcmRpbmctbnVtJykudGV4dChncmlkbnVtYmVyKVxyXG5cclxuICAgICAgICAgICAgLy8gJCgnLnRyYWRpbmctc3RyYXRlZ3kgLnN0cmF0ZWd5LWN1cnJ5IC5jdXJyeTEnKS50ZXh0KG1hcmtldHRpdGxlKVxyXG5cclxuICAgICAgICAgICAgdmFyIHN0cmF0ZWd5dGl0bGUgPSAn572R5qC85Lqk5piTdjEuMCdcclxuICAgICAgICAgICAgJCgnLnN0cmF0ZWd5LW5hbWUgLnN0cmF0ZWd5LWJ1dHRvbiBidXR0b24nKS51bmJpbmQoKTtcclxuICAgICAgICAgICAgJCgnLnN0cmF0ZWd5LW5hbWUgLnN0cmF0ZWd5LWJ1dHRvbiBidXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJhdGVneXRpdGxlID0gJCh0aGlzKS50ZXh0KCk7Ly/kuqTmmJPnrZbnlaVcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cmF0ZWd5dGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnNldC1zdHJhdGVneSAuc3RyYXRlZ3ktdGl0bGUgLnN0cmF0ZWd5JykudGV4dChzdHJhdGVneXRpdGxlKVxyXG4gICAgICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zdHJhdGVneS10aXRsZSAuY3VycnknKS50ZXh0KHN0cmF0ZWd5dGl0bGUpXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAvLyAkKCcuc2V0LXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KHRyYW5zYWN0aW9uQ3VycmVuY3kpXHJcbiAgICAgICAgICAgIC8vICQoJy5zZXQtc3RyYXRlZ3kgLnN0cmF0ZWd5LWN1cnJ5IC5jdXJyeTEnKS50ZXh0KG1hcmtldHRpdGxlKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbmV4dCcpXHJcbiAgICAgICAgICAgIGlmIChudW0gPj0gMikge1xyXG4gICAgICAgICAgICAgICAgJCgnI2J0bk5leHQnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuQ29tcGxldGUnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICBudW0gPSAzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLnRleHQoJ+S4i+S4gOatpScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/ot7PovazliLDkuIvkuIDkuKrmraXpqqRcclxuXHJcbiAgICAgICAgICAgIC8vIHZhciBzdGVwTnVtID0gJChcIi55c3RlcFwiKS5nZXRTdGVwKCk7XHJcbiAgICAgICAgICAgIC8vIHJvYm90RGF0YUFycmF5W3N0ZXBOdW0rMV0uc2hvdygpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0ZXBOdW0pXHJcblxyXG4gICAgICAgICAgICAvLyAgaWYgKHRyYW5zYWN0aW9uQ3VycmVuY3k9PSctLS3or7fpgInmi6ktLS0nICkge1xyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2codHJhbnNhY3Rpb25DdXJyZW5jeSlcclxuICAgICAgICAgICAgLy8gICAgICAgICBhbGVydCgn6K+36YCJ5oup5Lqk5piT5biB56eNL+S6pOaYk+W4guWcuicpXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgIG51bT0wO1xyXG4gICAgICAgICAgICAvLyB9ZWxzZXtcclxuICAgICAgICAgICAgJChcIi55c3RlcFwiKS5uZXh0U3RlcCgpO1xyXG4gICAgICAgICAgICAvLyAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICQuZWFjaChyb2JvdERhdGFBcnJheSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChudW0gPT09IGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnNob3coKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5oaWRlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLndhcm5pbmd1c2VyIGxhYmVsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdidG4tc3VjY2VzcycpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xvc2VSb2JvdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNsb3NlQnRuID0gJCgnLmNsb3NlLWJ0bicpO1xyXG4gICAgdmFyIHJvYm90V3JhcHBlciA9ICQoJy5yb2JvdC13cmFwcGVyJyk7XHJcbiAgICBjbG9zZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcm9ib3RXcmFwcGVyLmhpZGUoKTtcclxuXHJcblxyXG4gICAgfSlcclxufTtcclxuUm9ib3QucHJvdG90eXBlLmxpc3RlbkNyZWF0VHJhZGluZ0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnVwZGF0ZS1wcm9wZXJ0eScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcudHJhZGluZ1BhcnRpY3VsYXJzJykuc2hvdygpO1xyXG4gICAgICAgICQoJy50cmFkaW5nU2hhZGUnKS5zaG93KCk7XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlblRyYWRpbmdSb2JvdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRyYWRpbmdjbG9zZWJ0biA9ICQoJy50cmFkaW5nLWNsb3NlLWJ0bicpO1xyXG4gICAgdmFyIHRyYWRpbmdQYXJ0aWN1bGFycyA9ICQoJy50cmFkaW5nUGFydGljdWxhcnMnKTtcclxuICAgIHZhciB0cmFkaW5nU2hhZGUgPSAkKCcudHJhZGluZ1NoYWRlJylcclxuICAgIHZhciB0cmFkaW5nbG9hZGluZyA9ICQoJy50cmFkaW5nLWxvYWRpbmcnKVxyXG4gICAgdmFyIHRyYWRpbmdlbmRpbmcgPSAkKCcudHJhZGluZy1lbmRpbmcnKVxyXG4gICAgdmFyIHRyYWRpbmdjb250YWluZXIgPSAkKCcudHJhZGluZy1jb250YWluZXInKVxyXG4gICAgdmFyIHRyYWRpbmdlbmRpbmd0YWJsZSA9ICQoJy50cmFkaW5nLWVuZGluZy10YWJsZScpXHJcbiAgICB0cmFkaW5nY2xvc2VidG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRyYWRpbmdQYXJ0aWN1bGFycy5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ1NoYWRlLmhpZGUoKTtcclxuICAgIH0pXHJcbiAgICB0cmFkaW5nZW5kaW5nLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdHJhZGluZ2NvbnRhaW5lci5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ2VuZGluZ3RhYmxlLnNob3coKTtcclxuICAgICAgICB0cmFkaW5nbG9hZGluZy50b2dnbGVDbGFzcygnZ3JlZW4nKVxyXG4gICAgICAgIHRyYWRpbmdlbmRpbmcudG9nZ2xlQ2xhc3MoJ2dyZWVuJylcclxuXHJcbiAgICB9KVxyXG4gICAgdHJhZGluZ2xvYWRpbmcuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRyYWRpbmdjb250YWluZXIuc2hvdygpO1xyXG4gICAgICAgIHRyYWRpbmdlbmRpbmd0YWJsZS5oaWRlKCk7XHJcbiAgICAgICAgdHJhZGluZ2VuZGluZy50b2dnbGVDbGFzcygnZ3JlZW4nKVxyXG4gICAgICAgIHRyYWRpbmdsb2FkaW5nLnRvZ2dsZUNsYXNzKCdncmVlbicpXHJcbiAgICB9KVxyXG5cclxufVxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVucGFyYW1ldGVyRXZlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwYXJhbWV0ZXJjb25maWd1cmF0aW9uID0gJCgnLnBhcmFtZXRlci1jb25maWd1cmF0aW9uJyk7XHJcbiAgICB2YXIgcGFyYW1ldGVyY2xvc2VidG4gPSAkKCcucGFyYW1ldGVyLWNsb3NlLWJ0bicpO1xyXG4gICAgdmFyIGRlbGV0ZXByb3BlcnR5ID0gJCgnLmRlbGV0ZS1wcm9wZXJ0eScpO1xyXG4gICAgdmFyIHRyYWRpbmdTaGFkZSA9ICQoJy50cmFkaW5nU2hhZGUnKVxyXG4gICAgZGVsZXRlcHJvcGVydHkuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHBhcmFtZXRlcmNvbmZpZ3VyYXRpb24uc2hvdygpO1xyXG4gICAgICAgIHRyYWRpbmdTaGFkZS5zaG93KCk7XHJcblxyXG4gICAgfSlcclxuICAgIHBhcmFtZXRlcmNsb3NlYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwYXJhbWV0ZXJjb25maWd1cmF0aW9uLmhpZGUoKTtcclxuICAgICAgICB0cmFkaW5nU2hhZGUuaGlkZSgpO1xyXG4gICAgfSlcclxufVxyXG5cclxuUm9ib3QucHJvdG90eXBlLmdldEFjY291bnRJbmZvRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcGFyYW50ZXJzR3JvdXAgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycycpXHJcbiAgICBpZCA9IHBhcmFudGVyc0dyb3VwLmZpbmQoXCJzZWxlY3RbJ25hbWU9J2FjY291bnQnXVwiKS52YWwoKVxyXG4gICAgY29uc29sZS5sb2coaWQpXHJcblxyXG5cclxufVxyXG5cclxuXHJcblJvYm90LnByb3RvdHlwZS5saXN0ZW5DbGlja1N0cmFnZXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBidG5MaXN0ID0gJCgnLmRlYWwtc3RyYXRlZ3knKVxyXG4gICAgYnRuTGlzdC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBidG4gPSAkKGVsZW1lbnQpXHJcbiAgICAgICAgYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYnRuLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuU3VibWl0Um9ib3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYnRuQ29tcGxldGUgPSAkKCcuYnRuQ29tcGxldGUgJylcclxuICAgIC8v6I635Y+W5Lqk5piT5a+55pWw5o2uXHJcbiAgICBidG5Db21wbGV0ZS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJvYm90R3JvdXAgPSAkKCcuc2V0LXJpc2stc3RyYXRlZ3knKVxyXG4gICAgICAgIHZhciBjdXJyeSA9IHJvYm90R3JvdXAuZmluZCgnLmN1cnJ5JykudGV4dCgpICAgICAgICAvL+S6pOaYk+WvuVxyXG4gICAgICAgIHZhciBzdHJyID0gY3Vycnkuc3BsaXQoJy8nKVxyXG4gICAgICAgIHZhciBjdXJyZW55ID0gc3RyclswXVxyXG4gICAgICAgIHZhciBtYXJrZXQgPSBzdHJyWzFdXHJcbiAgICAgICAgY29uc29sZS5sb2coY3VycmVueSwgbWFya2V0KVxyXG4gICAgICAgIHZhciBzdHJhdGVneSA9IHJvYm90R3JvdXAuZmluZCgnLnN0cmF0ZWd5JykudGV4dCgpIC8v5Lqk5piT562W55WlXHJcbiAgICAgICAgdmFyIGFjY291bnQgPSByb2JvdEdyb3VwLmZpbmQoJy5hY2NvdW50LXZhbHVlJykudGV4dCgpICAvL+i0puaIt1xyXG4gICAgICAgIHZhciByZXNpc3RhbmNlID0gcm9ib3RHcm91cC5maW5kKCcucmVzaXN0YW5jZS12YWx1ZScpLnRleHQoKSAvL+mYu+WKm+S9jVxyXG4gICAgICAgIHZhciBzdXBwb3J0ID0gcm9ib3RHcm91cC5maW5kKCcuc3VwcG9ydC12YWx1ZScpLnRleHQoKVxyXG4gICAgICAgIHZhciBnaXJkaW5nX251bSA9IHJvYm90R3JvdXAuZmluZCgnLmdpcmRpbmctdmFsdWUnKS50ZXh0KClcclxuICAgICAgICB2YXIgZnJlZSA9IHJvYm90R3JvdXAuZmluZCgnLmRlYWwtYWNjb3VudC1mcmVlJykudGV4dCgpXHJcbiAgICAgICAgdmFyIGdpcmRpbmdfcHJvZml0ID0gcm9ib3RHcm91cC5maW5kKCcuZ2lyZGluZy1wcm9maXQtdmFsdWUnKS50ZXh0KClcclxuICAgICAgICBjb25zb2xlLmxvZyhzdHJhdGVneSwgYWNjb3VudCwgcmVzaXN0YW5jZSwgc3VwcG9ydCwgZ2lyZGluZ19udW0sIGZyZWUsIGdpcmRpbmdfcHJvZml0KVxyXG5cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzonJyxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcblxyXG59XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcm9ib3QgPSBuZXcgUm9ib3QoKTtcclxuICAgIHJvYm90LnJ1bigpO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==
