function Girding(){}function Robot(){var t=this;t.robotWrapper=$(".robot-wrapper"),t.tradingOnWrapper=$(".trading-on"),t.tradingStrategyWrapper=$(".trading-strategy"),t.setStrategyWrapper=$(".set-strategy"),t.setRiskWrapper=$(".set-risk-strategy")}Girding.prototype.run=function(){},Girding.prototype.modalRun=function(){var t=this,e=new Array(t.step1,t.stept2);t.moadlDataControl("#modal",e,t.modalCallback())},Girding.prototype.controlPageToggle=function(t,e,r,o){var a=e.length;a<=1||(1==o?(r==a-2&&$(t+" .next-page").text("提交"),0==r&&1<a&&$(t+" .previous-page").removeClass("hidden"),$(t+" .page-index").text((++r).toString())):(r==a-1&&$(t+" .next-page").text("下一页"),1==r&&$(t+" .previous-page").addClass("hidden"),$(t+" .page-index").text((--r).toString())),$(t+" .modal-body").html(e[r]))},Girding.prototype.moadlDataControl=function(e,r,t){var o=this;$(e+" .modal-body").html(r[0]),r.length<=1&&$(e+" .next-page").text("提交"),$(e+" .next-page").click(function(){if(o.modalCallback(),"提交"!=$(this).text()){var t=parseInt($(e+" .page-index").text());o.controlPageToggle(e,r,t,1)}else $(e).modal("hide")}),$(e+" .previous-page").click(function(){var t=parseInt($(e+" .page-index").text());controlPageToggle(e,r,t,-1)}),$(e).on("hidden.bs.modal",function(){$(e+" .page-index").text((0).toString()),r.length<=1?$(e+" .next-page").text("提交"):$(e+" .next-page").text("下一页"),$(e+" .modal-body").html(r[0]),$(e+" .previous-page").addClass("hidden")})},Girding.prototype.modalCallback=function(){alert("提交成功")},$(function(){(new Girding).run()}),Robot.prototype.run=function(){var t=this;t.listenClickRobotEvent(),t.listenCloseRobotEvent(),t.loadstepEvent(),t.listenTradingRobotEvent(),t.listenCreatTradingEvent(),t.listenparameterEven(),t.listenSubmitRobot(),t.runRobotEvent(),t.protectRelieve(),t.getAccountInfoEvent(),t.setCurrentPrice()},Robot.prototype.initYstepEvent=function(){$(".ystep").setStep(1)},Robot.prototype.loadstepEvent=function(){$(".ystep").loadStep({size:"large",color:"green",steps:[{title:"选择交易对"},{title:"选择交易策略"},{title:"设置策略参数"},{title:"设置风险策略"}]})},Robot.prototype.listenClickRobotEaaavent=function(){var t=this,e=$("#btnPre"),r=$("#btnNext"),i=new Array(t.tradingOnWrapper,t.tradingStrategyWrapper,t.setStrategyWrapper,t.setRiskWrapper),l=(i.length,0),o=0;$("#create-robot").on("click",function(){0==o?(t.robotWrapper.show(),i[l].show(),o++):(console.log(o),t.robotWrapper.show()),$("#btnPre").unbind(),e.click(function(){console.log("num"),l<=0?l=0:(l--,$("#btnNext").text("下一步")),$(".ystep").prevStep(),console.log("val",i);for(var t=0;t<i.length;t++)l===t?i[t].show():i[t].hide()}),$("#btnNext").unbind(),r.click(function(){var t=$("#curry").find(" option:selected").text(),e=$("#market").find(" option:selected").text(),r=$(".parameters-control").find(" option:selected").text(),o=$(".strategy-parameters .trading-parameters .resistance-value").val(),a=$(".strategy-parameters .trading-parameters .support").val(),n=$(".strategy-parameters .trading-parameters .grid-number").val(),s=t+"/"+e;$(".trading-strategy .strategy-curry .curry").text(s),$(".set-strategy .strategy-curry .curry").text(s),$(".set-risk-strategy .strategy-curry .curry").text(s),$(".set-strategy-title .strategy-parameters-top .user").text(r),$(".set-risk-strategy .set-strategy-title .resistance").text(o),$(".set-risk-strategy .set-strategy-title .support-level").text(a),$(".set-risk-strategy .set-strategy-title .girding-num").text(n);$(".strategy-name .strategy-button button").unbind(),$(".strategy-name .strategy-button button").on("click",function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).text();console.log(t),$(".set-strategy .strategy-title .strategy").text(t),$(".set-risk-strategy .strategy-title .curry").text(t)}),console.log("next"),2<=l?($("#btnNext").hide(),$("#btnComplete").show(),l=3):(l++,$("#btnNext").text("下一步")),$(".ystep").nextStep(),$.each(i,function(t,e){l===t?e.show():e.hide()})}),$(".warninguser label").on("click",function(){$(this).toggleClass("btn-success")})})},Robot.prototype.listenClickRobotEvent=function(){var t=this,e=$("#btnPre"),r=$("#btnNext"),i=new Array(t.tradingOnWrapper,t.tradingStrategyWrapper,t.setStrategyWrapper,t.setRiskWrapper),l=0,o=0;$("#create-robot").on("click",function(){0==o?(t.robotWrapper.show(),i[l].show(),o++):(console.log(o),t.robotWrapper.show()),$("#btnPre").unbind(),e.click(function(){console.log("num"),l<=0?l=0:(l--,$("#btnNext").show().text("下一步"),$("#btnComplete").hide()),$(".ystep").prevStep(),console.log("val",i);for(var t=0;t<i.length;t++)l===t?i[t].show():i[t].hide()}),$("#btnNext").unbind(),r.click(function(){var t=$("#curry").find(" option:selected").text(),e=$("#market").find(" option:selected").text(),r=$(".parameters-control").find(" option:selected").text(),o=$(".strategy-parameters .trading-parameters .resistance-value").val(),a=$(".strategy-parameters .trading-parameters .support").val(),n=$(".strategy-parameters .trading-parameters .grid-number").val(),s=t+"/"+e;$(".trading-strategy .strategy-curry .curry").text(s),$(".set-strategy .strategy-curry .curry").text(s),$(".set-risk-strategy .strategy-curry .curry").text(s),$(".set-strategy-title .strategy-parameters-top .user").text(r),$(".set-risk-strategy .set-strategy-title .resistance").text(o),$(".set-risk-strategy .set-strategy-title .support-level").text(a),$(".set-risk-strategy .set-strategy-title .girding-num").text(n);$(".strategy-name .strategy-button button").unbind(),$(".strategy-name .strategy-button button").on("click",function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).text();console.log(t),$(".set-strategy .strategy-title .strategy").text(t),$(".set-risk-strategy .strategy-title .curry").text(t)}),2<=l?($("#btnNext").hide(),$("#btnComplete").show(),l=3):(l++,$("#btnNext").text("下一步")),$(".ystep").nextStep(),$.each(i,function(t,e){l===t?e.show():e.hide()})}),$(".warninguser label").on("click",function(){$(this).toggleClass("btn-success")})})},Robot.prototype.listenCloseRobotEvent=function(){var t=$(".close-btn"),e=$(".robot-wrapper");t.click(function(){e.hide()})},Robot.prototype.listenCreatTradingEvent=function(){$(".robot-details").on("click",function(){$(".tradingParticulars").show(),$(".tradingShade").show();var t=$(this).parent().parent().attr("data-id");console.log(t),xfzajax.post({url:"/deal/showtradedetail/",data:{robot_id:t},success:function(t){var e=t.data;console.log(e);var r=template("",{robots:e});$(".tradingParticulars").append(r)}})})},Robot.prototype.listenTradingRobotEvent=function(){var t=$(".trading-close-btn"),e=$(".tradingParticulars"),r=$(".tradingShade"),o=$(".trading-loading"),a=$(".trading-ending"),n=$(".trading-container"),s=$(".trading-ending-table");t.click(function(){e.hide(),r.hide()}),a.click(function(){n.hide(),s.show(),o.toggleClass("green"),a.toggleClass("green")}),o.click(function(){n.show(),s.hide(),a.toggleClass("green"),o.toggleClass("green")})},Robot.prototype.listenparameterEven=function(){var e=$(".parameter-configuration"),t=$(".parameter-close-btn"),r=$(".allocation"),o=$(".tradingShade");r.click(function(){e.show(),o.show();var t=$(this).parent().parent().attr("data-id");xfzajax.post({url:"/deal/showconfiginfo/",data:{robot_id:t},success:function(t){var e=JSON.parse(t.data);console.log(e[0].fields);var r=e[0].fields,o=template("robots-details",{robot:r});console.log(r),$("#parameter-list-content").append(o)}})}),t.click(function(){e.hide(),o.hide()})},Robot.prototype.getAccountInfoEvent=function(){console.log("sfsfsfsdf"),$("#robot-account").change(function(){var t=$(".set-strategy").find(".strategy-curry .curry").text().split("/"),e=t[0],r=t[1],o=$("#robot-account").find("option:selected").val();xfzajax.post({url:"/deal/getaccountinfo/",data:{"curry-title":e,"market-title":r,account_id:o},success:function(t){if(200===t.code){var e=t.data;console.log(e);var a=e.resistance,n=e.support_level,r=e.currency,o=e.last,s=e.market;$(".current-price .price").text(o),$(".account-details .currency").text(r),$(".account-details .market").text(s);var i=$("#stratery-girding-num ").val(),l=$("#one-girding-free").val(),c=(a-n)/i,g=(c-(2*a+c)*l)/a+"%-"+(c-(2*n+c)*l)/n+"%";$(".resistance-value").val(a),$(".support-value").val(n),$(".profit-value").text(g),$("#stratery-girding-num").on("blur",function(){if(""==!$("#stratery-girding-num").val()){var t=$("#stratery-girding-num ").val(),e=$("#one-girding-free").val(),r=(a-n)/t,o=(r-(2*a+r)*e)/a+"%-"+(r-(2*n+r)*e)/n+"%";$(".profit-value").text(o)}}),$("#one-girding-free").on("blur",function(){if(""==!$("#one-girding-free").val()){var t=$("#stratery-girding-num ").val(),e=$("#one-girding-free").val(),r=(a-n)/t,o=(r-(2*a+r)*e)/a+"%-"+(r-(2*n+r)*e)/n+"%";$(".profit-value").text(o)}}),$(".resistance-value").on("blur",function(){var t=$(".resistance-value").val(),e=$(".current-price .price").val();""==!t&&(t<=e?(console.log("sf"),$(".resistance-error-message .error").text("阻力位不得低于等于当前价")):$(".resistance-error-message .error").text(""))}),$("")}}})})},Robot.prototype.listenClickStragerty=function(){$(".deal-strategy").each(function(t,e){var r=$(e);r.click(function(){r.addClass("active").siblings().removeClass("active")})})},Robot.prototype.listenSubmitRobot=function(){$("#btnComplete ").click(function(){console.log("dafasdf");var t=$(".set-risk-strategy").find(".strategy-curry .curry").text().split("/"),e=t[0],r=t[1];console.log("交易币种",e),console.log("交易市场",r);var o=$(".set-risk-strategy .strategy-title .curry").text();console.log(o);var a=$("#robot-account").find("option:selected").val(),n=$(".strategy-parameters-top .resistance").text(),s=$(".strategy-parameters-top .support-level").text(),i=$(".strategy-parameters-top .girding-num").text(),l=$(".current-price .price").text(),c=$(".millisecond-value").val(),g=$(".mix-number .value ").val(),p=$(".max-number .value ").val();console.log("当前价:",l,"毫秒:",c,"最小数量:",g,"最大数量",p);var u=$(".strategy-parameters-below .deal-account").text(),d=$(".strategy-parameters-below .resistance").text(),y=$(".stopLoss .loss").val(),v=$(".warning .value").val(),f=$(".warninguser .active");console.log(f);for(var b="",x=0;x<f.length;x++){var m=f[x];console.log(m),b+=$(m).text()+""}console.log(b),console.log("止损价",y,v),console.log("策略：",o,"账户：",a,"阻力位:",n,"支撑位:",s,"网格数量:",i,"交易手续费",u,"网格利润",d),xfzajax.post({url:"/deal/createrobot/",data:{trading_account:a,currency:e,market:r,trading_strategy:o,total_money:0,float_profit:0,realized_profit:0,total_profit:0,annual_yield:0,protection:2,status:0,current_price:l,orders_frequency:c,resistance:n,support_level:s,girding_num:i,procudere_fee:u,min_num:g,max_num:p,girding_profit:d,stop_price:y,warning_price:v,warning_account:b},success:function(t){console.log(t),200===t.code&&xfzalert.alertSuccess("添加机器人成功",function(){window.location.reload()})}})})},Robot.prototype.runRobotEvent=function(){$(".run-stop").click(function(){var t=$(this).parent().parent(),e=t.attr("data-id"),r=t.attr("statu");xfzajax.post({url:"/deal/startrobot/",data:{robot_id:e,flag:r},traditional:!0,success:function(t){200===t.code&&console.log(t)}})})},Robot.prototype.setCurrentPrice=function(){$("#set-currenPrice").click(function(){var t=$(".set-price").val();console.log(t),$(".current-price .price").text(t)})},Robot.prototype.protectRelieve=function(){$(".protect-relieve").on("click",function(){var t=$(this).parent().parent().attr("data-id");console.log(t);var e=$(this).text();console.log(e);var r=$(this).siblings(),o=$(r[0]).text();if(console.log("****"),console.log(o),"运行"===o||"运行(保护)"===o)var a="运行";if("停止"===o||"停止(保护)"===o)a="停止";if("保护"===e){var n=o+"("+e+")";console.log(n),$(r[0]).text(n),$(this).text("解除")}else $(r[0]).text(a),$(this).text("保护");xfzajax.post({url:"/deal/robot_protection/",data:{robot_id:t},success:function(t){console.log(t)}})})},$(function(){(new Robot).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdpcmRpbmcuanMiXSwibmFtZXMiOlsiR2lyZGluZyIsIlJvYm90Iiwic2VsZiIsInRoaXMiLCJyb2JvdFdyYXBwZXIiLCIkIiwidHJhZGluZ09uV3JhcHBlciIsInRyYWRpbmdTdHJhdGVneVdyYXBwZXIiLCJzZXRTdHJhdGVneVdyYXBwZXIiLCJzZXRSaXNrV3JhcHBlciIsInByb3RvdHlwZSIsInJ1biIsIm1vZGFsUnVuIiwibW9kYWxEYXRhQXJyYXkiLCJBcnJheSIsInN0ZXAxIiwic3RlcHQyIiwibW9hZGxEYXRhQ29udHJvbCIsIm1vZGFsQ2FsbGJhY2siLCJjb250cm9sUGFnZVRvZ2dsZSIsIm1vZGFsU2VsZWN0IiwiY3VycmVudFBhZ2VJbmRleCIsImRpcmVjdGlvbiIsImFycmF5TGVuZ3RoIiwibGVuZ3RoIiwidGV4dCIsInJlbW92ZUNsYXNzIiwidG9TdHJpbmciLCJhZGRDbGFzcyIsImh0bWwiLCJjbGljayIsInBhcnNlSW50IiwibW9kYWwiLCJvbiIsImFsZXJ0IiwibGlzdGVuQ2xpY2tSb2JvdEV2ZW50IiwibGlzdGVuQ2xvc2VSb2JvdEV2ZW50IiwibG9hZHN0ZXBFdmVudCIsImxpc3RlblRyYWRpbmdSb2JvdEV2ZW50IiwibGlzdGVuQ3JlYXRUcmFkaW5nRXZlbnQiLCJsaXN0ZW5wYXJhbWV0ZXJFdmVuIiwibGlzdGVuU3VibWl0Um9ib3QiLCJydW5Sb2JvdEV2ZW50IiwicHJvdGVjdFJlbGlldmUiLCJnZXRBY2NvdW50SW5mb0V2ZW50Iiwic2V0Q3VycmVudFByaWNlIiwiaW5pdFlzdGVwRXZlbnQiLCJzZXRTdGVwIiwibG9hZFN0ZXAiLCJzaXplIiwiY29sb3IiLCJzdGVwcyIsInRpdGxlIiwibGlzdGVuQ2xpY2tSb2JvdEVhYWF2ZW50IiwiYnRuUHJlIiwiYnRuTmV4dCIsInJvYm90RGF0YUFycmF5IiwibnVtIiwiY3JlYXRyb2JvdGNsaWNrIiwic2hvdyIsImNvbnNvbGUiLCJsb2ciLCJ1bmJpbmQiLCJwcmV2U3RlcCIsImkiLCJoaWRlIiwidHJhbnNhY3Rpb25DdXJyZW5jeSIsImZpbmQiLCJtYXJrZXR0aXRsZSIsInBhcmFtZXRlcnNjb250cm9sIiwicmVzaXN0YW5jZXZhbHVlIiwidmFsIiwic3VwcG9ydCIsImdyaWRudW1iZXIiLCJzaWJsaW5ncyIsInN0cmF0ZWd5dGl0bGUiLCJuZXh0U3RlcCIsImVhY2giLCJrZXkiLCJ2YWx1ZSIsInRvZ2dsZUNsYXNzIiwiY2xvc2VCdG4iLCJyb2JvdF9pZCIsInBhcmVudCIsImF0dHIiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0Iiwicm9ib3QiLCJ0cGwiLCJ0ZW1wbGF0ZSIsInJvYm90cyIsImFwcGVuZCIsInRyYWRpbmdjbG9zZWJ0biIsInRyYWRpbmdQYXJ0aWN1bGFycyIsInRyYWRpbmdTaGFkZSIsInRyYWRpbmdsb2FkaW5nIiwidHJhZGluZ2VuZGluZyIsInRyYWRpbmdjb250YWluZXIiLCJ0cmFkaW5nZW5kaW5ndGFibGUiLCJwYXJhbWV0ZXJjb25maWd1cmF0aW9uIiwicGFyYW1ldGVyY2xvc2VidG4iLCJkZWxldGVwcm9wZXJ0eSIsIkpTT04iLCJwYXJzZSIsImNoYW5nZSIsInN0cnIiLCJzcGxpdCIsImN1cnJ5IiwibWFya2V0IiwiaWQiLCJjdXJyeS10aXRsZSIsIm1hcmtldC10aXRsZSIsImFjY291bnRfaWQiLCJyZXNpc3RhbmNlIiwic3VwcG9ydF9sZXZlbCIsImN1cnJlbmN5IiwibGFzdCIsImZyZWUiLCJnaXJkaW5nIiwicHJvZml0IiwicHJpY2UiLCJsaXN0ZW5DbGlja1N0cmFnZXJ0eSIsImluZGV4IiwiZWxlbWVudCIsImJ0biIsImN1cnJlbnkiLCJzdHJhdGVneSIsImFjY291bnQiLCJnaXJkaW5nX251bSIsImN1cnJlbl9wcmljZSIsIm1pbGxpc2Vjb25kIiwibWl4X251bSIsIm1heF9udW0iLCJnaXJkaW5nX3Byb2ZpdCIsInN0b3Bsb3NzIiwid2FyaW5nIiwidXNlckxpc3QiLCJ1c2VycyIsInRyYWRpbmdfYWNjb3VudCIsInRyYWRpbmdfc3RyYXRlZ3kiLCJ0b3RhbF9tb25leSIsImZsb2F0X3Byb2ZpdCIsInJlYWxpemVkX3Byb2ZpdCIsInRvdGFsX3Byb2ZpdCIsImFubnVhbF95aWVsZCIsInByb3RlY3Rpb24iLCJzdGF0dXMiLCJjdXJyZW50X3ByaWNlIiwib3JkZXJzX2ZyZXF1ZW5jeSIsInByb2N1ZGVyZV9mZWUiLCJtaW5fbnVtIiwic3RvcF9wcmljZSIsIndhcm5pbmdfcHJpY2UiLCJ3YXJuaW5nX2FjY291bnQiLCJ4ZnphbGVydCIsImFsZXJ0U3VjY2VzcyIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwidHIiLCJmbGFnIiwidHJhZGl0aW9uYWwiLCJwcmljZTEiLCJydW5mbGciLCJmbGdfdGV4dCIsIm5ld192YWx1ZSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsV0FvSFQsU0FBU0MsUUFDTCxJQUFJQyxFQUFPQyxLQUNYRCxFQUFLRSxhQUFlQyxFQUFFLGtCQUN0QkgsRUFBS0ksaUJBQW1CRCxFQUFFLGVBQzFCSCxFQUFLSyx1QkFBeUJGLEVBQUUscUJBQ2hDSCxFQUFLTSxtQkFBcUJILEVBQUUsaUJBQzVCSCxFQUFLTyxlQUFpQkosRUFBRSxzQkFySDVCTCxRQUFRVSxVQUFVQyxJQUFNLGFBTXhCWCxRQUFRVSxVQUFVRSxTQUFXLFdBQ3pCLElBQUlWLEVBQU9DLEtBQ1BVLEVBQWlCLElBQUlDLE1BQU1aLEVBQUthLE1BQU9iLEVBQUtjLFFBQ2hEZCxFQUFLZSxpQkFBaUIsU0FBVUosRUFBZ0JYLEVBQUtnQixrQkFTekRsQixRQUFRVSxVQUFVUyxrQkFBb0IsU0FBVUMsRUFBYVAsRUFBZ0JRLEVBQWtCQyxHQUMzRixJQUNJQyxFQUFjVixFQUFlVyxPQUM3QkQsR0FBZSxJQUVGLEdBQWJELEdBRUlELEdBQW9CRSxFQUFjLEdBQ2xDbEIsRUFBRWUsRUFBYyxlQUFvQkssS0FBSyxNQUlyQixHQUFwQkosR0FBdUMsRUFBZEUsR0FDekJsQixFQUFFZSxFQUFjLG1CQUF3Qk0sWUFBWSxVQUd4RHJC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Q0FDZixJQUFJSyxFQUFZRixFQUFTLElBQU1ILEVBQU8sSUFDdEN4RyxRQUFRQyxJQUFJNEcsR0FDWnBLLEVBQUUwSCxFQUFRLElBQUl0RyxLQUFLZ0osR0FDbkJwSyxFQUFFRixNQUFNc0IsS0FBSyxXQUVicEIsRUFBRTBILEVBQVEsSUFBSXRHLEtBQUsrSSxHQUNuQm5LLEVBQUVGLE1BQU1zQixLQUFLLE1BRWpCNEQsUUFBUUMsS0FBSyxDQUNUQyxJQUFNLDBCQUNOQyxLQUFPLENBQ0hOLFNBQVdBLEdBRWZPLFFBQVUsU0FBVUMsR0FDaEI5QixRQUFRQyxJQUFJNkIsU0FPNUJyRixFQUFFLFlBQ2MsSUFBSUosT0FDVlUiLCJmaWxlIjoiZ2lyZGluZy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBHaXJkaW5nKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxufTtcclxuXHJcbkdpcmRpbmcucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIHNlbGYubW9kYWxSdW4oKTtcclxuICAgIC8vIHNlbGYubGlzdGVuU3RlcHNFdmVudCgpXHJcbn07XHJcblxyXG5HaXJkaW5nLnByb3RvdHlwZS5tb2RhbFJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBtb2RhbERhdGFBcnJheSA9IG5ldyBBcnJheShzZWxmLnN0ZXAxLCBzZWxmLnN0ZXB0Mik7XHJcbiAgICBzZWxmLm1vYWRsRGF0YUNvbnRyb2woXCIjbW9kYWxcIiwgbW9kYWxEYXRhQXJyYXksIHNlbGYubW9kYWxDYWxsYmFjaygpKVxyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gbW9kYWxTZWxlY3QgbW9kYWzpgInmi6nnrKbvvIzmnKzkvovkuLrigJwjbXlNb2RhbOKAnVxyXG4gKiBAcGFyYW0gbW9kYWxEYXRhQXJyYXkgaHRtbOS7o+eggeWtl+espuS4suaVsOe7hFxyXG4gKiBAcGFyYW0gY3VycmVudFBhZ2VJbmRleCDlvZPliY3pobXnoIFcclxuICogQHBhcmFtIGRpcmVjdGlvbiAx6KGo56S65LiL5LiA6aG15pa55ZCR77yMLTHooajnpLrkuIrkuIDpobXmlrnlkJFcclxuICovXHJcbkdpcmRpbmcucHJvdG90eXBlLmNvbnRyb2xQYWdlVG9nZ2xlID0gZnVuY3Rpb24gKG1vZGFsU2VsZWN0LCBtb2RhbERhdGFBcnJheSwgY3VycmVudFBhZ2VJbmRleCwgZGlyZWN0aW9uKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYXJyYXlMZW5ndGggPSBtb2RhbERhdGFBcnJheS5sZW5ndGg7XHJcbiAgICBpZiAoYXJyYXlMZW5ndGggPD0gMSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICBpZiAoZGlyZWN0aW9uID09IDEpIHtcclxuICAgICAgICAvL+WmguaenOW9k+WJjemhteaYr+WAkuaVsOesrOS6jOmhte+8jOWImeWwhuS4i+S4gOmhteiuvue9ruS4uuWwvumhtVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ID09IGFycmF5TGVuZ3RoIC0gMikge1xyXG4gICAgICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5uZXh0LXBhZ2VcIikudGV4dChcIuaPkOS6pFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5aaC5p6c5b2T5YmN6aG15piv6aaW6aG177yM5re75Yqg5LiK5LiA6aG1XHJcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlSW5kZXggPT0gMCAmJiBhcnJheUxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucHJldmlvdXMtcGFnZVwiKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/mm7TmjaJtb2RhbC1ib2R55ZKM6aG156CBXHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCgrK2N1cnJlbnRQYWdlSW5kZXgpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm1vZGFsLWJvZHlcIikuaHRtbChtb2RhbERhdGFBcnJheVtjdXJyZW50UGFnZUluZGV4XSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8v5aaC5p6c5b2T5YmN6aG15piv5bC+6aG1XHJcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlSW5kZXggPT0gYXJyYXlMZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm5leHQtcGFnZVwiKS50ZXh0KFwi5LiL5LiA6aG1XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/lpoLmnpzlvZPliY3pobXmmK/mraPmlbDnrKzkuozpobUs5YiZ5bCG5LiK5LiA6aG16K6+572u5Li66aaW6aG1XHJcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlSW5kZXggPT0gMSkge1xyXG4gICAgICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wcmV2aW91cy1wYWdlXCIpLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+abtOaNom1vZGFsLWJvZHnlkozpobXnoIFcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wYWdlLWluZGV4XCIpLnRleHQoKC0tY3VycmVudFBhZ2VJbmRleCkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubW9kYWwtYm9keVwiKS5odG1sKG1vZGFsRGF0YUFycmF5W2N1cnJlbnRQYWdlSW5kZXhdKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gbW9kYWxTZWxlY3QgbW9kYWzpgInmi6nnrKZcclxuICogQHBhcmFtIG1vZGFsRGF0YUFycmF5IGh0bWzku6PnoIHlrZfnrKbkuLLmlbDnu4RcclxuICogQHBhcmFtIG1vZGFsQ2FsbGJhY2sgbW9kYWzlm57osIPlh73mlbBcclxuICovXHJcbkdpcmRpbmcucHJvdG90eXBlLm1vYWRsRGF0YUNvbnRyb2wgPSBmdW5jdGlvbiAobW9kYWxTZWxlY3QsIG1vZGFsRGF0YUFycmF5LCBtb2RhbENhbGxiYWNrKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvL+WIneWni+WMluaooeaAgeahhummlumhteaVsOaNrlxyXG4gICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubW9kYWwtYm9keVwiKS5odG1sKG1vZGFsRGF0YUFycmF5WzBdKTtcclxuICAgIGlmIChtb2RhbERhdGFBcnJheS5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm5leHQtcGFnZVwiKS50ZXh0KFwi5o+Q5LqkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v54K55Ye75LiL5LiA6aG1XHJcbiAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5uZXh0LXBhZ2VcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8v6LCD55So5Zue6LCD5Ye95pWwXHJcbiAgICAgICAgc2VsZi5tb2RhbENhbGxiYWNrKClcclxuICAgICAgICBpZiAoJCh0aGlzKS50ZXh0KCkgPT0gXCLmj5DkuqRcIikge1xyXG4gICAgICAgICAgICAkKG1vZGFsU2VsZWN0KS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v6I635Y+W5b2T5YmN6aG156CBXHJcbiAgICAgICAgdmFyIGN1cnJlbnRQYWdlSW5kZXggPSBwYXJzZUludCgkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wYWdlLWluZGV4XCIpLnRleHQoKSk7XHJcbiAgICAgICAgc2VsZi5jb250cm9sUGFnZVRvZ2dsZShtb2RhbFNlbGVjdCwgbW9kYWxEYXRhQXJyYXksIGN1cnJlbnRQYWdlSW5kZXgsIDEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy/ngrnlh7vkuIrkuIDpobVcclxuICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnByZXZpb3VzLXBhZ2VcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8v6I635Y+W5b2T5YmN6aG156CBXHJcbiAgICAgICAgdmFyIGN1cnJlbnRQYWdlSW5kZXggPSBwYXJzZUludCgkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wYWdlLWluZGV4XCIpLnRleHQoKSk7XHJcbiAgICAgICAgY29udHJvbFBhZ2VUb2dnbGUobW9kYWxTZWxlY3QsIG1vZGFsRGF0YUFycmF5LCBjdXJyZW50UGFnZUluZGV4LCAtMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL+WFs+mXreaooeaAgeahhuaXtu+8jOmHjee9ruS4uummlumhtVxyXG4gICAgJChtb2RhbFNlbGVjdCkub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wYWdlLWluZGV4XCIpLnRleHQoKDApLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGlmIChtb2RhbERhdGFBcnJheS5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5uZXh0LXBhZ2VcIikudGV4dChcIuaPkOS6pFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5uZXh0LXBhZ2VcIikudGV4dChcIuS4i+S4gOmhtVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubW9kYWwtYm9keVwiKS5odG1sKG1vZGFsRGF0YUFycmF5WzBdKTtcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wcmV2aW91cy1wYWdlXCIpLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xyXG4gICAgfSlcclxufVxyXG5cclxuR2lyZGluZy5wcm90b3R5cGUubW9kYWxDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFsZXJ0KFwi5o+Q5Lqk5oiQ5YqfXCIpO1xyXG59XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZ2lyZCA9IG5ldyBHaXJkaW5nKCk7XHJcbiAgICBnaXJkLnJ1bigpO1xyXG59KVxyXG5cclxuXHJcbmZ1bmN0aW9uIFJvYm90KCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5yb2JvdFdyYXBwZXIgPSAkKCcucm9ib3Qtd3JhcHBlcicpO1xyXG4gICAgc2VsZi50cmFkaW5nT25XcmFwcGVyID0gJCgnLnRyYWRpbmctb24nKTtcclxuICAgIHNlbGYudHJhZGluZ1N0cmF0ZWd5V3JhcHBlciA9ICQoJy50cmFkaW5nLXN0cmF0ZWd5Jyk7XHJcbiAgICBzZWxmLnNldFN0cmF0ZWd5V3JhcHBlciA9ICQoJy5zZXQtc3RyYXRlZ3knKTtcclxuICAgIHNlbGYuc2V0Umlza1dyYXBwZXIgPSAkKCcuc2V0LXJpc2stc3RyYXRlZ3knKTtcclxuXHJcblxyXG59O1xyXG5cclxuUm9ib3QucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIHNlbGYuaW5pdFlzdGVwRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuQ2xpY2tSb2JvdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNsb3NlUm9ib3RFdmVudCgpO1xyXG4gICAgc2VsZi5sb2Fkc3RlcEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblRyYWRpbmdSb2JvdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNyZWF0VHJhZGluZ0V2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbnBhcmFtZXRlckV2ZW4oKTtcclxuICAgIHNlbGYubGlzdGVuU3VibWl0Um9ib3QoKTtcclxuICAgIHNlbGYucnVuUm9ib3RFdmVudCgpO1xyXG4gICAgc2VsZi5wcm90ZWN0UmVsaWV2ZSgpO1xyXG4gICAgc2VsZi5nZXRBY2NvdW50SW5mb0V2ZW50KCk7XHJcbiAgICBzZWxmLnNldEN1cnJlbnRQcmljZSgpO1xyXG4gICAgLy8gc2VsZi5saXN0ZW5DbGlja1N0cmFnZXJ0eSgpO1xyXG4gICAgLy8gc2VsZi5nZXRBY2NvdW50SW5mb0V2ZW50KCk7XHJcblxyXG59O1xyXG4vKipcclxuICog5py65Zmo5Lq65q2l6aqk5Yid5aeL5YyWXHJcbiAqL1xyXG5Sb2JvdC5wcm90b3R5cGUuaW5pdFlzdGVwRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvL+agueaNrmpRdWVyeemAieaLqeWZqOaJvuWIsOmcgOimgeWKoOi9vXlzdGVw55qE5a655ZmoXHJcbi8vbG9hZFN0ZXAg5pa55rOV5Y+v5Lul5Yid5aeL5YyWeXN0ZXBcclxuXHJcbiAgICAkKFwiLnlzdGVwXCIpLnNldFN0ZXAoMSk7XHJcblxyXG59O1xyXG5Sb2JvdC5wcm90b3R5cGUubG9hZHN0ZXBFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIueXN0ZXBcIikubG9hZFN0ZXAoe1xyXG4gICAgICAgIHNpemU6IFwibGFyZ2VcIixcclxuICAgICAgICBjb2xvcjogXCJncmVlblwiLFxyXG4gICAgICAgIHN0ZXBzOiBbe1xyXG4gICAgICAgICAgICB0aXRsZTogXCLpgInmi6nkuqTmmJPlr7lcIixcclxuXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB0aXRsZTogXCLpgInmi6nkuqTmmJPnrZbnlaVcIixcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIuiuvue9ruetlueVpeWPguaVsFwiLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgdGl0bGU6IFwi6K6+572u6aOO6Zmp562W55WlXCIsXHJcbiAgICAgICAgfSxdXHJcbiAgICB9KTtcclxufVxyXG5cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlbkNsaWNrUm9ib3RFYWFhdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdmFyIGJ0blByZSA9ICQoXCIjYnRuUHJlXCIpXHJcbiAgICB2YXIgYnRuTmV4dCA9ICQoXCIjYnRuTmV4dFwiKVxyXG4gICAgdmFyIHJvYm90RGF0YUFycmF5ID0gbmV3IEFycmF5KHNlbGYudHJhZGluZ09uV3JhcHBlciwgc2VsZi50cmFkaW5nU3RyYXRlZ3lXcmFwcGVyLCBzZWxmLnNldFN0cmF0ZWd5V3JhcHBlciwgc2VsZi5zZXRSaXNrV3JhcHBlcilcclxuICAgIHZhciBhcnJheUxlbmd0aCA9IHJvYm90RGF0YUFycmF5Lmxlbmd0aFxyXG4gICAgdmFyIG51bSA9IDA7XHJcbiAgICB2YXIgY3JlYXRyb2JvdGNsaWNrID0gMFxyXG4gICAgLy8gY29uc29sZS5sb2coYXJyYXlMZW5ndGgpXHJcbiAgICAvLyBpZiAoYXJyYXlMZW5ndGggPD0gMSlcclxuICAgIC8vICAgICByZXR1cm47XHJcbiAgICAkKCcjY3JlYXRlLXJvYm90Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChjcmVhdHJvYm90Y2xpY2sgPT0gMCkge1xyXG4gICAgICAgICAgICBzZWxmLnJvYm90V3JhcHBlci5zaG93KCk7XHJcbiAgICAgICAgICAgIHJvYm90RGF0YUFycmF5W251bV0uc2hvdygpXHJcbiAgICAgICAgICAgIGNyZWF0cm9ib3RjbGljaysrXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY3JlYXRyb2JvdGNsaWNrKVxyXG4gICAgICAgICAgICBzZWxmLnJvYm90V3JhcHBlci5zaG93KClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoXCIjYnRuUHJlXCIpLnVuYmluZCgpO1xyXG4gICAgICAgIGJ0blByZS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdudW0nKVxyXG4gICAgICAgICAgICBpZiAobnVtIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIG51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyBsaVtudW1dLnNob3coKS5zaWJsaW5nKCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbnVtLS07XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLnRleHQoJ+S4i+S4gOatpScpXHJcbiAgICAgICAgICAgICAgICAvLyBsaVtudW1dLnNob3coKS5zaWJsaW5nKCkuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+i3s+i9rOWIsOS4iuS4gOS4quatpemqpFxyXG4gICAgICAgICAgICAkKFwiLnlzdGVwXCIpLnByZXZTdGVwKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndmFsJywgcm9ib3REYXRhQXJyYXkpXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm9ib3REYXRhQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobnVtID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbaV0uc2hvdygpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvYm90RGF0YUFycmF5W2ldLmhpZGUoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcIiNidG5OZXh0XCIpLnVuYmluZCgpO1xyXG4gICAgICAgIGJ0bk5leHQuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbkN1cnJlbmN5ID0gJCgnI2N1cnJ5JykuZmluZChcIiBvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpOy8v5Lqk5piT5biB56eNXHJcbiAgICAgICAgICAgIHZhciBtYXJrZXR0aXRsZSA9ICQoJyNtYXJrZXQnKS5maW5kKFwiIG9wdGlvbjpzZWxlY3RlZFwiKS50ZXh0KCk7Ly/kuqTmmJPluILlnLpcclxuICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnNjb250cm9sID0gJCgnLnBhcmFtZXRlcnMtY29udHJvbCcpLmZpbmQoXCIgb3B0aW9uOnNlbGVjdGVkXCIpLnRleHQoKS8v5Lqk5piT6LSm5oi3XHJcbiAgICAgICAgICAgIHZhciByZXNpc3RhbmNldmFsdWUgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycyAudHJhZGluZy1wYXJhbWV0ZXJzIC5yZXNpc3RhbmNlLXZhbHVlJykudmFsKCkvL+mYu+WKm+WAvFxyXG4gICAgICAgICAgICB2YXIgc3VwcG9ydCA9ICQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzIC50cmFkaW5nLXBhcmFtZXRlcnMgLnN1cHBvcnQnKS52YWwoKS8v5pSv5pKR5L2NXHJcbiAgICAgICAgICAgIHZhciBncmlkbnVtYmVyID0gJCgnLnN0cmF0ZWd5LXBhcmFtZXRlcnMgLnRyYWRpbmctcGFyYW1ldGVycyAuZ3JpZC1udW1iZXInKS52YWwoKS8v572R5qC85pWw6YePXHJcblxyXG5cclxuICAgICAgICAgICAgLy8gYWxlcnQoJ+ivt+mAieaLqeS6pOaYk+W4geenjS/kuqTmmJPluILlnLonKVxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gdHJhbnNhY3Rpb25DdXJyZW5jeSArICcvJyArIG1hcmtldHRpdGxlXHJcbiAgICAgICAgICAgICQoJy50cmFkaW5nLXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KHRleHQpO1xyXG4gICAgICAgICAgICAkKCcuc2V0LXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KHRleHQpO1xyXG4gICAgICAgICAgICAkKCcuc2V0LXJpc2stc3RyYXRlZ3kgLnN0cmF0ZWd5LWN1cnJ5IC5jdXJyeScpLnRleHQodGV4dCk7XHJcblxyXG5cclxuICAgICAgICAgICAgJCgnLnNldC1zdHJhdGVneS10aXRsZSAuc3RyYXRlZ3ktcGFyYW1ldGVycy10b3AgLnVzZXInKS50ZXh0KHBhcmFtZXRlcnNjb250cm9sKVxyXG5cclxuICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zZXQtc3RyYXRlZ3ktdGl0bGUgLnJlc2lzdGFuY2UnKS50ZXh0KHJlc2lzdGFuY2V2YWx1ZSlcclxuICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zZXQtc3RyYXRlZ3ktdGl0bGUgLnN1cHBvcnQtbGV2ZWwnKS50ZXh0KHN1cHBvcnQpXHJcbiAgICAgICAgICAgICQoJy5zZXQtcmlzay1zdHJhdGVneSAuc2V0LXN0cmF0ZWd5LXRpdGxlIC5naXJkaW5nLW51bScpLnRleHQoZ3JpZG51bWJlcilcclxuXHJcbiAgICAgICAgICAgIC8vICQoJy50cmFkaW5nLXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnkxJykudGV4dChtYXJrZXR0aXRsZSlcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJhdGVneXRpdGxlID0gJ+e9keagvOS6pOaYk3YxLjAnXHJcbiAgICAgICAgICAgICQoJy5zdHJhdGVneS1uYW1lIC5zdHJhdGVneS1idXR0b24gYnV0dG9uJykudW5iaW5kKCk7XHJcbiAgICAgICAgICAgICQoJy5zdHJhdGVneS1uYW1lIC5zdHJhdGVneS1idXR0b24gYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyYXRlZ3l0aXRsZSA9ICQodGhpcykudGV4dCgpOy8v5Lqk5piT562W55WlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdHJhdGVneXRpdGxlKTtcclxuICAgICAgICAgICAgICAgICQoJy5zZXQtc3RyYXRlZ3kgLnN0cmF0ZWd5LXRpdGxlIC5zdHJhdGVneScpLnRleHQoc3RyYXRlZ3l0aXRsZSlcclxuICAgICAgICAgICAgICAgICQoJy5zZXQtcmlzay1zdHJhdGVneSAuc3RyYXRlZ3ktdGl0bGUgLmN1cnJ5JykudGV4dChzdHJhdGVneXRpdGxlKVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLy8gJCgnLnNldC1zdHJhdGVneSAuc3RyYXRlZ3ktY3VycnkgLmN1cnJ5JykudGV4dCh0cmFuc2FjdGlvbkN1cnJlbmN5KVxyXG4gICAgICAgICAgICAvLyAkKCcuc2V0LXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnkxJykudGV4dChtYXJrZXR0aXRsZSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25leHQnKVxyXG4gICAgICAgICAgICBpZiAobnVtID49IDIpIHtcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0JykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2J0bkNvbXBsZXRlJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgbnVtID0gMztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG51bSsrO1xyXG4gICAgICAgICAgICAgICAgJCgnI2J0bk5leHQnKS50ZXh0KCfkuIvkuIDmraUnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v6Lez6L2s5Yiw5LiL5LiA5Liq5q2l6aqkXHJcblxyXG4gICAgICAgICAgICAvLyB2YXIgc3RlcE51bSA9ICQoXCIueXN0ZXBcIikuZ2V0U3RlcCgpO1xyXG4gICAgICAgICAgICAvLyByb2JvdERhdGFBcnJheVtzdGVwTnVtKzFdLnNob3coKVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGVwTnVtKVxyXG5cclxuICAgICAgICAgICAgLy8gIGlmICh0cmFuc2FjdGlvbkN1cnJlbmN5PT0nLS0t6K+36YCJ5oupLS0tJyApIHtcclxuICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHRyYW5zYWN0aW9uQ3VycmVuY3kpXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgYWxlcnQoJ+ivt+mAieaLqeS6pOaYk+W4geenjS/kuqTmmJPluILlnLonKVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICBudW09MDtcclxuICAgICAgICAgICAgLy8gfWVsc2V7XHJcbiAgICAgICAgICAgICQoXCIueXN0ZXBcIikubmV4dFN0ZXAoKTtcclxuICAgICAgICAgICAgLy8gIH1cclxuXHJcblxyXG4gICAgICAgICAgICAkLmVhY2gocm9ib3REYXRhQXJyYXksIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtID09PSBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zaG93KClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy53YXJuaW5ndXNlciBsYWJlbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYnRuLXN1Y2Nlc3MnKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSlcclxuXHJcblxyXG59XHJcblxyXG4vKipcclxuICog5py65Zmo5Lq65L+h5oGv5aGr5YaZXHJcbiAqL1xyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xpY2tSb2JvdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB2YXIgYnRuUHJlID0gJChcIiNidG5QcmVcIilcclxuICAgIHZhciBidG5OZXh0ID0gJChcIiNidG5OZXh0XCIpXHJcbiAgICB2YXIgcm9ib3REYXRhQXJyYXkgPSBuZXcgQXJyYXkoc2VsZi50cmFkaW5nT25XcmFwcGVyLCBzZWxmLnRyYWRpbmdTdHJhdGVneVdyYXBwZXIsIHNlbGYuc2V0U3RyYXRlZ3lXcmFwcGVyLCBzZWxmLnNldFJpc2tXcmFwcGVyKVxyXG4gICAgdmFyIG51bSA9IDA7XHJcbiAgICB2YXIgY3JlYXRyb2JvdGNsaWNrID0gMFxyXG4gICAgJCgnI2NyZWF0ZS1yb2JvdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY3JlYXRyb2JvdGNsaWNrID09IDApIHtcclxuICAgICAgICAgICAgc2VsZi5yb2JvdFdyYXBwZXIuc2hvdygpO1xyXG4gICAgICAgICAgICByb2JvdERhdGFBcnJheVtudW1dLnNob3coKVxyXG4gICAgICAgICAgICBjcmVhdHJvYm90Y2xpY2srK1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNyZWF0cm9ib3RjbGljaylcclxuICAgICAgICAgICAgc2VsZi5yb2JvdFdyYXBwZXIuc2hvdygpXHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoXCIjYnRuUHJlXCIpLnVuYmluZCgpO1xyXG4gICAgICAgIGJ0blByZS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdudW0nKVxyXG4gICAgICAgICAgICBpZiAobnVtIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIG51bSA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBudW0tLTtcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0Jykuc2hvdygpLnRleHQoJ+S4i+S4gOatpScpXHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuQ29tcGxldGUnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/ot7PovazliLDkuIrkuIDkuKrmraXpqqRcclxuICAgICAgICAgICAgJChcIi55c3RlcFwiKS5wcmV2U3RlcCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndmFsJywgcm9ib3REYXRhQXJyYXkpXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm9ib3REYXRhQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobnVtID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbaV0uc2hvdygpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvYm90RGF0YUFycmF5W2ldLmhpZGUoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIjYnRuTmV4dFwiKS51bmJpbmQoKTtcclxuICAgICAgICBidG5OZXh0LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb25DdXJyZW5jeSA9ICQoJyNjdXJyeScpLmZpbmQoXCIgb3B0aW9uOnNlbGVjdGVkXCIpLnRleHQoKTsvL+S6pOaYk+W4geenjVxyXG4gICAgICAgICAgICB2YXIgbWFya2V0dGl0bGUgPSAkKCcjbWFya2V0JykuZmluZChcIiBvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpOy8v5Lqk5piT5biC5Zy6XHJcbiAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzY29udHJvbCA9ICQoJy5wYXJhbWV0ZXJzLWNvbnRyb2wnKS5maW5kKFwiIG9wdGlvbjpzZWxlY3RlZFwiKS50ZXh0KCkvL+S6pOaYk+i0puaIt1xyXG4gICAgICAgICAgICB2YXIgcmVzaXN0YW5jZXZhbHVlID0gJCgnLnN0cmF0ZWd5LXBhcmFtZXRlcnMgLnRyYWRpbmctcGFyYW1ldGVycyAucmVzaXN0YW5jZS12YWx1ZScpLnZhbCgpLy/pmLvlipvlgLxcclxuICAgICAgICAgICAgdmFyIHN1cHBvcnQgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycyAudHJhZGluZy1wYXJhbWV0ZXJzIC5zdXBwb3J0JykudmFsKCkvL+aUr+aSkeS9jVxyXG4gICAgICAgICAgICB2YXIgZ3JpZG51bWJlciA9ICQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzIC50cmFkaW5nLXBhcmFtZXRlcnMgLmdyaWQtbnVtYmVyJykudmFsKCkvL+e9keagvOaVsOmHj1xyXG5cclxuICAgICAgICAgICAgLy8gYWxlcnQoJ+ivt+mAieaLqeS6pOaYk+W4geenjS/kuqTmmJPluILlnLonKVxyXG4gICAgICAgICAgICB2YXIgdGV4dCA9IHRyYW5zYWN0aW9uQ3VycmVuY3kgKyAnLycgKyBtYXJrZXR0aXRsZVxyXG4gICAgICAgICAgICAkKCcudHJhZGluZy1zdHJhdGVneSAuc3RyYXRlZ3ktY3VycnkgLmN1cnJ5JykudGV4dCh0ZXh0KTtcclxuICAgICAgICAgICAgJCgnLnNldC1zdHJhdGVneSAuc3RyYXRlZ3ktY3VycnkgLmN1cnJ5JykudGV4dCh0ZXh0KTtcclxuICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KHRleHQpO1xyXG5cclxuICAgICAgICAgICAgJCgnLnNldC1zdHJhdGVneS10aXRsZSAuc3RyYXRlZ3ktcGFyYW1ldGVycy10b3AgLnVzZXInKS50ZXh0KHBhcmFtZXRlcnNjb250cm9sKVxyXG5cclxuICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zZXQtc3RyYXRlZ3ktdGl0bGUgLnJlc2lzdGFuY2UnKS50ZXh0KHJlc2lzdGFuY2V2YWx1ZSlcclxuICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zZXQtc3RyYXRlZ3ktdGl0bGUgLnN1cHBvcnQtbGV2ZWwnKS50ZXh0KHN1cHBvcnQpXHJcbiAgICAgICAgICAgICQoJy5zZXQtcmlzay1zdHJhdGVneSAuc2V0LXN0cmF0ZWd5LXRpdGxlIC5naXJkaW5nLW51bScpLnRleHQoZ3JpZG51bWJlcilcclxuXHJcbiAgICAgICAgICAgIC8vICQoJy50cmFkaW5nLXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnkxJykudGV4dChtYXJrZXR0aXRsZSlcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJhdGVneXRpdGxlID0gJ+e9keagvOS6pOaYk3YxLjAnXHJcbiAgICAgICAgICAgICQoJy5zdHJhdGVneS1uYW1lIC5zdHJhdGVneS1idXR0b24gYnV0dG9uJykudW5iaW5kKCk7XHJcbiAgICAgICAgICAgICQoJy5zdHJhdGVneS1uYW1lIC5zdHJhdGVneS1idXR0b24gYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyYXRlZ3l0aXRsZSA9ICQodGhpcykudGV4dCgpOy8v5Lqk5piT562W55WlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdHJhdGVneXRpdGxlKTtcclxuICAgICAgICAgICAgICAgICQoJy5zZXQtc3RyYXRlZ3kgLnN0cmF0ZWd5LXRpdGxlIC5zdHJhdGVneScpLnRleHQoc3RyYXRlZ3l0aXRsZSlcclxuICAgICAgICAgICAgICAgICQoJy5zZXQtcmlzay1zdHJhdGVneSAuc3RyYXRlZ3ktdGl0bGUgLmN1cnJ5JykudGV4dChzdHJhdGVneXRpdGxlKVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgaWYgKG51bSA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJyNidG5Db21wbGV0ZScpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIG51bSA9IDM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBudW0rKztcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0JykudGV4dCgn5LiL5LiA5q2lJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+i3s+i9rOWIsOS4i+S4gOS4quatpemqpFxyXG5cclxuICAgICAgICAgICAgJChcIi55c3RlcFwiKS5uZXh0U3RlcCgpO1xyXG4gICAgICAgICAgICAkLmVhY2gocm9ib3REYXRhQXJyYXksIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtID09PSBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zaG93KClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy53YXJuaW5ndXNlciBsYWJlbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYnRuLXN1Y2Nlc3MnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG4vKipcclxuICog5YWz6Zet5py65Zmo5Lq65by55Ye65qGGXHJcbiAqL1xyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xvc2VSb2JvdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNsb3NlQnRuID0gJCgnLmNsb3NlLWJ0bicpO1xyXG4gICAgdmFyIHJvYm90V3JhcHBlciA9ICQoJy5yb2JvdC13cmFwcGVyJyk7XHJcbiAgICBjbG9zZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcm9ib3RXcmFwcGVyLmhpZGUoKTtcclxuXHJcbiAgICB9KVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIOacuuWZqOS6uuS6pOaYk+ivpuaDhVxyXG4gKi9cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlbkNyZWF0VHJhZGluZ0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnJvYm90LWRldGFpbHMnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLnRyYWRpbmdQYXJ0aWN1bGFycycpLnNob3coKTtcclxuICAgICAgICAkKCcudHJhZGluZ1NoYWRlJykuc2hvdygpO1xyXG4gICAgICAgIHZhciBjdXJyZW50YnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50YnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciByb2JvdF9pZCA9IHRyLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhyb2JvdF9pZClcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9kZWFsL3Nob3d0cmFkZWRldGFpbC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdyb2JvdF9pZCc6IHJvYm90X2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvYm90ID0gcmVzdWx0WydkYXRhJ11cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJvYm90KVxyXG4gICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKCcnLHsncm9ib3RzJzpyb2JvdH0pXHJcbiAgICAgICAgICAgICAgICB2YXIgZGV0YWlscyA9ICQoJy50cmFkaW5nUGFydGljdWxhcnMnKVxyXG4gICAgICAgICAgICAgICAgZGV0YWlscy5hcHBlbmQodHBsKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG59XHJcblxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuVHJhZGluZ1JvYm90RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdHJhZGluZ2Nsb3NlYnRuID0gJCgnLnRyYWRpbmctY2xvc2UtYnRuJyk7XHJcbiAgICB2YXIgdHJhZGluZ1BhcnRpY3VsYXJzID0gJCgnLnRyYWRpbmdQYXJ0aWN1bGFycycpO1xyXG4gICAgdmFyIHRyYWRpbmdTaGFkZSA9ICQoJy50cmFkaW5nU2hhZGUnKVxyXG4gICAgdmFyIHRyYWRpbmdsb2FkaW5nID0gJCgnLnRyYWRpbmctbG9hZGluZycpXHJcbiAgICB2YXIgdHJhZGluZ2VuZGluZyA9ICQoJy50cmFkaW5nLWVuZGluZycpXHJcbiAgICB2YXIgdHJhZGluZ2NvbnRhaW5lciA9ICQoJy50cmFkaW5nLWNvbnRhaW5lcicpXHJcbiAgICB2YXIgdHJhZGluZ2VuZGluZ3RhYmxlID0gJCgnLnRyYWRpbmctZW5kaW5nLXRhYmxlJylcclxuICAgIHRyYWRpbmdjbG9zZWJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdHJhZGluZ1BhcnRpY3VsYXJzLmhpZGUoKTtcclxuICAgICAgICB0cmFkaW5nU2hhZGUuaGlkZSgpO1xyXG4gICAgfSlcclxuICAgIHRyYWRpbmdlbmRpbmcuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB0cmFkaW5nY29udGFpbmVyLmhpZGUoKTtcclxuICAgICAgICB0cmFkaW5nZW5kaW5ndGFibGUuc2hvdygpO1xyXG4gICAgICAgIHRyYWRpbmdsb2FkaW5nLnRvZ2dsZUNsYXNzKCdncmVlbicpXHJcbiAgICAgICAgdHJhZGluZ2VuZGluZy50b2dnbGVDbGFzcygnZ3JlZW4nKVxyXG5cclxuICAgIH0pXHJcbiAgICB0cmFkaW5nbG9hZGluZy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdHJhZGluZ2NvbnRhaW5lci5zaG93KCk7XHJcbiAgICAgICAgdHJhZGluZ2VuZGluZ3RhYmxlLmhpZGUoKTtcclxuICAgICAgICB0cmFkaW5nZW5kaW5nLnRvZ2dsZUNsYXNzKCdncmVlbicpXHJcbiAgICAgICAgdHJhZGluZ2xvYWRpbmcudG9nZ2xlQ2xhc3MoJ2dyZWVuJylcclxuICAgIH0pXHJcblxyXG59XHJcblxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVucGFyYW1ldGVyRXZlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwYXJhbWV0ZXJjb25maWd1cmF0aW9uID0gJCgnLnBhcmFtZXRlci1jb25maWd1cmF0aW9uJyk7XHJcbiAgICB2YXIgcGFyYW1ldGVyY2xvc2VidG4gPSAkKCcucGFyYW1ldGVyLWNsb3NlLWJ0bicpO1xyXG4gICAgdmFyIGRlbGV0ZXByb3BlcnR5ID0gJCgnLmFsbG9jYXRpb24nKTtcclxuICAgIHZhciB0cmFkaW5nU2hhZGUgPSAkKCcudHJhZGluZ1NoYWRlJylcclxuICAgIGRlbGV0ZXByb3BlcnR5LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwYXJhbWV0ZXJjb25maWd1cmF0aW9uLnNob3coKTtcclxuICAgICAgICB0cmFkaW5nU2hhZGUuc2hvdygpO1xyXG4gICAgICAgIHZhciBjdXJyZW50YnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50YnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciByb2JvdF9pZCA9IHRyLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzonL2RlYWwvc2hvd2NvbmZpZ2luZm8vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICdyb2JvdF9pZCc6cm9ib3RfaWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm9ib3QgPSBKU09OLnBhcnNlKHJlc3VsdFsnZGF0YSddKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocm9ib3RbJzAnXVsnZmllbGRzJ10pXHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJvYm90WycwJ11bJ2ZpZWxkcyddXHJcbiAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoJ3JvYm90cy1kZXRhaWxzJyx7J3JvYm90JzpkYXRhfSlcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgICAgICB2YXIgcm9ib3RHcm91cCA9ICQoJyNwYXJhbWV0ZXItbGlzdC1jb250ZW50JylcclxuICAgICAgICAgICAgICAgIHJvYm90R3JvdXAuYXBwZW5kKHRwbClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSlcclxuICAgIHBhcmFtZXRlcmNsb3NlYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwYXJhbWV0ZXJjb25maWd1cmF0aW9uLmhpZGUoKTtcclxuICAgICAgICB0cmFkaW5nU2hhZGUuaGlkZSgpO1xyXG4gICAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOiOt+WPlui0puaIt+S/oeaBr1xyXG4gKi9cclxuUm9ib3QucHJvdG90eXBlLmdldEFjY291bnRJbmZvRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyB2YXIgcGFyYW50ZXJzR3JvdXAgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycycpXHJcbiAgICAvLyBpZCA9IHBhcmFudGVyc0dyb3VwLmZpbmQoXCJzZWxlY3RbJ25hbWU9J2FjY291bnQnXVwiKS52YWwoKVxyXG4gICAgY29uc29sZS5sb2coXCJzZnNmc2ZzZGZcIilcclxuICAgIC8vIGNvbnNvbGUubG9nKGlkKVxyXG4gICAgJCgnI3JvYm90LWFjY291bnQnKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwYXJhbnRlcnNHcm91cCA9ICQoJy5zZXQtc3RyYXRlZ3knKVxyXG4gICAgICAgIHZhciBjdXJyZW5jeSA9IHBhcmFudGVyc0dyb3VwLmZpbmQoJy5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KClcclxuICAgICAgICB2YXIgc3RyciA9IGN1cnJlbmN5LnNwbGl0KCcvJylcclxuICAgICAgICB2YXIgY3VycnkgPSBzdHJyWzBdXHJcbiAgICAgICAgdmFyIG1hcmtldCA9IHN0cnJbMV1cclxuICAgICAgICB2YXIgaWQgPSAkKCcjcm9ib3QtYWNjb3VudCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikudmFsKClcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9kZWFsL2dldGFjY291bnRpbmZvLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ2N1cnJ5LXRpdGxlJzogY3VycnksXHJcbiAgICAgICAgICAgICAgICAnbWFya2V0LXRpdGxlJzogbWFya2V0LFxyXG4gICAgICAgICAgICAgICAgJ2FjY291bnRfaWQnOiBpZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzdWx0WydkYXRhJ11cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNpc3RhbmNlID0gZGF0YVsncmVzaXN0YW5jZSddICAvL+mYu+WKm+S9jVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdXBwb3J0X2xldmVsID0gZGF0YVsnc3VwcG9ydF9sZXZlbCddIC8v5pSv5pKR5L2NXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbmN5ID0gZGF0YVsnY3VycmVuY3knXSAgLy/lj6/nlKhcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdCA9IGRhdGFbJ2xhc3QnXSAgICAvL+W9k+WJjeS7t1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXQgPSBkYXRhWydtYXJrZXQnXSAgLy/luILlnLrku7dcclxuICAgICAgICAgICAgICAgICAgICAvL+W+gOiuvue9ruetlueVpeS4reaPkuWFpeivt+axguWIsOeahOi0puaIt+S/oeaBr1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5jdXJyZW50LXByaWNlIC5wcmljZScpLnRleHQobGFzdClcclxuICAgICAgICAgICAgICAgICAgICAkKCcuYWNjb3VudC1kZXRhaWxzIC5jdXJyZW5jeScpLnRleHQoY3VycmVuY3kpXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmFjY291bnQtZGV0YWlscyAubWFya2V0JykudGV4dChtYXJrZXQpXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtID0gJCgnI3N0cmF0ZXJ5LWdpcmRpbmctbnVtICcpLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyZWUgPSAkKCcjb25lLWdpcmRpbmctZnJlZScpLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdpcmRpbmcgPSAocmVzaXN0YW5jZSAtIHN1cHBvcnRfbGV2ZWwpIC8gbnVtXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1peF9wcm9maXQgPSAoZ2lyZGluZyAtIChyZXNpc3RhbmNlICogMiArIGdpcmRpbmcpICogZnJlZSkgLyByZXNpc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heF9wcmljZSA9IChnaXJkaW5nIC0gKHN1cHBvcnRfbGV2ZWwgKiAyICsgZ2lyZGluZykgKiBmcmVlKSAvIHN1cHBvcnRfbGV2ZWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZml0ID0gbWl4X3Byb2ZpdCArICclJyArICctJyArIG1heF9wcmljZSArICclJ1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5yZXNpc3RhbmNlLXZhbHVlJykudmFsKHJlc2lzdGFuY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnN1cHBvcnQtdmFsdWUnKS52YWwoc3VwcG9ydF9sZXZlbClcclxuICAgICAgICAgICAgICAgICAgICAkKCcucHJvZml0LXZhbHVlJykudGV4dChwcm9maXQpXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0cmF0ZXJ5LWdpcmRpbmctbnVtJykub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJCgnI3N0cmF0ZXJ5LWdpcmRpbmctbnVtJykudmFsKCkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSAkKCcjc3RyYXRlcnktZ2lyZGluZy1udW0gJykudmFsKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmVlID0gJCgnI29uZS1naXJkaW5nLWZyZWUnKS52YWwoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdpcmRpbmcgPSAocmVzaXN0YW5jZSAtIHN1cHBvcnRfbGV2ZWwpIC8gbnVtICAgICAvL+WNlee9keagvD3vvIjpmLvlipvkvY3ku7fmoLwt5pSv5pKR5L2N5Lu35qC877yJL+e9keagvOaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1peF9wcm9maXQgPSAoZ2lyZGluZyAtIChyZXNpc3RhbmNlICogMiArIGdpcmRpbmcpICogZnJlZSkgLyByZXNpc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X3ByaWNlID0gKGdpcmRpbmcgLSAoc3VwcG9ydF9sZXZlbCAqIDIgKyBnaXJkaW5nKSAqIGZyZWUpIC8gc3VwcG9ydF9sZXZlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2ZpdCA9IG1peF9wcm9maXQgKyAnJScgKyAnLScgKyBtYXhfcHJpY2UgICsgJyUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcucHJvZml0LXZhbHVlJykudGV4dChwcm9maXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKCcjb25lLWdpcmRpbmctZnJlZScpLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQoJyNvbmUtZ2lyZGluZy1mcmVlJykudmFsKCkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSAkKCcjc3RyYXRlcnktZ2lyZGluZy1udW0gJykudmFsKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmVlID0gJCgnI29uZS1naXJkaW5nLWZyZWUnKS52YWwoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdpcmRpbmcgPSAocmVzaXN0YW5jZSAtIHN1cHBvcnRfbGV2ZWwpIC8gbnVtICAgICAvL+WNlee9keagvD3vvIjpmLvlipvkvY3ku7fmoLwt5pSv5pKR5L2N5Lu35qC877yJL+e9keagvOaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1peF9wcm9maXQgPSAoZ2lyZGluZyAtIChyZXNpc3RhbmNlICogMiArIGdpcmRpbmcpICogZnJlZSkgLyByZXNpc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X3ByaWNlID0gKGdpcmRpbmcgLSAoc3VwcG9ydF9sZXZlbCAqIDIgKyBnaXJkaW5nKSAqIGZyZWUpIC8gc3VwcG9ydF9sZXZlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2ZpdCA9IG1peF9wcm9maXQgKyAnJScgKyAnLScgKyBtYXhfcHJpY2UgICsgJyUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcucHJvZml0LXZhbHVlJykudGV4dChwcm9maXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcucmVzaXN0YW5jZS12YWx1ZScpLm9uKCdibHVyJyxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNpc3RhbmNlID0gJCgnLnJlc2lzdGFuY2UtdmFsdWUnKS52YWwoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2UgPSAkKCcuY3VycmVudC1wcmljZSAucHJpY2UnKS52YWwoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighcmVzaXN0YW5jZSA9PSAnJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZXNpc3RhbmNlIDw9IHByaWNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNmXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnJlc2lzdGFuY2UtZXJyb3ItbWVzc2FnZSAuZXJyb3InKS50ZXh0KFwi6Zi75Yqb5L2N5LiN5b6X5L2O5LqO562J5LqO5b2T5YmN5Lu3XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJCgnLnJlc2lzdGFuY2UtdmFsdWUnKS5hZnRlcihcIjxzcGFuIGNsYXNzPSdlcnJvci1hY2NvdW50Jz7pmLvlipvkvY3kuI3lvpfkvY7kuo7nrYnkuo7lvZPliY3ku7c8L3NwYW4+XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnJlc2lzdGFuY2UtZXJyb3ItbWVzc2FnZSAuZXJyb3InKS50ZXh0KFwiXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSlcclxuXHJcblxyXG59XHJcblxyXG4vKipcclxuICog54K55Ye75Lqk5piT562W55Wl5YiH5o2iXHJcbiAqL1xyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xpY2tTdHJhZ2VydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYnRuTGlzdCA9ICQoJy5kZWFsLXN0cmF0ZWd5JylcclxuICAgIGJ0bkxpc3QuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgYnRuID0gJChlbGVtZW50KVxyXG4gICAgICAgIGJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGJ0bi5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOacuuWZqOS6uuaPkOS6pFxyXG4gKi9cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlblN1Ym1pdFJvYm90ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJ0bkNvbXBsZXRlID0gJCgnI2J0bkNvbXBsZXRlICcpXHJcbiAgICAvL+iOt+WPluS6pOaYk+WvueaVsOaNrlxyXG4gICAgYnRuQ29tcGxldGUuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGFmYXNkZlwiKVxyXG4gICAgICAgIHZhciByb2JvdEdyb3VwID0gJCgnLnNldC1yaXNrLXN0cmF0ZWd5JylcclxuICAgICAgICB2YXIgY3VycnkgPSByb2JvdEdyb3VwLmZpbmQoJy5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KCkgICAgICAgIC8v5Lqk5piT5a+5XHJcbiAgICAgICAgdmFyIHN0cnIgPSBjdXJyeS5zcGxpdCgnLycpXHJcbiAgICAgICAgdmFyIGN1cnJlbnkgPSBzdHJyWzBdXHJcbiAgICAgICAgdmFyIG1hcmtldCA9IHN0cnJbMV1cclxuICAgICAgICBjb25zb2xlLmxvZygn5Lqk5piT5biB56eNJyxjdXJyZW55KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCfkuqTmmJPluILlnLonLG1hcmtldClcclxuICAgICAgICAvLyB2YXIgYWNjb3VudCA9IHJvYm90R3JvdXAuZmluZCgnLnN0cmF0ZWd5LXBhcmFtZXRlcnMtdG9wIC51c2VyXCInKS50ZXh0KCkgLy/kuqTmmJPotKbmiLdcclxuICAgICAgICB2YXIgc3RyYXRlZ3kgPSAkKCcuc2V0LXJpc2stc3RyYXRlZ3kgLnN0cmF0ZWd5LXRpdGxlIC5jdXJyeScpLnRleHQoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHN0cmF0ZWd5KS8v5Lqk5piT562W55WlXHJcbiAgICAgICAgdmFyIGFjY291bnQgPSAkKCcjcm9ib3QtYWNjb3VudCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikudmFsKClcclxuICAgICAgICB2YXIgcmVzaXN0YW5jZSA9ICQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzLXRvcCAucmVzaXN0YW5jZScpLnRleHQoKS8v6Zi75Yqb5L2NXHJcbiAgICAgICAgdmFyIHN1cHBvcnQgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycy10b3AgLnN1cHBvcnQtbGV2ZWwnKS50ZXh0KClcclxuICAgICAgICB2YXIgZ2lyZGluZ19udW0gPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycy10b3AgLmdpcmRpbmctbnVtJykudGV4dCgpXHJcbiAgICAgICAgdmFyIGN1cnJlbl9wcmljZSA9ICQoJy5jdXJyZW50LXByaWNlIC5wcmljZScpLnRleHQoKVxyXG4gICAgICAgIHZhciBtaWxsaXNlY29uZCA9ICQoJy5taWxsaXNlY29uZC12YWx1ZScpLnZhbCgpXHJcbiAgICAgICAgdmFyIG1peF9udW0gPSAkKCcubWl4LW51bWJlciAudmFsdWUgJykudmFsKClcclxuICAgICAgICB2YXIgbWF4X251bSA9ICQoJy5tYXgtbnVtYmVyIC52YWx1ZSAnKS52YWwoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCflvZPliY3ku7c6JyxjdXJyZW5fcHJpY2UsJ+avq+enkjonLG1pbGxpc2Vjb25kLCfmnIDlsI/mlbDph486JyxtaXhfbnVtLCfmnIDlpKfmlbDph48nLG1heF9udW0pXHJcblxyXG4gICAgICAgIHZhciBmcmVlID0gJCgnLnN0cmF0ZWd5LXBhcmFtZXRlcnMtYmVsb3cgLmRlYWwtYWNjb3VudCcpLnRleHQoKSAgLy/kuqTmmJPmiYvnu63otLlcclxuICAgICAgICB2YXIgZ2lyZGluZ19wcm9maXQgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycy1iZWxvdyAucmVzaXN0YW5jZScpLnRleHQoKSAgLy/ljZXnvZHmoLzliKnmtqZcclxuICAgICAgICB2YXIgc3RvcGxvc3MgPSAkKCcuc3RvcExvc3MgLmxvc3MnKS52YWwoKVxyXG4gICAgICAgIHZhciB3YXJpbmcgPSAkKCcud2FybmluZyAudmFsdWUnKS52YWwoKVxyXG5cclxuICAgICAgICB2YXIgdXNlckxpc3QgPSAkKCcud2FybmluZ3VzZXIgLmFjdGl2ZScpXHJcbiAgICAgICAgY29uc29sZS5sb2codXNlckxpc3QpXHJcbiAgICAgICAgdmFyIHVzZXJzID0gXCJcIlxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGk8dXNlckxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHVzZXJMaXN0W2ldXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnQpXHJcbiAgICAgICAgICAgdmFyICB1c2VyID0gJChlbGVtZW50KS50ZXh0KClcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2codXNlcilcclxuICAgICAgICAgICAgLy8gdXNlcnMucHVzaCh1c2VyKVxyXG4gICAgICAgICAgICB1c2VycyArPSB1c2VyICsgJydcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2codXNlcnMpXHJcblxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygn5q2i5o2f5Lu3JyxzdG9wbG9zcyx3YXJpbmcpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ+etlueVpe+8micsc3RyYXRlZ3ksICfotKbmiLfvvJonLGFjY291bnQsJ+mYu+WKm+S9jTonLCByZXNpc3RhbmNlLCAn5pSv5pKR5L2NOicsc3VwcG9ydCwgJ+e9keagvOaVsOmHjzonLGdpcmRpbmdfbnVtLCAn5Lqk5piT5omL57ut6LS5JyxmcmVlLCAn572R5qC85Yip5ramJyxnaXJkaW5nX3Byb2ZpdClcclxuXHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6Jy9kZWFsL2NyZWF0ZXJvYm90LycsXHJcbiAgICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICAndHJhZGluZ19hY2NvdW50JzphY2NvdW50LFxyXG4gICAgICAgICAgICAgICAgJ2N1cnJlbmN5JzpjdXJyZW55LFxyXG4gICAgICAgICAgICAgICAgJ21hcmtldCc6bWFya2V0LFxyXG4gICAgICAgICAgICAgICAgJ3RyYWRpbmdfc3RyYXRlZ3knOnN0cmF0ZWd5LFxyXG4gICAgICAgICAgICAgICAgJ3RvdGFsX21vbmV5JzowLFxyXG4gICAgICAgICAgICAgICAgJ2Zsb2F0X3Byb2ZpdCc6MCxcclxuICAgICAgICAgICAgICAgICdyZWFsaXplZF9wcm9maXQnOjAsXHJcbiAgICAgICAgICAgICAgICAndG90YWxfcHJvZml0JzowLFxyXG4gICAgICAgICAgICAgICAgJ2FubnVhbF95aWVsZCc6MCxcclxuICAgICAgICAgICAgICAgICdwcm90ZWN0aW9uJzoyLFxyXG4gICAgICAgICAgICAgICAgJ3N0YXR1cyc6MCxcclxuICAgICAgICAgICAgICAgICdjdXJyZW50X3ByaWNlJzpjdXJyZW5fcHJpY2UsXHJcbiAgICAgICAgICAgICAgICAnb3JkZXJzX2ZyZXF1ZW5jeSc6bWlsbGlzZWNvbmQsXHJcbiAgICAgICAgICAgICAgICAncmVzaXN0YW5jZSc6cmVzaXN0YW5jZSxcclxuICAgICAgICAgICAgICAgICdzdXBwb3J0X2xldmVsJzpzdXBwb3J0LFxyXG4gICAgICAgICAgICAgICAgJ2dpcmRpbmdfbnVtJzpnaXJkaW5nX251bSxcclxuICAgICAgICAgICAgICAgICdwcm9jdWRlcmVfZmVlJzpmcmVlLFxyXG4gICAgICAgICAgICAgICAgJ21pbl9udW0nOm1peF9udW0sXHJcbiAgICAgICAgICAgICAgICAnbWF4X251bSc6bWF4X251bSxcclxuICAgICAgICAgICAgICAgICdnaXJkaW5nX3Byb2ZpdCc6Z2lyZGluZ19wcm9maXQsXHJcbiAgICAgICAgICAgICAgICAnc3RvcF9wcmljZSc6c3RvcGxvc3MsXHJcbiAgICAgICAgICAgICAgICAnd2FybmluZ19wcmljZSc6d2FyaW5nLFxyXG4gICAgICAgICAgICAgICAgJ3dhcm5pbmdfYWNjb3VudCc6dXNlcnMsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpXHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3MoJ+a3u+WKoOacuuWZqOS6uuaIkOWKnycsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIOacuuWZqOS6uui/kOihjFxyXG4gKi9cclxuUm9ib3QucHJvdG90eXBlLnJ1blJvYm90RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgJCgnLnJ1bi1zdG9wJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50YnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50YnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciByb2JvdF9pZCA9IHRyLmF0dHIoJ2RhdGEtaWQnKTtcclxuXHJcbiAgICAgICAgdmFyIHN0YXR1cyA9IHRyLmF0dHIoJ3N0YXR1JylcclxuXHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvZGVhbC9zdGFydHJvYm90LycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3JvYm90X2lkJzogcm9ib3RfaWQsXHJcbiAgICAgICAgICAgICAgICAnZmxhZyc6c3RhdHVzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRyYWRpdGlvbmFsOiB0cnVlLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG59O1xyXG5cclxuLyoqXHJcbiAqIOiuvue9ruW9k+WJjeS7t1xyXG4gKi9cclxuUm9ib3QucHJvdG90eXBlLnNldEN1cnJlbnRQcmljZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAkKCcjc2V0LWN1cnJlblByaWNlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwcmljZTEgPSAkKCcuc2V0LXByaWNlJykudmFsKClcclxuICAgICAgICBjb25zb2xlLmxvZyhwcmljZTEpXHJcbiAgICAgICAgJCgnLmN1cnJlbnQtcHJpY2UgLnByaWNlJykudGV4dChwcmljZTEpXHJcbiAgICB9KVxyXG59XHJcblxyXG4vKipcclxuICog5py65Zmo5Lq66L+Q6KGMfOemgeatouS/neaKpOino+mZpFxyXG4gKi9cclxuUm9ib3QucHJvdG90eXBlLnByb3RlY3RSZWxpZXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnByb3RlY3QtcmVsaWV2ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudGJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudGJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgcm9ib3RfaWQgPSB0ci5hdHRyKCdkYXRhLWlkJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocm9ib3RfaWQpXHJcbiAgICAgICAgdmFyIGZsYWcgPSAkKHRoaXMpLnRleHQoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGZsYWcpXHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSAkKHRoaXMpLnNpYmxpbmdzKClcclxuICAgICAgICB2YXIgcnVuZmxnID0gJChlbGVtZW50WzBdKS50ZXh0KClcclxuICAgICAgICBjb25zb2xlLmxvZyhcIioqKipcIilcclxuICAgICAgICBjb25zb2xlLmxvZyhydW5mbGcpXHJcbiAgICAgICAgaWYgKHJ1bmZsZyA9PT0gJ+i/kOihjCcgfHwgcnVuZmxnID09PSAn6L+Q6KGMKOS/neaKpCknKSB7XHJcbiAgICAgICAgICAgIHZhciBmbGdfdGV4dCA9ICfov5DooYwnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChydW5mbGcgPT09ICflgZzmraInIHx8IHJ1bmZsZyA9PT0gJ+WBnOatoijkv53miqQpJykge1xyXG4gICAgICAgICAgICB2YXIgZmxnX3RleHQgPSAn5YGc5q2iJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmxhZyA9PT0gJ+S/neaKpCcpIHtcclxuICAgICAgICAgICAgdmFyIG5ld192YWx1ZSA9IHJ1bmZsZyArICcoJyArIGZsYWcgKyAnKSdcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobmV3X3ZhbHVlKVxyXG4gICAgICAgICAgICAkKGVsZW1lbnRbMF0pLnRleHQobmV3X3ZhbHVlKVxyXG4gICAgICAgICAgICAkKHRoaXMpLnRleHQoJ+ino+mZpCcpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChlbGVtZW50WzBdKS50ZXh0KGZsZ190ZXh0KVxyXG4gICAgICAgICAgICAkKHRoaXMpLnRleHQoJ+S/neaKpCcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOlwiL2RlYWwvcm9ib3RfcHJvdGVjdGlvbi9cIixcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICdyb2JvdF9pZCc6cm9ib3RfaWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcm9ib3QgPSBuZXcgUm9ib3QoKTtcclxuICAgIHJvYm90LnJ1bigpO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==
