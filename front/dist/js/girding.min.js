function Girding(){}function Robot(){var t=this;t.robotWrapper=$(".robot-wrapper"),t.tradingOnWrapper=$(".trading-on"),t.tradingStrategyWrapper=$(".trading-strategy"),t.setStrategyWrapper=$(".set-strategy"),t.setRiskWrapper=$(".set-risk-strategy")}Girding.prototype.run=function(){},Girding.prototype.modalRun=function(){var t=this,e=new Array(t.step1,t.stept2);t.moadlDataControl("#modal",e,t.modalCallback())},Girding.prototype.controlPageToggle=function(t,e,r,o){var n=e.length;n<=1||(1==o?(r==n-2&&$(t+" .next-page").text("提交"),0==r&&1<n&&$(t+" .previous-page").removeClass("hidden"),$(t+" .page-index").text((++r).toString())):(r==n-1&&$(t+" .next-page").text("下一页"),1==r&&$(t+" .previous-page").addClass("hidden"),$(t+" .page-index").text((--r).toString())),$(t+" .modal-body").html(e[r]))},Girding.prototype.moadlDataControl=function(e,r,t){var o=this;$(e+" .modal-body").html(r[0]),r.length<=1&&$(e+" .next-page").text("提交"),$(e+" .next-page").click(function(){if(o.modalCallback(),"提交"!=$(this).text()){var t=parseInt($(e+" .page-index").text());o.controlPageToggle(e,r,t,1)}else $(e).modal("hide")}),$(e+" .previous-page").click(function(){var t=parseInt($(e+" .page-index").text());controlPageToggle(e,r,t,-1)}),$(e).on("hidden.bs.modal",function(){$(e+" .page-index").text((0).toString()),r.length<=1?$(e+" .next-page").text("提交"):$(e+" .next-page").text("下一页"),$(e+" .modal-body").html(r[0]),$(e+" .previous-page").addClass("hidden")})},Girding.prototype.modalCallback=function(){alert("提交成功")},$(function(){(new Girding).run()}),Robot.prototype.run=function(){var t=this;t.listenClickRobotEvent(),t.listenCloseRobotEvent(),t.loadstepEvent(),t.listenTradingRobotEvent(),t.listenCreatTradingEvent(),t.listenparameterEven(),t.listenSubmitRobot(),t.runRobotEvent(),t.protectRelieve(),t.getAccountInfoEvent()},Robot.prototype.initYstepEvent=function(){$(".ystep").setStep(1)},Robot.prototype.loadstepEvent=function(){$(".ystep").loadStep({size:"large",color:"green",steps:[{title:"选择交易对"},{title:"选择交易策略"},{title:"设置策略参数"},{title:"设置风险策略"}]})},Robot.prototype.listenClickRobotEaaavent=function(){var t=this,e=$("#btnPre"),r=$("#btnNext"),i=new Array(t.tradingOnWrapper,t.tradingStrategyWrapper,t.setStrategyWrapper,t.setRiskWrapper),l=(i.length,0),o=0;$("#create-robot").on("click",function(){0==o?(t.robotWrapper.show(),i[l].show(),o++):(console.log(o),t.robotWrapper.show()),$("#btnPre").unbind(),e.click(function(){console.log("num"),l<=0?l=0:(l--,$("#btnNext").text("下一步")),$(".ystep").prevStep(),console.log("val",i);for(var t=0;t<i.length;t++)l===t?i[t].show():i[t].hide()}),$("#btnNext").unbind(),r.click(function(){var t=$("#curry").find(" option:selected").text(),e=$("#market").find(" option:selected").text(),r=$(".parameters-control").find(" option:selected").text(),o=$(".strategy-parameters .trading-parameters .resistance-value").val(),n=$(".strategy-parameters .trading-parameters .support").val(),a=$(".strategy-parameters .trading-parameters .grid-number").val(),s=t+"/"+e;$(".trading-strategy .strategy-curry .curry").text(s),$(".set-strategy .strategy-curry .curry").text(s),$(".set-risk-strategy .strategy-curry .curry").text(s),$(".set-strategy-title .strategy-parameters-top .user").text(r),$(".set-risk-strategy .set-strategy-title .resistance").text(o),$(".set-risk-strategy .set-strategy-title .support-level").text(n),$(".set-risk-strategy .set-strategy-title .girding-num").text(a);$(".strategy-name .strategy-button button").unbind(),$(".strategy-name .strategy-button button").on("click",function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).text();console.log(t),$(".set-strategy .strategy-title .strategy").text(t),$(".set-risk-strategy .strategy-title .curry").text(t)}),console.log("next"),2<=l?($("#btnNext").hide(),$("#btnComplete").show(),l=3):(l++,$("#btnNext").text("下一步")),$(".ystep").nextStep(),$.each(i,function(t,e){l===t?e.show():e.hide()})}),$(".warninguser label").on("click",function(){$(this).toggleClass("btn-success")})})},Robot.prototype.listenClickRobotEvent=function(){var t=this,e=$("#btnPre"),r=$("#btnNext"),i=new Array(t.tradingOnWrapper,t.tradingStrategyWrapper,t.setStrategyWrapper,t.setRiskWrapper),l=0,o=0;$("#create-robot").on("click",function(){0==o?(t.robotWrapper.show(),i[l].show(),o++):(console.log(o),t.robotWrapper.show()),$("#btnPre").unbind(),e.click(function(){console.log("num"),l<=0?l=0:(l--,$("#btnNext").show().text("下一步"),$("#btnComplete").hide()),$(".ystep").prevStep(),console.log("val",i);for(var t=0;t<i.length;t++)l===t?i[t].show():i[t].hide()}),$("#btnNext").unbind(),r.click(function(){var t=$("#curry").find(" option:selected").text(),e=$("#market").find(" option:selected").text(),r=$(".parameters-control").find(" option:selected").text(),o=$(".strategy-parameters .trading-parameters .resistance-value").val(),n=$(".strategy-parameters .trading-parameters .support").val();console.log(n);var a=$(".strategy-parameters .trading-parameters .grid-number").val(),s=t+"/"+e;$(".trading-strategy .strategy-curry .curry").text(s),$(".set-strategy .strategy-curry .curry").text(s),$(".set-risk-strategy .strategy-curry .curry").text(s),$(".set-strategy-title .strategy-parameters-top .user").text(r),$(".set-risk-strategy .set-strategy-title .resistance").text(o),$(".set-risk-strategy .set-strategy-title .support-level").text(n),$(".set-risk-strategy .set-strategy-title .girding-num").text(a);$(".strategy-name .strategy-button button").unbind(),$(".strategy-name .strategy-button button").on("click",function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).text();console.log(t),$(".set-strategy .strategy-title .strategy").text(t),$(".set-risk-strategy .strategy-title .curry").text(t)}),2<=l?($("#btnNext").hide(),$("#btnComplete").show(),l=3):(l++,$("#btnNext").text("下一步")),$(".ystep").nextStep(),$.each(i,function(t,e){l===t?e.show():e.hide()})}),$(".warninguser label").on("click",function(){$(this).toggleClass("btn-success")})})},Robot.prototype.listenCloseRobotEvent=function(){var t=$(".close-btn"),e=$(".robot-wrapper");t.click(function(){e.hide()})},Robot.prototype.listenCreatTradingEvent=function(){$(".robot-details").on("click",function(){$(".tradingParticulars").show(),$(".tradingShade").show();var t=$(this).parent().parent().attr("data-id");console.log(t),xfzajax.post({url:"/deal/showtradedetail/",data:{robot_id:t},success:function(t){t.data}})})},Robot.prototype.listenTradingRobotEvent=function(){var t=$(".trading-close-btn"),e=$(".tradingParticulars"),r=$(".tradingShade"),o=$(".trading-loading"),n=$(".trading-ending"),a=$(".trading-container"),s=$(".trading-ending-table");t.click(function(){e.hide(),r.hide()}),n.click(function(){a.hide(),s.show(),o.toggleClass("green"),n.toggleClass("green")}),o.click(function(){a.show(),s.hide(),n.toggleClass("green"),o.toggleClass("green")})},Robot.prototype.listenparameterEven=function(){var t=$(".parameter-configuration"),e=$(".parameter-close-btn"),r=$(".allocation"),o=$(".tradingShade");r.click(function(){t.show(),o.show()}),e.click(function(){t.hide(),o.hide()})},Robot.prototype.getAccountInfoEvent=function(){console.log("sfsfsfsdf"),$("#robot-account").change(function(){var t=$(".set-strategy").find(".strategy-curry .curry").text().split("/"),e=t[0],r=t[1],o=$("#robot-account").find("option:selected").val();xfzajax.post({url:"/deal/getaccountinfo/",data:{"curry-title":e,"market-title":r,account_id:o},success:function(t){if(200===t.code){var e=t.data;console.log(e);var n=e.resistance,a=e.support_level,r=$("#stratery-girding-num ").val(),o=$("#one-girding-free").val(),s=(n-a)/r,i=(s-(2*n+s)*o)/n+"%-"+(s-(2*a+s)*o)/a+"%";$(".resistance-value").val(n),$(".support-value").val(a),$(".profit-value").text(i),$("#stratery-girding-num").on("blur",function(){if(""==!$("#stratery-girding-num").val()){var t=$("#stratery-girding-num ").val(),e=$("#one-girding-free").val(),r=(n-a)/t,o=(r-(2*n+r)*e)/n+"%-"+(r-(2*a+r)*e)/a+"%";$(".profit-value").text(o)}}),$("#one-girding-free").on("blur",function(){if(""==!$("#one-girding-free").val()){var t=$("#stratery-girding-num ").val(),e=$("#one-girding-free").val(),r=(n-a)/t,o=(r-(2*n+r)*e)/n+"%-"+(r-(2*a+r)*e)/a+"%";$(".profit-value").text(o)}}),$("#set-currenPrice").click(function(){if(console.log("serjl"),null==(t=$("#set-price").val()));else{var t=$("#set-price").val();$(".price").text(t)}})}}})})},Robot.prototype.listenClickStragerty=function(){$(".deal-strategy").each(function(t,e){var r=$(e);r.click(function(){r.addClass("active").siblings().removeClass("active")})})},Robot.prototype.listenSubmitRobot=function(){$("#btnComplete ").click(function(){console.log("dafasdf");var t=$(".set-risk-strategy").find(".strategy-curry .curry").text().split("/"),e=t[0],r=t[1];console.log("交易币种",e),console.log("交易市场",r);var o=$(".set-risk-strategy .strategy-title .curry").text();console.log(o);var n=$("#robot-account").find("option:selected").val(),a=$(".strategy-parameters-top .resistance").text(),s=$(".strategy-parameters-top .support-level").text(),i=$(".strategy-parameters-top .girding-num").text(),l=$(".current-price .price").text(),c=$(".millisecond-value").text(),g=$(".mix-number .value ").text(),p=$(".max-number .value ").text();console.log("当前价:",l,"毫秒:",c,"最小数量:",g,"最大数量",p);var u=$(".strategy-parameters-below .deal-account").text(),d=$(".strategy-parameters-below .resistance").text(),y=$(".stopLoss .loss").text(),v=$(".warning .value").text();console.log("止损价",y,v),console.log("策略：",o,"账户：",n,"阻力位:",a,"支撑位:",s,"网格数量:",i,"交易手续费",u,"网格利润",d),xfzajax.post({url:"/deal/createrobot/",data:{trading_account:n,currency:e,market:r,trading_strategy:o,total_money:"",float_profit:"",realized_profit:"",total_profit:"",annual_yield:"",protection:1,status:1,current_price:l,orders_frequency:22,resistance:a,support_level:s,girding_num:25,procudere_fee:u,min_num:23,max_num:234,girding_profit:d,stop_price:"23423",warning_price:"65465",warning_account:"4545"},success:function(t){console.log(t)}})})},Robot.prototype.runRobotEvent=function(){$("#run-robot").click(function(){var t=$(this).parent().parent().attr("data-id"),e=[];e.push(t),console.log(e),xfzajax.post({url:"/deal/startrobot/",data:{robot_id:e},traditional:!0,success:function(t){200===t.code&&console.log(t)}})})},Robot.prototype.protectRelieve=function(){$(".protect-relieve").on("click",function(){var t=$(this).text();console.log(t);var e=$(this).siblings(),r=$(e[0]).text();if("运行"===r||"运行(保护)"===r)var o="运行";if("停止"===r||"停止(保护)"===r)o="停止";if("保护"===t){var n=r+"("+t+")";console.log(n),$(e[0]).text(n),$(this).text("解除")}else $(e[0]).text(o),$(this).text("保护")})},$(function(){(new Robot).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdpcmRpbmcuanMiXSwibmFtZXMiOlsiR2lyZGluZyIsIlJvYm90Iiwic2VsZiIsInRoaXMiLCJyb2JvdFdyYXBwZXIiLCIkIiwidHJhZGluZ09uV3JhcHBlciIsInRyYWRpbmdTdHJhdGVneVdyYXBwZXIiLCJzZXRTdHJhdGVneVdyYXBwZXIiLCJzZXRSaXNrV3JhcHBlciIsInByb3RvdHlwZSIsInJ1biIsIm1vZGFsUnVuIiwibW9kYWxEYXRhQXJyYXkiLCJBcnJheSIsInN0ZXAxIiwic3RlcHQyIiwibW9hZGxEYXRhQ29udHJvbCIsIm1vZGFsQ2FsbGJhY2siLCJjb250cm9sUGFnZVRvZ2dsZSIsIm1vZGFsU2VsZWN0IiwiY3VycmVudFBhZ2VJbmRleCIsImRpcmVjdGlvbiIsImFycmF5TGVuZ3RoIiwibGVuZ3RoIiwidGV4dCIsInJlbW92ZUNsYXNzIiwidG9TdHJpbmciLCJhZGRDbGFzcyIsImh0bWwiLCJjbGljayIsInBhcnNlSW50IiwibW9kYWwiLCJvbiIsImFsZXJ0IiwibGlzdGVuQ2xpY2tSb2JvdEV2ZW50IiwibGlzdGVuQ2xvc2VSb2JvdEV2ZW50IiwibG9hZHN0ZXBFdmVudCIsImxpc3RlblRyYWRpbmdSb2JvdEV2ZW50IiwibGlzdGVuQ3JlYXRUcmFkaW5nRXZlbnQiLCJsaXN0ZW5wYXJhbWV0ZXJFdmVuIiwibGlzdGVuU3VibWl0Um9ib3QiLCJydW5Sb2JvdEV2ZW50IiwicHJvdGVjdFJlbGlldmUiLCJnZXRBY2NvdW50SW5mb0V2ZW50IiwiaW5pdFlzdGVwRXZlbnQiLCJzZXRTdGVwIiwibG9hZFN0ZXAiLCJzaXplIiwiY29sb3IiLCJzdGVwcyIsInRpdGxlIiwibGlzdGVuQ2xpY2tSb2JvdEVhYWF2ZW50IiwiYnRuUHJlIiwiYnRuTmV4dCIsInJvYm90RGF0YUFycmF5IiwibnVtIiwiY3JlYXRyb2JvdGNsaWNrIiwic2hvdyIsImNvbnNvbGUiLCJsb2ciLCJ1bmJpbmQiLCJwcmV2U3RlcCIsImkiLCJoaWRlIiwidHJhbnNhY3Rpb25DdXJyZW5jeSIsImZpbmQiLCJtYXJrZXR0aXRsZSIsInBhcmFtZXRlcnNjb250cm9sIiwicmVzaXN0YW5jZXZhbHVlIiwidmFsIiwic3VwcG9ydCIsImdyaWRudW1iZXIiLCJzaWJsaW5ncyIsInN0cmF0ZWd5dGl0bGUiLCJuZXh0U3RlcCIsImVhY2giLCJrZXkiLCJ2YWx1ZSIsInRvZ2dsZUNsYXNzIiwiY2xvc2VCdG4iLCJyb2JvdF9pZCIsInBhcmVudCIsImF0dHIiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwidHJhZGluZ2Nsb3NlYnRuIiwidHJhZGluZ1BhcnRpY3VsYXJzIiwidHJhZGluZ1NoYWRlIiwidHJhZGluZ2xvYWRpbmciLCJ0cmFkaW5nZW5kaW5nIiwidHJhZGluZ2NvbnRhaW5lciIsInRyYWRpbmdlbmRpbmd0YWJsZSIsInBhcmFtZXRlcmNvbmZpZ3VyYXRpb24iLCJwYXJhbWV0ZXJjbG9zZWJ0biIsImRlbGV0ZXByb3BlcnR5IiwiY2hhbmdlIiwic3RyciIsInNwbGl0IiwiY3VycnkiLCJtYXJrZXQiLCJpZCIsImN1cnJ5LXRpdGxlIiwibWFya2V0LXRpdGxlIiwiYWNjb3VudF9pZCIsInJlc2lzdGFuY2UiLCJzdXBwb3J0X2xldmVsIiwiZnJlZSIsImdpcmRpbmciLCJwcm9maXQiLCJwcmljZSIsImxpc3RlbkNsaWNrU3RyYWdlcnR5IiwiaW5kZXgiLCJlbGVtZW50IiwiYnRuIiwiY3VycmVueSIsInN0cmF0ZWd5IiwiYWNjb3VudCIsImdpcmRpbmdfbnVtIiwiY3VycmVuX3ByaWNlIiwibWlsbGlzZWNvbmQiLCJtaXhfbnVtIiwibWF4X251bSIsImdpcmRpbmdfcHJvZml0Iiwic3RvcGxvc3MiLCJ3YXJpbmciLCJ0cmFkaW5nX2FjY291bnQiLCJjdXJyZW5jeSIsInRyYWRpbmdfc3RyYXRlZ3kiLCJ0b3RhbF9tb25leSIsImZsb2F0X3Byb2ZpdCIsInJlYWxpemVkX3Byb2ZpdCIsInRvdGFsX3Byb2ZpdCIsImFubnVhbF95aWVsZCIsInByb3RlY3Rpb24iLCJzdGF0dXMiLCJjdXJyZW50X3ByaWNlIiwib3JkZXJzX2ZyZXF1ZW5jeSIsInByb2N1ZGVyZV9mZWUiLCJtaW5fbnVtIiwic3RvcF9wcmljZSIsIndhcm5pbmdfcHJpY2UiLCJ3YXJuaW5nX2FjY291bnQiLCJyb2JvdCIsInB1c2giLCJ0cmFkaXRpb25hbCIsImZsYWciLCJydW5mbGciLCJmbGdfdGV4dCIsIm5ld192YWx1ZSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsV0FvSFQsU0FBU0MsUUFDTCxJQUFJQyxFQUFPQyxLQUNYRCxFQUFLRSxhQUFlQyxFQUFFLGtCQUN0QkgsRUFBS0ksaUJBQW1CRCxFQUFFLGVBQzFCSCxFQUFLSyx1QkFBeUJGLEVBQUUscUJBQ2hDSCxFQUFLTSxtQkFBcUJILEVBQUUsaUJBQzVCSCxFQUFLTyxlQUFpQkosRUFBRSxzQkFySDVCTCxRQUFRVSxVQUFVQyxJQUFNLGFBTXhCWCxRQUFRVSxVQUFVRSxTQUFXLFdBQ3pCLElBQUlWLEVBQU9DLEtBQ1BVLEVBQWlCLElBQUlDLE1BQU1aLEVBQUthLE1BQU9iLEVBQUtjLFFBQ2hEZCxFQUFLZSxpQkFBaUIsU0FBVUosRUFBZ0JYLEVBQUtnQixrQkFTekRsQixRQUFRVSxVQUFVUyxrQkFBb0IsU0FBVUMsRUFBYVAsRUFBZ0JRLEVBQWtCQyxHQUMzRixJQUNJQyxFQUFjVixFQUFlVyxPQUM3QkQsR0FBZSxJQUVGLEdBQWJELEdBRUlELEdBQW9CRSxFQUFjLEdBQ2xDbEIsRUFBRWUsRUFBYyxlQUFvQkssS0FBSyxNQUlyQixHQUFwQkosR0FBdUMsRUFBZEUsR0FDekJsQixFQUFFZSxFQUFjLG1CQUF3Qk0sWUFBWSxVQUd4RHJCLEVBQUVlLEVBQWMsZ0JBQXFCSyxRQUFRSixHQUFrQk0sY0FJM0ROLEdBQW9CRSxFQUFjLEdBQ2xDbEIsRUFBRWUsRUFBYyxlQUFvQkssS0FBSyxPQUlyQixHQUFwQkosR0FDQWhCLEVBQUVlLEVBQWMsbUJBQXdCUSxTQUFTLFVBR3JEdkIsRUFBRWUsRUFBYyxnQkFBcUJLLFFBQVFKLEdBQWtCTSxhQVovRHRCLEVBQUVlLEVBQWMsZ0JBQXFCUyxLQUFLaEIsRUFBZVEsTUF3QmpFckIsUUFBUVUsVUFBVU8saUJBQW1CLFNBQVVHLEVBQWFQLEVBQWdCSyxHQUN4RSxJQUFJaEIsRUFBT0MsS0FFWEUsRUFBRWUsRUFBYyxnQkFBcUJTLEtBQUtoQixFQUFlLElBQ3JEQSxFQUFlVyxRQUFVLEdBQ3pCbkIsRUFBRWUsRUFBYyxlQUFvQkssS0FBSyxNQUk3Q3BCLEVBQUVlLEVBQWMsZUFBb0JVLE1BQU0sV0FHdEMsR0FEQTVCLEVBQUtnQixnQkFDaUIsTUFBbEJiLEVBQUVGLE1BQU1zQixPQUFaLENBS0EsSUFBSUosRUFBbUJVLFNBQVMxQixFQUFFZSxFQUFjLGdCQUFxQkssUUFDckV2QixFQUFLaUIsa0JBQWtCQyxFQUFhUCxFQUFnQlEsRUFBa0IsUUFMbEVoQixFQUFFZSxHQUFhWSxNQUFNLFVBUzdCM0IsRUFBRWUsRUFBYyxtQkFBd0JVLE1BQU0sV0FFMUMsSUFBSVQsRUFBbUJVLFNBQVMxQixFQUFFZSxFQUFjLGdCQUFxQkssUUFDckVOLGtCQUFrQkMsRUFBYVAsRUFBZ0JRLEdBQW1CLEtBSXRFaEIsRUFBRWUsR0FBYWEsR0FBRyxrQkFBbUIsV0FDakM1QixFQUFFZSxFQUFjLGdCQUFxQkssTUFBSyxHQUFJRSxZQUMxQ2QsRUFBZVcsUUFBVSxFQUN6Qm5CLEVBQUVlLEVBQWMsZUFBb0JLLEtBQUssTUFFekNwQixFQUFFZSxFQUFjLGVBQW9CSyxLQUFLLE9BRTdDcEIsRUFBRWUsRUFBYyxnQkFBcUJTLEtBQUtoQixFQUFlLElBQ3pEUixFQUFFZSxFQUFjLG1CQUF3QlEsU0FBUyxhQUl6RDVCLFFBQVFVLFVBQVVRLGNBQWdCLFdBQzlCZ0IsTUFBTSxTQUlWN0IsRUFBRSxZQUNhLElBQUlMLFNBQ1ZXLFFBY1RWLE1BQU1TLFVBQVVDLElBQU0sV0FDbEIsSUFBSVQsRUFBT0MsS0FFWEQsRUFBS2lDLHdCQUNMakMsRUFBS2tDLHdCQUNMbEMsRUFBS21DLGdCQUNMbkMsRUFBS29DLDBCQUNMcEMsRUFBS3FDLDBCQUNMckMsRUFBS3NDLHNCQUNMdEMsRUFBS3VDLG9CQUNMdkMsRUFBS3dDLGdCQUNMeEMsRUFBS3lDLGlCQUNMekMsRUFBSzBDLHVCQVFUM0MsTUFBTVMsVUFBVW1DLGVBQWlCLFdBSTdCeEMsRUFBRSxVQUFVeUMsUUFBUSxJQUd4QjdDLE1BQU1TLFVBQVUyQixjQUFnQixXQUM1QmhDLEVBQUUsVUFBVTBDLFNBQVMsQ0FDakJDLEtBQU0sUUFDTkMsTUFBTyxRQUNQQyxNQUFPLENBQUMsQ0FDSkMsTUFBTyxTQUVSLENBQ0NBLE1BQU8sVUFDUixDQUNDQSxNQUFPLFVBQ1IsQ0FDQ0EsTUFBTyxjQUtuQmxELE1BQU1TLFVBQVUwQyx5QkFBMkIsV0FFdkMsSUFBSWxELEVBQU9DLEtBRVBrRCxFQUFTaEQsRUFBRSxXQUNYaUQsRUFBVWpELEVBQUUsWUFDWmtELEVBQWlCLElBQUl6QyxNQUFNWixFQUFLSSxpQkFBa0JKLEVBQUtLLHVCQUF3QkwsRUFBS00sbUJBQW9CTixFQUFLTyxnQkFFN0crQyxHQURjRCxFQUFlL0IsT0FDdkIsR0FDTmlDLEVBQWtCLEVBSXRCcEQsRUFBRSxpQkFBaUI0QixHQUFHLFFBQVMsV0FDSixHQUFuQndCLEdBQ0F2RCxFQUFLRSxhQUFhc0QsT0FDbEJILEVBQWVDLEdBQUtFLE9BQ3BCRCxNQUVBRSxRQUFRQyxJQUFJSCxHQUNadkQsRUFBS0UsYUFBYXNELFFBR3RCckQsRUFBRSxXQUFXd0QsU0FDYlIsRUFBT3ZCLE1BQU0sV0FDVDZCLFFBQVFDLElBQUksT0FDUkosR0FBTyxFQUNQQSxFQUFNLEdBR05BLElBQ0FuRCxFQUFFLFlBQVlvQixLQUFLLFFBS3ZCcEIsRUFBRSxVQUFVeUQsV0FFWkgsUUFBUUMsSUFBSSxNQUFPTCxHQUNuQixJQUFLLElBQUlRLEVBQUksRUFBR0EsRUFBSVIsRUFBZS9CLE9BQVF1QyxJQUVuQ1AsSUFBUU8sRUFDUlIsRUFBZVEsR0FBR0wsT0FFbEJILEVBQWVRLEdBQUdDLFNBSTlCM0QsRUFBRSxZQUFZd0QsU0FDZFAsRUFBUXhCLE1BQU0sV0FHVixJQUFJbUMsRUFBc0I1RCxFQUFFLFVBQVU2RCxLQUFLLG9CQUFvQnpDLE9BQzNEMEMsRUFBYzlELEVBQUUsV0FBVzZELEtBQUssb0JBQW9CekMsT0FDcEQyQyxFQUFvQi9ELEVBQUUsdUJBQXVCNkQsS0FBSyxvQkFBb0J6QyxPQUN0RTRDLEVBQWtCaEUsRUFBRSw4REFBOERpRSxNQUNsRkMsRUFBVWxFLEVBQUUscURBQXFEaUUsTUFDakVFLEVBQWFuRSxFQUFFLHlEQUF5RGlFLE1BTXhFN0MsRUFBT3dDLEVBQXNCLElBQU1FLEVBQ3ZDOUQsRUFBRSw0Q0FBNENvQixLQUFLQSxHQUNuRHBCLEVBQUUsd0NBQXdDb0IsS0FBS0EsR0FDL0NwQixFQUFFLDZDQUE2Q29CLEtBQUtBLEdBR3BEcEIsRUFBRSxzREFBc0RvQixLQUFLMkMsR0FFN0QvRCxFQUFFLHNEQUFzRG9CLEtBQUs0QyxHQUM3RGhFLEVBQUUseURBQXlEb0IsS0FBSzhDLEdBQ2hFbEUsRUFBRSx1REFBdURvQixLQUFLK0MsR0FLOURuRSxFQUFFLDBDQUEwQ3dELFNBQzVDeEQsRUFBRSwwQ0FBMEM0QixHQUFHLFFBQVMsV0FDcEQ1QixFQUFFRixNQUFNeUIsU0FBUyxVQUFVNkMsV0FBVy9DLFlBQVksVUFDbEQsSUFBSWdELEVBQWdCckUsRUFBRUYsTUFBTXNCLE9BQzVCa0MsUUFBUUMsSUFBSWMsR0FDWnJFLEVBQUUsMkNBQTJDb0IsS0FBS2lELEdBQ2xEckUsRUFBRSw2Q0FBNkNvQixLQUFLaUQsS0FLeERmLFFBQVFDLElBQUksUUFDRCxHQUFQSixHQUNBbkQsRUFBRSxZQUFZMkQsT0FDZDNELEVBQUUsZ0JBQWdCcUQsT0FDbEJGLEVBQU0sSUFFTkEsSUFDQW5ELEVBQUUsWUFBWW9CLEtBQUssUUFhdkJwQixFQUFFLFVBQVVzRSxXQUladEUsRUFBRXVFLEtBQUtyQixFQUFnQixTQUFVc0IsRUFBS0MsR0FDOUJ0QixJQUFRcUIsRUFDUkMsRUFBTXBCLE9BRU5vQixFQUFNZCxXQUtsQjNELEVBQUUsc0JBQXNCNEIsR0FBRyxRQUFTLFdBQ2hDNUIsRUFBRUYsTUFBTTRFLFlBQVksb0JBV2hDOUUsTUFBTVMsVUFBVXlCLHNCQUF3QixXQUVwQyxJQUFJakMsRUFBT0MsS0FFUGtELEVBQVNoRCxFQUFFLFdBQ1hpRCxFQUFVakQsRUFBRSxZQUNaa0QsRUFBaUIsSUFBSXpDLE1BQU1aLEVBQUtJLGlCQUFrQkosRUFBS0ssdUJBQXdCTCxFQUFLTSxtQkFBb0JOLEVBQUtPLGdCQUM3RytDLEVBQU0sRUFDTkMsRUFBa0IsRUFDdEJwRCxFQUFFLGlCQUFpQjRCLEdBQUcsUUFBUyxXQUNKLEdBQW5Cd0IsR0FDQXZELEVBQUtFLGFBQWFzRCxPQUNsQkgsRUFBZUMsR0FBS0UsT0FDcEJELE1BRUFFLFFBQVFDLElBQUlILEdBQ1p2RCxFQUFLRSxhQUFhc0QsUUFFdEJyRCxFQUFFLFdBQVd3RCxTQUNiUixFQUFPdkIsTUFBTSxXQUNUNkIsUUFBUUMsSUFBSSxPQUNSSixHQUFPLEVBQ1BBLEVBQU0sR0FFTkEsSUFDQW5ELEVBQUUsWUFBWXFELE9BQU9qQyxLQUFLLE9BQzFCcEIsRUFBRSxnQkFBZ0IyRCxRQUd0QjNELEVBQUUsVUFBVXlELFdBQ1pILFFBQVFDLElBQUksTUFBT0wsR0FDbkIsSUFBSyxJQUFJUSxFQUFJLEVBQUdBLEVBQUlSLEVBQWUvQixPQUFRdUMsSUFFbkNQLElBQVFPLEVBQ1JSLEVBQWVRLEdBQUdMLE9BRWxCSCxFQUFlUSxHQUFHQyxTQUs5QjNELEVBQUUsWUFBWXdELFNBQ2RQLEVBQVF4QixNQUFNLFdBR1YsSUFBSW1DLEVBQXNCNUQsRUFBRSxVQUFVNkQsS0FBSyxvQkFBb0J6QyxPQUMzRDBDLEVBQWM5RCxFQUFFLFdBQVc2RCxLQUFLLG9CQUFvQnpDLE9BQ3BEMkMsRUFBb0IvRCxFQUFFLHVCQUF1QjZELEtBQUssb0JBQW9CekMsT0FDdEU0QyxFQUFrQmhFLEVBQUUsOERBQThEaUUsTUFDbEZDLEVBQVVsRSxFQUFFLHFEQUFxRGlFLE1BQ3JFWCxRQUFRQyxJQUFJVyxHQUVaLElBQUlDLEVBQWFuRSxFQUFFLHlEQUF5RGlFLE1BR3hFN0MsRUFBT3dDLEVBQXNCLElBQU1FLEVBQ3ZDOUQsRUFBRSw0Q0FBNENvQixLQUFLQSxHQUNuRHBCLEVBQUUsd0NBQXdDb0IsS0FBS0EsR0FDL0NwQixFQUFFLDZDQUE2Q29CLEtBQUtBLEdBRXBEcEIsRUFBRSxzREFBc0RvQixLQUFLMkMsR0FFN0QvRCxFQUFFLHNEQUFzRG9CLEtBQUs0QyxHQUM3RGhFLEVBQUUseURBQXlEb0IsS0FBSzhDLEdBQ2hFbEUsRUFBRSx1REFBdURvQixLQUFLK0MsR0FLOURuRSxFQUFFLDBDQUEwQ3dELFNBQzVDeEQsRUFBRSwwQ0FBMEM0QixHQUFHLFFBQVMsV0FDcEQ1QixFQUFFRixNQUFNeUIsU0FBUyxVQUFVNkMsV0FBVy9DLFlBQVksVUFDbEQsSUFBSWdELEVBQWdCckUsRUFBRUYsTUFBTXNCLE9BQzVCa0MsUUFBUUMsSUFBSWMsR0FDWnJFLEVBQUUsMkNBQTJDb0IsS0FBS2lELEdBQ2xEckUsRUFBRSw2Q0FBNkNvQixLQUFLaUQsS0FHN0MsR0FBUGxCLEdBQ0FuRCxFQUFFLFlBQVkyRCxPQUNkM0QsRUFBRSxnQkFBZ0JxRCxPQUNsQkYsRUFBTSxJQUVOQSxJQUNBbkQsRUFBRSxZQUFZb0IsS0FBSyxRQUl2QnBCLEVBQUUsVUFBVXNFLFdBQ1p0RSxFQUFFdUUsS0FBS3JCLEVBQWdCLFNBQVVzQixFQUFLQyxHQUM5QnRCLElBQVFxQixFQUNSQyxFQUFNcEIsT0FFTm9CLEVBQU1kLFdBS2xCM0QsRUFBRSxzQkFBc0I0QixHQUFHLFFBQVMsV0FDaEM1QixFQUFFRixNQUFNNEUsWUFBWSxvQkFRaEM5RSxNQUFNUyxVQUFVMEIsc0JBQXdCLFdBQ3BDLElBQUk0QyxFQUFXM0UsRUFBRSxjQUNiRCxFQUFlQyxFQUFFLGtCQUNyQjJFLEVBQVNsRCxNQUFNLFdBQ1gxQixFQUFhNEQsVUFRckIvRCxNQUFNUyxVQUFVNkIsd0JBQTBCLFdBQ3RDbEMsRUFBRSxrQkFBa0I0QixHQUFHLFFBQVMsV0FDNUI1QixFQUFFLHVCQUF1QnFELE9BQ3pCckQsRUFBRSxpQkFBaUJxRCxPQUNuQixJQUVJdUIsRUFGYTVFLEVBQUVGLE1BQ0MrRSxTQUFTQSxTQUNYQyxLQUFLLFdBQ3ZCeEIsUUFBUUMsSUFBSXFCLEdBQ1pHLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyx5QkFDUEMsS0FBUSxDQUNKTixTQUFZQSxHQUVoQk8sUUFBVyxTQUFVQyxHQUNMQSxFQUFhLFdBUXpDeEYsTUFBTVMsVUFBVTRCLHdCQUEwQixXQUN0QyxJQUFJb0QsRUFBa0JyRixFQUFFLHNCQUNwQnNGLEVBQXFCdEYsRUFBRSx1QkFDdkJ1RixFQUFldkYsRUFBRSxpQkFDakJ3RixFQUFpQnhGLEVBQUUsb0JBQ25CeUYsRUFBZ0J6RixFQUFFLG1CQUNsQjBGLEVBQW1CMUYsRUFBRSxzQkFDckIyRixFQUFxQjNGLEVBQUUseUJBQzNCcUYsRUFBZ0I1RCxNQUFNLFdBQ2xCNkQsRUFBbUIzQixPQUNuQjRCLEVBQWE1QixTQUVqQjhCLEVBQWNoRSxNQUFNLFdBRWhCaUUsRUFBaUIvQixPQUNqQmdDLEVBQW1CdEMsT0FDbkJtQyxFQUFlZCxZQUFZLFNBQzNCZSxFQUFjZixZQUFZLFdBRzlCYyxFQUFlL0QsTUFBTSxXQUNqQmlFLEVBQWlCckMsT0FDakJzQyxFQUFtQmhDLE9BQ25COEIsRUFBY2YsWUFBWSxTQUMxQmMsRUFBZWQsWUFBWSxZQUtuQzlFLE1BQU1TLFVBQVU4QixvQkFBc0IsV0FDbEMsSUFBSXlELEVBQXlCNUYsRUFBRSw0QkFDM0I2RixFQUFvQjdGLEVBQUUsd0JBQ3RCOEYsRUFBaUI5RixFQUFFLGVBQ25CdUYsRUFBZXZGLEVBQUUsaUJBQ3JCOEYsRUFBZXJFLE1BQU0sV0FDakJtRSxFQUF1QnZDLE9BQ3ZCa0MsRUFBYWxDLFNBR2pCd0MsRUFBa0JwRSxNQUFNLFdBQ3BCbUUsRUFBdUJqQyxPQUN2QjRCLEVBQWE1QixVQU9yQi9ELE1BQU1TLFVBQVVrQyxvQkFBc0IsV0FHbENlLFFBQVFDLElBQUksYUFFWnZELEVBQUUsa0JBQWtCK0YsT0FBTyxXQUN2QixJQUVJQyxFQUZpQmhHLEVBQUUsaUJBQ082RCxLQUFLLDBCQUEwQnpDLE9BQ3pDNkUsTUFBTSxLQUN0QkMsRUFBUUYsRUFBSyxHQUNiRyxFQUFTSCxFQUFLLEdBQ2RJLEVBQUtwRyxFQUFFLGtCQUFrQjZELEtBQUssbUJBQW1CSSxNQUNyRGMsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLHdCQUNQQyxLQUFRLENBQ0ptQixjQUFlSCxFQUNmSSxlQUFnQkgsRUFDaEJJLFdBQWNILEdBRWxCakIsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlGLEVBQU9FLEVBQWEsS0FDeEI5QixRQUFRQyxJQUFJMkIsR0FDWixJQUFJc0IsRUFBYXRCLEVBQWlCLFdBQzlCdUIsRUFBZ0J2QixFQUFvQixjQUNwQy9CLEVBQU1uRCxFQUFFLDBCQUEwQmlFLE1BQ2xDeUMsRUFBTzFHLEVBQUUscUJBQXFCaUUsTUFDOUIwQyxHQUFXSCxFQUFhQyxHQUFpQnRELEVBR3pDeUQsR0FGY0QsR0FBd0IsRUFBYkgsRUFBaUJHLEdBQVdELEdBQVFGLEVBRXZDLE1BRFRHLEdBQTJCLEVBQWhCRixFQUFvQkUsR0FBV0QsR0FBUUQsRUFDakIsSUFDbER6RyxFQUFFLHFCQUFxQmlFLElBQUl1QyxHQUMzQnhHLEVBQUUsa0JBQWtCaUUsSUFBSXdDLEdBQ3hCekcsRUFBRSxpQkFBaUJvQixLQUFLd0YsR0FDeEI1RyxFQUFFLHlCQUF5QjRCLEdBQUcsT0FBUSxXQUNsQyxHQUF5QyxLQUFwQzVCLEVBQUUseUJBQXlCaUUsTUFBYSxDQUN6QyxJQUFJZCxFQUFNbkQsRUFBRSwwQkFBMEJpRSxNQUNsQ3lDLEVBQU8xRyxFQUFFLHFCQUFxQmlFLE1BQzlCMEMsR0FBV0gsRUFBYUMsR0FBaUJ0RCxFQUd6Q3lELEdBRmNELEdBQXdCLEVBQWJILEVBQWlCRyxHQUFXRCxHQUFRRixFQUV2QyxNQURURyxHQUEyQixFQUFoQkYsRUFBb0JFLEdBQVdELEdBQVFELEVBQ2hCLElBQ25EekcsRUFBRSxpQkFBaUJvQixLQUFLd0YsTUFJaEM1RyxFQUFFLHFCQUFxQjRCLEdBQUcsT0FBUSxXQUM5QixHQUFxQyxLQUFoQzVCLEVBQUUscUJBQXFCaUUsTUFBYSxDQUNyQyxJQUFJZCxFQUFNbkQsRUFBRSwwQkFBMEJpRSxNQUNsQ3lDLEVBQU8xRyxFQUFFLHFCQUFxQmlFLE1BQzlCMEMsR0FBV0gsRUFBYUMsR0FBaUJ0RCxFQUd6Q3lELEdBRmNELEdBQXdCLEVBQWJILEVBQWlCRyxHQUFXRCxHQUFRRixFQUV2QyxNQURURyxHQUEyQixFQUFoQkYsRUFBb0JFLEdBQVdELEdBQVFELEVBQ2hCLElBQ25EekcsRUFBRSxpQkFBaUJvQixLQUFLd0YsTUFHaEM1RyxFQUFFLG9CQUFvQnlCLE1BQU0sV0FHeEIsR0FGQTZCLFFBQVFDLElBQUksU0FFQSxPQURSc0QsRUFBUTdHLEVBQUUsY0FBY2lFLFlBR3RCLENBQ0YsSUFBSTRDLEVBQVE3RyxFQUFFLGNBQWNpRSxNQUM1QmpFLEVBQUUsVUFBVW9CLEtBQUt5RixhQWtCN0NqSCxNQUFNUyxVQUFVeUcscUJBQXVCLFdBQ3JCOUcsRUFBRSxrQkFDUnVFLEtBQUssU0FBVXdDLEVBQU9DLEdBQzFCLElBQUlDLEVBQU1qSCxFQUFFZ0gsR0FDWkMsRUFBSXhGLE1BQU0sV0FDTndGLEVBQUkxRixTQUFTLFVBQVU2QyxXQUFXL0MsWUFBWSxlQVExRHpCLE1BQU1TLFVBQVUrQixrQkFBb0IsV0FDZHBDLEVBQUUsaUJBRVJ5QixNQUFNLFdBQ2Q2QixRQUFRQyxJQUFJLFdBQ1osSUFFSXlDLEVBRmFoRyxFQUFFLHNCQUNJNkQsS0FBSywwQkFBMEJ6QyxPQUNyQzZFLE1BQU0sS0FDbkJpQixFQUFVbEIsRUFBSyxHQUNmRyxFQUFTSCxFQUFLLEdBQ2xCMUMsUUFBUUMsSUFBSSxPQUFPMkQsR0FDbkI1RCxRQUFRQyxJQUFJLE9BQU80QyxHQUVuQixJQUFJZ0IsRUFBV25ILEVBQUUsNkNBQTZDb0IsT0FDOURrQyxRQUFRQyxJQUFJNEQsR0FDWixJQUFJQyxFQUFVcEgsRUFBRSxrQkFBa0I2RCxLQUFLLG1CQUFtQkksTUFDdER1QyxFQUFheEcsRUFBRSx3Q0FBd0NvQixPQUN2RDhDLEVBQVVsRSxFQUFFLDJDQUEyQ29CLE9BQ3ZEaUcsRUFBY3JILEVBQUUseUNBQXlDb0IsT0FDekRrRyxFQUFldEgsRUFBRSx5QkFBeUJvQixPQUMxQ21HLEVBQWN2SCxFQUFFLHNCQUFzQm9CLE9BQ3RDb0csRUFBVXhILEVBQUUsdUJBQXVCb0IsT0FDbkNxRyxFQUFVekgsRUFBRSx1QkFBdUJvQixPQUN2Q2tDLFFBQVFDLElBQUksT0FBTytELEVBQWEsTUFBTUMsRUFBWSxRQUFRQyxFQUFRLE9BQU9DLEdBRXpFLElBQUlmLEVBQU8xRyxFQUFFLDRDQUE0Q29CLE9BQ3JEc0csRUFBaUIxSCxFQUFFLDBDQUEwQ29CLE9BQzdEdUcsRUFBVzNILEVBQUUsbUJBQW1Cb0IsT0FDaEN3RyxFQUFTNUgsRUFBRSxtQkFBbUJvQixPQUVsQ2tDLFFBQVFDLElBQUksTUFBTW9FLEVBQVNDLEdBQzNCdEUsUUFBUUMsSUFBSSxNQUFNNEQsRUFBVSxNQUFNQyxFQUFRLE9BQVFaLEVBQVksT0FBT3RDLEVBQVMsUUFBUW1ELEVBQWEsUUFBUVgsRUFBTSxPQUFPZ0IsR0FFeEgzQyxRQUFRQyxLQUFLLENBQ1RDLElBQU0scUJBQ05DLEtBQU8sQ0FDSDJDLGdCQUFrQlQsRUFDbEJVLFNBQVdaLEVBQ1hmLE9BQVNBLEVBQ1Q0QixpQkFBbUJaLEVBQ25CYSxZQUFjLEdBQ2RDLGFBQWUsR0FDZkMsZ0JBQWtCLEdBQ2xCQyxhQUFlLEdBQ2ZDLGFBQWUsR0FDZkMsV0FBYSxFQUNiQyxPQUFTLEVBQ1RDLGNBQWdCakIsRUFDaEJrQixpQkFBbUIsR0FDbkJoQyxXQUFhQSxFQUNiQyxjQUFnQnZDLEVBQ2hCbUQsWUFBYyxHQUNkb0IsY0FBZ0IvQixFQUNoQmdDLFFBQVUsR0FDVmpCLFFBQVUsSUFDVkMsZUFBaUJBLEVBQ2pCaUIsV0FBYSxRQUNiQyxjQUFnQixRQUNoQkMsZ0JBQWtCLFFBRXRCMUQsUUFBVSxTQUFVQyxHQUNoQjlCLFFBQVFDLElBQUk2QixTQVc1QnhGLE1BQU1TLFVBQVVnQyxjQUFnQixXQUNickMsRUFBRSxjQUNSeUIsTUFBTSxXQUNYLElBRUlxSCxFQUZhOUksRUFBRUYsTUFDQytFLFNBQVNBLFNBQ2RDLEtBQUssV0FDaEJGLEVBQVcsR0FDZkEsRUFBU21FLEtBQUtELEdBQ2R4RixRQUFRQyxJQUFJcUIsR0FDWkcsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLG9CQUNQQyxLQUFRLENBQ0pOLFNBQVlBLEdBRWhCb0UsYUFBYSxFQUNiN0QsUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLE1BQ2I5QixRQUFRQyxJQUFJNkIsU0FXaEN4RixNQUFNUyxVQUFVaUMsZUFBaUIsV0FDN0J0QyxFQUFFLG9CQUFvQjRCLEdBQUcsUUFBUyxXQUM5QixJQUFJcUgsRUFBT2pKLEVBQUVGLE1BQU1zQixPQUNuQmtDLFFBQVFDLElBQUkwRixHQUNaLElBQUlqQyxFQUFVaEgsRUFBRUYsTUFBTXNFLFdBQ2xCOEUsRUFBU2xKLEVBQUVnSCxFQUFRLElBQUk1RixPQUMzQixHQUFlLE9BQVg4SCxHQUE4QixXQUFYQSxFQUNuQixJQUFJQyxFQUFXLEtBRW5CLEdBQWUsT0FBWEQsR0FBOEIsV0FBWEEsRUFDZkMsRUFBVyxLQUVuQixHQUFhLE9BQVRGLEVBQWUsQ0FDZixJQUFJRyxFQUFZRixFQUFTLElBQU1ELEVBQU8sSUFDdEMzRixRQUFRQyxJQUFJNkYsR0FDWnBKLEVBQUVnSCxFQUFRLElBQUk1RixLQUFLZ0ksR0FDbkJwSixFQUFFRixNQUFNc0IsS0FBSyxXQUVicEIsRUFBRWdILEVBQVEsSUFBSTVGLEtBQUsrSCxHQUNuQm5KLEVBQUVGLE1BQU1zQixLQUFLLFNBTXpCcEIsRUFBRSxZQUNjLElBQUlKLE9BQ1ZVIiwiZmlsZSI6ImdpcmRpbmcubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gR2lyZGluZygpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbn07XHJcblxyXG5HaXJkaW5nLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyBzZWxmLm1vZGFsUnVuKCk7XHJcbiAgICAvLyBzZWxmLmxpc3RlblN0ZXBzRXZlbnQoKVxyXG59O1xyXG5cclxuR2lyZGluZy5wcm90b3R5cGUubW9kYWxSdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgbW9kYWxEYXRhQXJyYXkgPSBuZXcgQXJyYXkoc2VsZi5zdGVwMSwgc2VsZi5zdGVwdDIpO1xyXG4gICAgc2VsZi5tb2FkbERhdGFDb250cm9sKFwiI21vZGFsXCIsIG1vZGFsRGF0YUFycmF5LCBzZWxmLm1vZGFsQ2FsbGJhY2soKSlcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIG1vZGFsU2VsZWN0IG1vZGFs6YCJ5oup56ym77yM5pys5L6L5Li64oCcI215TW9kYWzigJ1cclxuICogQHBhcmFtIG1vZGFsRGF0YUFycmF5IGh0bWzku6PnoIHlrZfnrKbkuLLmlbDnu4RcclxuICogQHBhcmFtIGN1cnJlbnRQYWdlSW5kZXgg5b2T5YmN6aG156CBXHJcbiAqIEBwYXJhbSBkaXJlY3Rpb24gMeihqOekuuS4i+S4gOmhteaWueWQke+8jC0x6KGo56S65LiK5LiA6aG15pa55ZCRXHJcbiAqL1xyXG5HaXJkaW5nLnByb3RvdHlwZS5jb250cm9sUGFnZVRvZ2dsZSA9IGZ1bmN0aW9uIChtb2RhbFNlbGVjdCwgbW9kYWxEYXRhQXJyYXksIGN1cnJlbnRQYWdlSW5kZXgsIGRpcmVjdGlvbikge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGFycmF5TGVuZ3RoID0gbW9kYWxEYXRhQXJyYXkubGVuZ3RoO1xyXG4gICAgaWYgKGFycmF5TGVuZ3RoIDw9IDEpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKGRpcmVjdGlvbiA9PSAxKSB7XHJcbiAgICAgICAgLy/lpoLmnpzlvZPliY3pobXmmK/lgJLmlbDnrKzkuozpobXvvIzliJnlsIbkuIvkuIDpobXorr7nva7kuLrlsL7pobVcclxuICAgICAgICBpZiAoY3VycmVudFBhZ2VJbmRleCA9PSBhcnJheUxlbmd0aCAtIDIpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLmj5DkuqRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WmguaenOW9k+WJjemhteaYr+mmlumhte+8jOa3u+WKoOS4iuS4gOmhtVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ID09IDAgJiYgYXJyYXlMZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnByZXZpb3VzLXBhZ2VcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5pu05o2ibW9kYWwtYm9keeWSjOmhteeggVxyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLnBhZ2UtaW5kZXhcIikudGV4dCgoKytjdXJyZW50UGFnZUluZGV4KS50b1N0cmluZygpKTtcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5tb2RhbC1ib2R5XCIpLmh0bWwobW9kYWxEYXRhQXJyYXlbY3VycmVudFBhZ2VJbmRleF0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL+WmguaenOW9k+WJjemhteaYr+WwvumhtVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ID09IGFycmF5TGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5uZXh0LXBhZ2VcIikudGV4dChcIuS4i+S4gOmhtVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5aaC5p6c5b2T5YmN6aG15piv5q2j5pWw56ys5LqM6aG1LOWImeWwhuS4iuS4gOmhteiuvue9ruS4uummlumhtVxyXG4gICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ID09IDEpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucHJldmlvdXMtcGFnZVwiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/mm7TmjaJtb2RhbC1ib2R55ZKM6aG156CBXHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCgtLWN1cnJlbnRQYWdlSW5kZXgpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm1vZGFsLWJvZHlcIikuaHRtbChtb2RhbERhdGFBcnJheVtjdXJyZW50UGFnZUluZGV4XSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIG1vZGFsU2VsZWN0IG1vZGFs6YCJ5oup56ymXHJcbiAqIEBwYXJhbSBtb2RhbERhdGFBcnJheSBodG1s5Luj56CB5a2X56ym5Liy5pWw57uEXHJcbiAqIEBwYXJhbSBtb2RhbENhbGxiYWNrIG1vZGFs5Zue6LCD5Ye95pWwXHJcbiAqL1xyXG5HaXJkaW5nLnByb3RvdHlwZS5tb2FkbERhdGFDb250cm9sID0gZnVuY3Rpb24gKG1vZGFsU2VsZWN0LCBtb2RhbERhdGFBcnJheSwgbW9kYWxDYWxsYmFjaykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy/liJ3lp4vljJbmqKHmgIHmoYbpppbpobXmlbDmja5cclxuICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm1vZGFsLWJvZHlcIikuaHRtbChtb2RhbERhdGFBcnJheVswXSk7XHJcbiAgICBpZiAobW9kYWxEYXRhQXJyYXkubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5uZXh0LXBhZ2VcIikudGV4dChcIuaPkOS6pFwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+eCueWHu+S4i+S4gOmhtVxyXG4gICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+iwg+eUqOWbnuiwg+WHveaVsFxyXG4gICAgICAgIHNlbGYubW9kYWxDYWxsYmFjaygpXHJcbiAgICAgICAgaWYgKCQodGhpcykudGV4dCgpID09IFwi5o+Q5LqkXCIpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCkubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+iOt+WPluW9k+WJjemhteeggVxyXG4gICAgICAgIHZhciBjdXJyZW50UGFnZUluZGV4ID0gcGFyc2VJbnQoJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCkpO1xyXG4gICAgICAgIHNlbGYuY29udHJvbFBhZ2VUb2dnbGUobW9kYWxTZWxlY3QsIG1vZGFsRGF0YUFycmF5LCBjdXJyZW50UGFnZUluZGV4LCAxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8v54K55Ye75LiK5LiA6aG1XHJcbiAgICAkKG1vZGFsU2VsZWN0ICsgXCIgXCIgKyBcIi5wcmV2aW91cy1wYWdlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+iOt+WPluW9k+WJjemhteeggVxyXG4gICAgICAgIHZhciBjdXJyZW50UGFnZUluZGV4ID0gcGFyc2VJbnQoJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCkpO1xyXG4gICAgICAgIGNvbnRyb2xQYWdlVG9nZ2xlKG1vZGFsU2VsZWN0LCBtb2RhbERhdGFBcnJheSwgY3VycmVudFBhZ2VJbmRleCwgLTEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy/lhbPpl63mqKHmgIHmoYbml7bvvIzph43nva7kuLrpppbpobVcclxuICAgICQobW9kYWxTZWxlY3QpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucGFnZS1pbmRleFwiKS50ZXh0KCgwKS50b1N0cmluZygpKTtcclxuICAgICAgICBpZiAobW9kYWxEYXRhQXJyYXkubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLmj5DkuqRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIubmV4dC1wYWdlXCIpLnRleHQoXCLkuIvkuIDpobVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQobW9kYWxTZWxlY3QgKyBcIiBcIiArIFwiLm1vZGFsLWJvZHlcIikuaHRtbChtb2RhbERhdGFBcnJheVswXSk7XHJcbiAgICAgICAgJChtb2RhbFNlbGVjdCArIFwiIFwiICsgXCIucHJldmlvdXMtcGFnZVwiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbkdpcmRpbmcucHJvdG90eXBlLm1vZGFsQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBhbGVydChcIuaPkOS6pOaIkOWKn1wiKTtcclxufVxyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGdpcmQgPSBuZXcgR2lyZGluZygpO1xyXG4gICAgZ2lyZC5ydW4oKTtcclxufSlcclxuXHJcblxyXG5mdW5jdGlvbiBSb2JvdCgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucm9ib3RXcmFwcGVyID0gJCgnLnJvYm90LXdyYXBwZXInKTtcclxuICAgIHNlbGYudHJhZGluZ09uV3JhcHBlciA9ICQoJy50cmFkaW5nLW9uJyk7XHJcbiAgICBzZWxmLnRyYWRpbmdTdHJhdGVneVdyYXBwZXIgPSAkKCcudHJhZGluZy1zdHJhdGVneScpO1xyXG4gICAgc2VsZi5zZXRTdHJhdGVneVdyYXBwZXIgPSAkKCcuc2V0LXN0cmF0ZWd5Jyk7XHJcbiAgICBzZWxmLnNldFJpc2tXcmFwcGVyID0gJCgnLnNldC1yaXNrLXN0cmF0ZWd5Jyk7XHJcblxyXG59O1xyXG5cclxuUm9ib3QucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIHNlbGYuaW5pdFlzdGVwRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuQ2xpY2tSb2JvdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNsb3NlUm9ib3RFdmVudCgpO1xyXG4gICAgc2VsZi5sb2Fkc3RlcEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblRyYWRpbmdSb2JvdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNyZWF0VHJhZGluZ0V2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbnBhcmFtZXRlckV2ZW4oKTtcclxuICAgIHNlbGYubGlzdGVuU3VibWl0Um9ib3QoKTtcclxuICAgIHNlbGYucnVuUm9ib3RFdmVudCgpO1xyXG4gICAgc2VsZi5wcm90ZWN0UmVsaWV2ZSgpO1xyXG4gICAgc2VsZi5nZXRBY2NvdW50SW5mb0V2ZW50KCk7XHJcbiAgICAvLyBzZWxmLmxpc3RlbkNsaWNrU3RyYWdlcnR5KCk7XHJcbiAgICAvLyBzZWxmLmdldEFjY291bnRJbmZvRXZlbnQoKTtcclxuXHJcbn07XHJcbi8qKlxyXG4gKiDmnLrlmajkurrmraXpqqTliJ3lp4vljJZcclxuICovXHJcblJvYm90LnByb3RvdHlwZS5pbml0WXN0ZXBFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8v5qC55o2ualF1ZXJ56YCJ5oup5Zmo5om+5Yiw6ZyA6KaB5Yqg6L29eXN0ZXDnmoTlrrnlmahcclxuLy9sb2FkU3RlcCDmlrnms5Xlj6/ku6XliJ3lp4vljJZ5c3RlcFxyXG5cclxuICAgICQoXCIueXN0ZXBcIikuc2V0U3RlcCgxKTtcclxuXHJcbn07XHJcblJvYm90LnByb3RvdHlwZS5sb2Fkc3RlcEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi55c3RlcFwiKS5sb2FkU3RlcCh7XHJcbiAgICAgICAgc2l6ZTogXCJsYXJnZVwiLFxyXG4gICAgICAgIGNvbG9yOiBcImdyZWVuXCIsXHJcbiAgICAgICAgc3RlcHM6IFt7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIumAieaLqeS6pOaYk+WvuVwiLFxyXG5cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIumAieaLqeS6pOaYk+etlueVpVwiLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgdGl0bGU6IFwi6K6+572u562W55Wl5Y+C5pWwXCIsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB0aXRsZTogXCLorr7nva7po47pmannrZbnlaVcIixcclxuICAgICAgICB9LF1cclxuICAgIH0pO1xyXG59XHJcblxyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xpY2tSb2JvdEVhYWF2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB2YXIgYnRuUHJlID0gJChcIiNidG5QcmVcIilcclxuICAgIHZhciBidG5OZXh0ID0gJChcIiNidG5OZXh0XCIpXHJcbiAgICB2YXIgcm9ib3REYXRhQXJyYXkgPSBuZXcgQXJyYXkoc2VsZi50cmFkaW5nT25XcmFwcGVyLCBzZWxmLnRyYWRpbmdTdHJhdGVneVdyYXBwZXIsIHNlbGYuc2V0U3RyYXRlZ3lXcmFwcGVyLCBzZWxmLnNldFJpc2tXcmFwcGVyKVxyXG4gICAgdmFyIGFycmF5TGVuZ3RoID0gcm9ib3REYXRhQXJyYXkubGVuZ3RoXHJcbiAgICB2YXIgbnVtID0gMDtcclxuICAgIHZhciBjcmVhdHJvYm90Y2xpY2sgPSAwXHJcbiAgICAvLyBjb25zb2xlLmxvZyhhcnJheUxlbmd0aClcclxuICAgIC8vIGlmIChhcnJheUxlbmd0aCA8PSAxKVxyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgICQoJyNjcmVhdGUtcm9ib3QnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNyZWF0cm9ib3RjbGljayA9PSAwKSB7XHJcbiAgICAgICAgICAgIHNlbGYucm9ib3RXcmFwcGVyLnNob3coKTtcclxuICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbbnVtXS5zaG93KClcclxuICAgICAgICAgICAgY3JlYXRyb2JvdGNsaWNrKytcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjcmVhdHJvYm90Y2xpY2spXHJcbiAgICAgICAgICAgIHNlbGYucm9ib3RXcmFwcGVyLnNob3coKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJChcIiNidG5QcmVcIikudW5iaW5kKCk7XHJcbiAgICAgICAgYnRuUHJlLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ251bScpXHJcbiAgICAgICAgICAgIGlmIChudW0gPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtID0gMDtcclxuICAgICAgICAgICAgICAgIC8vIGxpW251bV0uc2hvdygpLnNpYmxpbmcoKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBudW0tLTtcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0JykudGV4dCgn5LiL5LiA5q2lJylcclxuICAgICAgICAgICAgICAgIC8vIGxpW251bV0uc2hvdygpLnNpYmxpbmcoKS5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v6Lez6L2s5Yiw5LiK5LiA5Liq5q2l6aqkXHJcbiAgICAgICAgICAgICQoXCIueXN0ZXBcIikucHJldlN0ZXAoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2YWwnLCByb2JvdERhdGFBcnJheSlcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb2JvdERhdGFBcnJheS5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChudW0gPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByb2JvdERhdGFBcnJheVtpXS5zaG93KClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbaV0uaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKFwiI2J0bk5leHRcIikudW5iaW5kKCk7XHJcbiAgICAgICAgYnRuTmV4dC5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uQ3VycmVuY3kgPSAkKCcjY3VycnknKS5maW5kKFwiIG9wdGlvbjpzZWxlY3RlZFwiKS50ZXh0KCk7Ly/kuqTmmJPluIHnp41cclxuICAgICAgICAgICAgdmFyIG1hcmtldHRpdGxlID0gJCgnI21hcmtldCcpLmZpbmQoXCIgb3B0aW9uOnNlbGVjdGVkXCIpLnRleHQoKTsvL+S6pOaYk+W4guWculxyXG4gICAgICAgICAgICB2YXIgcGFyYW1ldGVyc2NvbnRyb2wgPSAkKCcucGFyYW1ldGVycy1jb250cm9sJykuZmluZChcIiBvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpLy/kuqTmmJPotKbmiLdcclxuICAgICAgICAgICAgdmFyIHJlc2lzdGFuY2V2YWx1ZSA9ICQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzIC50cmFkaW5nLXBhcmFtZXRlcnMgLnJlc2lzdGFuY2UtdmFsdWUnKS52YWwoKS8v6Zi75Yqb5YC8XHJcbiAgICAgICAgICAgIHZhciBzdXBwb3J0ID0gJCgnLnN0cmF0ZWd5LXBhcmFtZXRlcnMgLnRyYWRpbmctcGFyYW1ldGVycyAuc3VwcG9ydCcpLnZhbCgpLy/mlK/mkpHkvY1cclxuICAgICAgICAgICAgdmFyIGdyaWRudW1iZXIgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycyAudHJhZGluZy1wYXJhbWV0ZXJzIC5ncmlkLW51bWJlcicpLnZhbCgpLy/nvZHmoLzmlbDph49cclxuXHJcblxyXG4gICAgICAgICAgICAvLyBhbGVydCgn6K+36YCJ5oup5Lqk5piT5biB56eNL+S6pOaYk+W4guWcuicpXHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHRleHQgPSB0cmFuc2FjdGlvbkN1cnJlbmN5ICsgJy8nICsgbWFya2V0dGl0bGVcclxuICAgICAgICAgICAgJCgnLnRyYWRpbmctc3RyYXRlZ3kgLnN0cmF0ZWd5LWN1cnJ5IC5jdXJyeScpLnRleHQodGV4dCk7XHJcbiAgICAgICAgICAgICQoJy5zZXQtc3RyYXRlZ3kgLnN0cmF0ZWd5LWN1cnJ5IC5jdXJyeScpLnRleHQodGV4dCk7XHJcbiAgICAgICAgICAgICQoJy5zZXQtcmlzay1zdHJhdGVneSAuc3RyYXRlZ3ktY3VycnkgLmN1cnJ5JykudGV4dCh0ZXh0KTtcclxuXHJcblxyXG4gICAgICAgICAgICAkKCcuc2V0LXN0cmF0ZWd5LXRpdGxlIC5zdHJhdGVneS1wYXJhbWV0ZXJzLXRvcCAudXNlcicpLnRleHQocGFyYW1ldGVyc2NvbnRyb2wpXHJcblxyXG4gICAgICAgICAgICAkKCcuc2V0LXJpc2stc3RyYXRlZ3kgLnNldC1zdHJhdGVneS10aXRsZSAucmVzaXN0YW5jZScpLnRleHQocmVzaXN0YW5jZXZhbHVlKVxyXG4gICAgICAgICAgICAkKCcuc2V0LXJpc2stc3RyYXRlZ3kgLnNldC1zdHJhdGVneS10aXRsZSAuc3VwcG9ydC1sZXZlbCcpLnRleHQoc3VwcG9ydClcclxuICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zZXQtc3RyYXRlZ3ktdGl0bGUgLmdpcmRpbmctbnVtJykudGV4dChncmlkbnVtYmVyKVxyXG5cclxuICAgICAgICAgICAgLy8gJCgnLnRyYWRpbmctc3RyYXRlZ3kgLnN0cmF0ZWd5LWN1cnJ5IC5jdXJyeTEnKS50ZXh0KG1hcmtldHRpdGxlKVxyXG5cclxuICAgICAgICAgICAgdmFyIHN0cmF0ZWd5dGl0bGUgPSAn572R5qC85Lqk5piTdjEuMCdcclxuICAgICAgICAgICAgJCgnLnN0cmF0ZWd5LW5hbWUgLnN0cmF0ZWd5LWJ1dHRvbiBidXR0b24nKS51bmJpbmQoKTtcclxuICAgICAgICAgICAgJCgnLnN0cmF0ZWd5LW5hbWUgLnN0cmF0ZWd5LWJ1dHRvbiBidXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJhdGVneXRpdGxlID0gJCh0aGlzKS50ZXh0KCk7Ly/kuqTmmJPnrZbnlaVcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cmF0ZWd5dGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnNldC1zdHJhdGVneSAuc3RyYXRlZ3ktdGl0bGUgLnN0cmF0ZWd5JykudGV4dChzdHJhdGVneXRpdGxlKVxyXG4gICAgICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zdHJhdGVneS10aXRsZSAuY3VycnknKS50ZXh0KHN0cmF0ZWd5dGl0bGUpXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAvLyAkKCcuc2V0LXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KHRyYW5zYWN0aW9uQ3VycmVuY3kpXHJcbiAgICAgICAgICAgIC8vICQoJy5zZXQtc3RyYXRlZ3kgLnN0cmF0ZWd5LWN1cnJ5IC5jdXJyeTEnKS50ZXh0KG1hcmtldHRpdGxlKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbmV4dCcpXHJcbiAgICAgICAgICAgIGlmIChudW0gPj0gMikge1xyXG4gICAgICAgICAgICAgICAgJCgnI2J0bk5leHQnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuQ29tcGxldGUnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICBudW0gPSAzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLnRleHQoJ+S4i+S4gOatpScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/ot7PovazliLDkuIvkuIDkuKrmraXpqqRcclxuXHJcbiAgICAgICAgICAgIC8vIHZhciBzdGVwTnVtID0gJChcIi55c3RlcFwiKS5nZXRTdGVwKCk7XHJcbiAgICAgICAgICAgIC8vIHJvYm90RGF0YUFycmF5W3N0ZXBOdW0rMV0uc2hvdygpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0ZXBOdW0pXHJcblxyXG4gICAgICAgICAgICAvLyAgaWYgKHRyYW5zYWN0aW9uQ3VycmVuY3k9PSctLS3or7fpgInmi6ktLS0nICkge1xyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2codHJhbnNhY3Rpb25DdXJyZW5jeSlcclxuICAgICAgICAgICAgLy8gICAgICAgICBhbGVydCgn6K+36YCJ5oup5Lqk5piT5biB56eNL+S6pOaYk+W4guWcuicpXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgIG51bT0wO1xyXG4gICAgICAgICAgICAvLyB9ZWxzZXtcclxuICAgICAgICAgICAgJChcIi55c3RlcFwiKS5uZXh0U3RlcCgpO1xyXG4gICAgICAgICAgICAvLyAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICQuZWFjaChyb2JvdERhdGFBcnJheSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChudW0gPT09IGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnNob3coKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5oaWRlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLndhcm5pbmd1c2VyIGxhYmVsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdidG4tc3VjY2VzcycpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG5cclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmnLrlmajkurrkv6Hmga/loavlhplcclxuICovXHJcblJvYm90LnByb3RvdHlwZS5saXN0ZW5DbGlja1JvYm90RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHZhciBidG5QcmUgPSAkKFwiI2J0blByZVwiKVxyXG4gICAgdmFyIGJ0bk5leHQgPSAkKFwiI2J0bk5leHRcIilcclxuICAgIHZhciByb2JvdERhdGFBcnJheSA9IG5ldyBBcnJheShzZWxmLnRyYWRpbmdPbldyYXBwZXIsIHNlbGYudHJhZGluZ1N0cmF0ZWd5V3JhcHBlciwgc2VsZi5zZXRTdHJhdGVneVdyYXBwZXIsIHNlbGYuc2V0Umlza1dyYXBwZXIpXHJcbiAgICB2YXIgbnVtID0gMDtcclxuICAgIHZhciBjcmVhdHJvYm90Y2xpY2sgPSAwXHJcbiAgICAkKCcjY3JlYXRlLXJvYm90Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChjcmVhdHJvYm90Y2xpY2sgPT0gMCkge1xyXG4gICAgICAgICAgICBzZWxmLnJvYm90V3JhcHBlci5zaG93KCk7XHJcbiAgICAgICAgICAgIHJvYm90RGF0YUFycmF5W251bV0uc2hvdygpXHJcbiAgICAgICAgICAgIGNyZWF0cm9ib3RjbGljaysrXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY3JlYXRyb2JvdGNsaWNrKVxyXG4gICAgICAgICAgICBzZWxmLnJvYm90V3JhcHBlci5zaG93KClcclxuICAgICAgICB9XHJcbiAgICAgICAgJChcIiNidG5QcmVcIikudW5iaW5kKCk7XHJcbiAgICAgICAgYnRuUHJlLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ251bScpXHJcbiAgICAgICAgICAgIGlmIChudW0gPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG51bS0tO1xyXG4gICAgICAgICAgICAgICAgJCgnI2J0bk5leHQnKS5zaG93KCkudGV4dCgn5LiL5LiA5q2lJylcclxuICAgICAgICAgICAgICAgICQoJyNidG5Db21wbGV0ZScpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+i3s+i9rOWIsOS4iuS4gOS4quatpemqpFxyXG4gICAgICAgICAgICAkKFwiLnlzdGVwXCIpLnByZXZTdGVwKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2YWwnLCByb2JvdERhdGFBcnJheSlcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb2JvdERhdGFBcnJheS5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChudW0gPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByb2JvdERhdGFBcnJheVtpXS5zaG93KClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9ib3REYXRhQXJyYXlbaV0uaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIiNidG5OZXh0XCIpLnVuYmluZCgpO1xyXG4gICAgICAgIGJ0bk5leHQuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbkN1cnJlbmN5ID0gJCgnI2N1cnJ5JykuZmluZChcIiBvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpOy8v5Lqk5piT5biB56eNXHJcbiAgICAgICAgICAgIHZhciBtYXJrZXR0aXRsZSA9ICQoJyNtYXJrZXQnKS5maW5kKFwiIG9wdGlvbjpzZWxlY3RlZFwiKS50ZXh0KCk7Ly/kuqTmmJPluILlnLpcclxuICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnNjb250cm9sID0gJCgnLnBhcmFtZXRlcnMtY29udHJvbCcpLmZpbmQoXCIgb3B0aW9uOnNlbGVjdGVkXCIpLnRleHQoKS8v5Lqk5piT6LSm5oi3XHJcbiAgICAgICAgICAgIHZhciByZXNpc3RhbmNldmFsdWUgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycyAudHJhZGluZy1wYXJhbWV0ZXJzIC5yZXNpc3RhbmNlLXZhbHVlJykudmFsKCkvL+mYu+WKm+WAvFxyXG4gICAgICAgICAgICB2YXIgc3VwcG9ydCA9ICQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzIC50cmFkaW5nLXBhcmFtZXRlcnMgLnN1cHBvcnQnKS52YWwoKS8v5pSv5pKR5L2NXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN1cHBvcnRcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB2YXIgZ3JpZG51bWJlciA9ICQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzIC50cmFkaW5nLXBhcmFtZXRlcnMgLmdyaWQtbnVtYmVyJykudmFsKCkvL+e9keagvOaVsOmHj1xyXG5cclxuICAgICAgICAgICAgLy8gYWxlcnQoJ+ivt+mAieaLqeS6pOaYk+W4geenjS/kuqTmmJPluILlnLonKVxyXG4gICAgICAgICAgICB2YXIgdGV4dCA9IHRyYW5zYWN0aW9uQ3VycmVuY3kgKyAnLycgKyBtYXJrZXR0aXRsZVxyXG4gICAgICAgICAgICAkKCcudHJhZGluZy1zdHJhdGVneSAuc3RyYXRlZ3ktY3VycnkgLmN1cnJ5JykudGV4dCh0ZXh0KTtcclxuICAgICAgICAgICAgJCgnLnNldC1zdHJhdGVneSAuc3RyYXRlZ3ktY3VycnkgLmN1cnJ5JykudGV4dCh0ZXh0KTtcclxuICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KHRleHQpO1xyXG5cclxuICAgICAgICAgICAgJCgnLnNldC1zdHJhdGVneS10aXRsZSAuc3RyYXRlZ3ktcGFyYW1ldGVycy10b3AgLnVzZXInKS50ZXh0KHBhcmFtZXRlcnNjb250cm9sKVxyXG5cclxuICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zZXQtc3RyYXRlZ3ktdGl0bGUgLnJlc2lzdGFuY2UnKS50ZXh0KHJlc2lzdGFuY2V2YWx1ZSlcclxuICAgICAgICAgICAgJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zZXQtc3RyYXRlZ3ktdGl0bGUgLnN1cHBvcnQtbGV2ZWwnKS50ZXh0KHN1cHBvcnQpXHJcbiAgICAgICAgICAgICQoJy5zZXQtcmlzay1zdHJhdGVneSAuc2V0LXN0cmF0ZWd5LXRpdGxlIC5naXJkaW5nLW51bScpLnRleHQoZ3JpZG51bWJlcilcclxuXHJcbiAgICAgICAgICAgIC8vICQoJy50cmFkaW5nLXN0cmF0ZWd5IC5zdHJhdGVneS1jdXJyeSAuY3VycnkxJykudGV4dChtYXJrZXR0aXRsZSlcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHJhdGVneXRpdGxlID0gJ+e9keagvOS6pOaYk3YxLjAnXHJcbiAgICAgICAgICAgICQoJy5zdHJhdGVneS1uYW1lIC5zdHJhdGVneS1idXR0b24gYnV0dG9uJykudW5iaW5kKCk7XHJcbiAgICAgICAgICAgICQoJy5zdHJhdGVneS1uYW1lIC5zdHJhdGVneS1idXR0b24gYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyYXRlZ3l0aXRsZSA9ICQodGhpcykudGV4dCgpOy8v5Lqk5piT562W55WlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdHJhdGVneXRpdGxlKTtcclxuICAgICAgICAgICAgICAgICQoJy5zZXQtc3RyYXRlZ3kgLnN0cmF0ZWd5LXRpdGxlIC5zdHJhdGVneScpLnRleHQoc3RyYXRlZ3l0aXRsZSlcclxuICAgICAgICAgICAgICAgICQoJy5zZXQtcmlzay1zdHJhdGVneSAuc3RyYXRlZ3ktdGl0bGUgLmN1cnJ5JykudGV4dChzdHJhdGVneXRpdGxlKVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgaWYgKG51bSA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjYnRuTmV4dCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJyNidG5Db21wbGV0ZScpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIG51bSA9IDM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBudW0rKztcclxuICAgICAgICAgICAgICAgICQoJyNidG5OZXh0JykudGV4dCgn5LiL5LiA5q2lJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+i3s+i9rOWIsOS4i+S4gOS4quatpemqpFxyXG5cclxuICAgICAgICAgICAgJChcIi55c3RlcFwiKS5uZXh0U3RlcCgpO1xyXG4gICAgICAgICAgICAkLmVhY2gocm9ib3REYXRhQXJyYXksIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtID09PSBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zaG93KClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy53YXJuaW5ndXNlciBsYWJlbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYnRuLXN1Y2Nlc3MnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG4vKipcclxuICog5YWz6Zet5py65Zmo5Lq65by55Ye65qGGXHJcbiAqL1xyXG5Sb2JvdC5wcm90b3R5cGUubGlzdGVuQ2xvc2VSb2JvdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNsb3NlQnRuID0gJCgnLmNsb3NlLWJ0bicpO1xyXG4gICAgdmFyIHJvYm90V3JhcHBlciA9ICQoJy5yb2JvdC13cmFwcGVyJyk7XHJcbiAgICBjbG9zZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcm9ib3RXcmFwcGVyLmhpZGUoKTtcclxuXHJcbiAgICB9KVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIOacuuWZqOS6uuS6pOaYk+ivpuaDhVxyXG4gKi9cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlbkNyZWF0VHJhZGluZ0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnJvYm90LWRldGFpbHMnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLnRyYWRpbmdQYXJ0aWN1bGFycycpLnNob3coKTtcclxuICAgICAgICAkKCcudHJhZGluZ1NoYWRlJykuc2hvdygpO1xyXG4gICAgICAgIHZhciBjdXJyZW50YnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50YnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciByb2JvdF9pZCA9IHRyLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhyb2JvdF9pZClcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9kZWFsL3Nob3d0cmFkZWRldGFpbC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdyb2JvdF9pZCc6IHJvYm90X2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvYm90ID0gcmVzdWx0WydkYXRhJ11cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcblJvYm90LnByb3RvdHlwZS5saXN0ZW5UcmFkaW5nUm9ib3RFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0cmFkaW5nY2xvc2VidG4gPSAkKCcudHJhZGluZy1jbG9zZS1idG4nKTtcclxuICAgIHZhciB0cmFkaW5nUGFydGljdWxhcnMgPSAkKCcudHJhZGluZ1BhcnRpY3VsYXJzJyk7XHJcbiAgICB2YXIgdHJhZGluZ1NoYWRlID0gJCgnLnRyYWRpbmdTaGFkZScpXHJcbiAgICB2YXIgdHJhZGluZ2xvYWRpbmcgPSAkKCcudHJhZGluZy1sb2FkaW5nJylcclxuICAgIHZhciB0cmFkaW5nZW5kaW5nID0gJCgnLnRyYWRpbmctZW5kaW5nJylcclxuICAgIHZhciB0cmFkaW5nY29udGFpbmVyID0gJCgnLnRyYWRpbmctY29udGFpbmVyJylcclxuICAgIHZhciB0cmFkaW5nZW5kaW5ndGFibGUgPSAkKCcudHJhZGluZy1lbmRpbmctdGFibGUnKVxyXG4gICAgdHJhZGluZ2Nsb3NlYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0cmFkaW5nUGFydGljdWxhcnMuaGlkZSgpO1xyXG4gICAgICAgIHRyYWRpbmdTaGFkZS5oaWRlKCk7XHJcbiAgICB9KVxyXG4gICAgdHJhZGluZ2VuZGluZy5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHRyYWRpbmdjb250YWluZXIuaGlkZSgpO1xyXG4gICAgICAgIHRyYWRpbmdlbmRpbmd0YWJsZS5zaG93KCk7XHJcbiAgICAgICAgdHJhZGluZ2xvYWRpbmcudG9nZ2xlQ2xhc3MoJ2dyZWVuJylcclxuICAgICAgICB0cmFkaW5nZW5kaW5nLnRvZ2dsZUNsYXNzKCdncmVlbicpXHJcblxyXG4gICAgfSlcclxuICAgIHRyYWRpbmdsb2FkaW5nLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0cmFkaW5nY29udGFpbmVyLnNob3coKTtcclxuICAgICAgICB0cmFkaW5nZW5kaW5ndGFibGUuaGlkZSgpO1xyXG4gICAgICAgIHRyYWRpbmdlbmRpbmcudG9nZ2xlQ2xhc3MoJ2dyZWVuJylcclxuICAgICAgICB0cmFkaW5nbG9hZGluZy50b2dnbGVDbGFzcygnZ3JlZW4nKVxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcblJvYm90LnByb3RvdHlwZS5saXN0ZW5wYXJhbWV0ZXJFdmVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHBhcmFtZXRlcmNvbmZpZ3VyYXRpb24gPSAkKCcucGFyYW1ldGVyLWNvbmZpZ3VyYXRpb24nKTtcclxuICAgIHZhciBwYXJhbWV0ZXJjbG9zZWJ0biA9ICQoJy5wYXJhbWV0ZXItY2xvc2UtYnRuJyk7XHJcbiAgICB2YXIgZGVsZXRlcHJvcGVydHkgPSAkKCcuYWxsb2NhdGlvbicpO1xyXG4gICAgdmFyIHRyYWRpbmdTaGFkZSA9ICQoJy50cmFkaW5nU2hhZGUnKVxyXG4gICAgZGVsZXRlcHJvcGVydHkuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHBhcmFtZXRlcmNvbmZpZ3VyYXRpb24uc2hvdygpO1xyXG4gICAgICAgIHRyYWRpbmdTaGFkZS5zaG93KCk7XHJcblxyXG4gICAgfSlcclxuICAgIHBhcmFtZXRlcmNsb3NlYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwYXJhbWV0ZXJjb25maWd1cmF0aW9uLmhpZGUoKTtcclxuICAgICAgICB0cmFkaW5nU2hhZGUuaGlkZSgpO1xyXG4gICAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOiOt+WPlui0puaIt+S/oeaBr1xyXG4gKi9cclxuUm9ib3QucHJvdG90eXBlLmdldEFjY291bnRJbmZvRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyB2YXIgcGFyYW50ZXJzR3JvdXAgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycycpXHJcbiAgICAvLyBpZCA9IHBhcmFudGVyc0dyb3VwLmZpbmQoXCJzZWxlY3RbJ25hbWU9J2FjY291bnQnXVwiKS52YWwoKVxyXG4gICAgY29uc29sZS5sb2coXCJzZnNmc2ZzZGZcIilcclxuICAgIC8vIGNvbnNvbGUubG9nKGlkKVxyXG4gICAgJCgnI3JvYm90LWFjY291bnQnKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwYXJhbnRlcnNHcm91cCA9ICQoJy5zZXQtc3RyYXRlZ3knKVxyXG4gICAgICAgIHZhciBjdXJyZW5jeSA9IHBhcmFudGVyc0dyb3VwLmZpbmQoJy5zdHJhdGVneS1jdXJyeSAuY3VycnknKS50ZXh0KClcclxuICAgICAgICB2YXIgc3RyciA9IGN1cnJlbmN5LnNwbGl0KCcvJylcclxuICAgICAgICB2YXIgY3VycnkgPSBzdHJyWzBdXHJcbiAgICAgICAgdmFyIG1hcmtldCA9IHN0cnJbMV1cclxuICAgICAgICB2YXIgaWQgPSAkKCcjcm9ib3QtYWNjb3VudCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikudmFsKClcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9kZWFsL2dldGFjY291bnRpbmZvLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ2N1cnJ5LXRpdGxlJzogY3VycnksXHJcbiAgICAgICAgICAgICAgICAnbWFya2V0LXRpdGxlJzogbWFya2V0LFxyXG4gICAgICAgICAgICAgICAgJ2FjY291bnRfaWQnOiBpZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzdWx0WydkYXRhJ11cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNpc3RhbmNlID0gZGF0YVsncmVzaXN0YW5jZSddXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1cHBvcnRfbGV2ZWwgPSBkYXRhWydzdXBwb3J0X2xldmVsJ11cclxuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtID0gJCgnI3N0cmF0ZXJ5LWdpcmRpbmctbnVtICcpLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyZWUgPSAkKCcjb25lLWdpcmRpbmctZnJlZScpLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdpcmRpbmcgPSAocmVzaXN0YW5jZSAtIHN1cHBvcnRfbGV2ZWwpIC8gbnVtXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1peF9wcm9maXQgPSAoZ2lyZGluZyAtIChyZXNpc3RhbmNlICogMiArIGdpcmRpbmcpICogZnJlZSkgLyByZXNpc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heF9wcmljZSA9IChnaXJkaW5nIC0gKHN1cHBvcnRfbGV2ZWwgKiAyICsgZ2lyZGluZykgKiBmcmVlKSAvIHN1cHBvcnRfbGV2ZWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZml0ID0gbWl4X3Byb2ZpdCArICclJyArICctJyArIG1heF9wcmljZSArICclJ1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5yZXNpc3RhbmNlLXZhbHVlJykudmFsKHJlc2lzdGFuY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnN1cHBvcnQtdmFsdWUnKS52YWwoc3VwcG9ydF9sZXZlbClcclxuICAgICAgICAgICAgICAgICAgICAkKCcucHJvZml0LXZhbHVlJykudGV4dChwcm9maXQpXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0cmF0ZXJ5LWdpcmRpbmctbnVtJykub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJCgnI3N0cmF0ZXJ5LWdpcmRpbmctbnVtJykudmFsKCkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSAkKCcjc3RyYXRlcnktZ2lyZGluZy1udW0gJykudmFsKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmVlID0gJCgnI29uZS1naXJkaW5nLWZyZWUnKS52YWwoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdpcmRpbmcgPSAocmVzaXN0YW5jZSAtIHN1cHBvcnRfbGV2ZWwpIC8gbnVtICAgICAvL+WNlee9keagvD3vvIjpmLvlipvkvY3ku7fmoLwt5pSv5pKR5L2N5Lu35qC877yJL+e9keagvOaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1peF9wcm9maXQgPSAoZ2lyZGluZyAtIChyZXNpc3RhbmNlICogMiArIGdpcmRpbmcpICogZnJlZSkgLyByZXNpc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X3ByaWNlID0gKGdpcmRpbmcgLSAoc3VwcG9ydF9sZXZlbCAqIDIgKyBnaXJkaW5nKSAqIGZyZWUpIC8gc3VwcG9ydF9sZXZlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2ZpdCA9IG1peF9wcm9maXQgKyAnJScgKyAnLScgKyBtYXhfcHJpY2UgICsgJyUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcucHJvZml0LXZhbHVlJykudGV4dChwcm9maXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKCcjb25lLWdpcmRpbmctZnJlZScpLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQoJyNvbmUtZ2lyZGluZy1mcmVlJykudmFsKCkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSAkKCcjc3RyYXRlcnktZ2lyZGluZy1udW0gJykudmFsKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmVlID0gJCgnI29uZS1naXJkaW5nLWZyZWUnKS52YWwoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdpcmRpbmcgPSAocmVzaXN0YW5jZSAtIHN1cHBvcnRfbGV2ZWwpIC8gbnVtICAgICAvL+WNlee9keagvD3vvIjpmLvlipvkvY3ku7fmoLwt5pSv5pKR5L2N5Lu35qC877yJL+e9keagvOaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1peF9wcm9maXQgPSAoZ2lyZGluZyAtIChyZXNpc3RhbmNlICogMiArIGdpcmRpbmcpICogZnJlZSkgLyByZXNpc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X3ByaWNlID0gKGdpcmRpbmcgLSAoc3VwcG9ydF9sZXZlbCAqIDIgKyBnaXJkaW5nKSAqIGZyZWUpIC8gc3VwcG9ydF9sZXZlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2ZpdCA9IG1peF9wcm9maXQgKyAnJScgKyAnLScgKyBtYXhfcHJpY2UgICsgJyUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcucHJvZml0LXZhbHVlJykudGV4dChwcm9maXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjc2V0LWN1cnJlblByaWNlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlcmpsXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmljZSA9ICQoJyNzZXQtcHJpY2UnKS52YWwoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwcmljZSA9PSBudWxsKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmljZSA9ICQoJyNzZXQtcHJpY2UnKS52YWwoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnByaWNlJykudGV4dChwcmljZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pXHJcblxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIOeCueWHu+S6pOaYk+etlueVpeWIh+aNolxyXG4gKi9cclxuUm9ib3QucHJvdG90eXBlLmxpc3RlbkNsaWNrU3RyYWdlcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJ0bkxpc3QgPSAkKCcuZGVhbC1zdHJhdGVneScpXHJcbiAgICBidG5MaXN0LmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGJ0biA9ICQoZWxlbWVudClcclxuICAgICAgICBidG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBidG4uYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmnLrlmajkurrmj5DkuqRcclxuICovXHJcblJvYm90LnByb3RvdHlwZS5saXN0ZW5TdWJtaXRSb2JvdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBidG5Db21wbGV0ZSA9ICQoJyNidG5Db21wbGV0ZSAnKVxyXG4gICAgLy/ojrflj5bkuqTmmJPlr7nmlbDmja5cclxuICAgIGJ0bkNvbXBsZXRlLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImRhZmFzZGZcIilcclxuICAgICAgICB2YXIgcm9ib3RHcm91cCA9ICQoJy5zZXQtcmlzay1zdHJhdGVneScpXHJcbiAgICAgICAgdmFyIGN1cnJ5ID0gcm9ib3RHcm91cC5maW5kKCcuc3RyYXRlZ3ktY3VycnkgLmN1cnJ5JykudGV4dCgpICAgICAgICAvL+S6pOaYk+WvuVxyXG4gICAgICAgIHZhciBzdHJyID0gY3Vycnkuc3BsaXQoJy8nKVxyXG4gICAgICAgIHZhciBjdXJyZW55ID0gc3RyclswXVxyXG4gICAgICAgIHZhciBtYXJrZXQgPSBzdHJyWzFdXHJcbiAgICAgICAgY29uc29sZS5sb2coJ+S6pOaYk+W4geenjScsY3VycmVueSlcclxuICAgICAgICBjb25zb2xlLmxvZygn5Lqk5piT5biC5Zy6JyxtYXJrZXQpXHJcbiAgICAgICAgLy8gdmFyIGFjY291bnQgPSByb2JvdEdyb3VwLmZpbmQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzLXRvcCAudXNlclwiJykudGV4dCgpIC8v5Lqk5piT6LSm5oi3XHJcbiAgICAgICAgdmFyIHN0cmF0ZWd5ID0gJCgnLnNldC1yaXNrLXN0cmF0ZWd5IC5zdHJhdGVneS10aXRsZSAuY3VycnknKS50ZXh0KClcclxuICAgICAgICBjb25zb2xlLmxvZyhzdHJhdGVneSkvL+S6pOaYk+etlueVpVxyXG4gICAgICAgIHZhciBhY2NvdW50ID0gJCgnI3JvYm90LWFjY291bnQnKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLnZhbCgpXHJcbiAgICAgICAgdmFyIHJlc2lzdGFuY2UgPSAkKCcuc3RyYXRlZ3ktcGFyYW1ldGVycy10b3AgLnJlc2lzdGFuY2UnKS50ZXh0KCkvL+mYu+WKm+S9jVxyXG4gICAgICAgIHZhciBzdXBwb3J0ID0gJCgnLnN0cmF0ZWd5LXBhcmFtZXRlcnMtdG9wIC5zdXBwb3J0LWxldmVsJykudGV4dCgpXHJcbiAgICAgICAgdmFyIGdpcmRpbmdfbnVtID0gJCgnLnN0cmF0ZWd5LXBhcmFtZXRlcnMtdG9wIC5naXJkaW5nLW51bScpLnRleHQoKVxyXG4gICAgICAgIHZhciBjdXJyZW5fcHJpY2UgPSAkKCcuY3VycmVudC1wcmljZSAucHJpY2UnKS50ZXh0KClcclxuICAgICAgICB2YXIgbWlsbGlzZWNvbmQgPSAkKCcubWlsbGlzZWNvbmQtdmFsdWUnKS50ZXh0KClcclxuICAgICAgICB2YXIgbWl4X251bSA9ICQoJy5taXgtbnVtYmVyIC52YWx1ZSAnKS50ZXh0KClcclxuICAgICAgICB2YXIgbWF4X251bSA9ICQoJy5tYXgtbnVtYmVyIC52YWx1ZSAnKS50ZXh0KClcclxuICAgICAgICBjb25zb2xlLmxvZygn5b2T5YmN5Lu3OicsY3VycmVuX3ByaWNlLCfmr6vnp5I6JyxtaWxsaXNlY29uZCwn5pyA5bCP5pWw6YePOicsbWl4X251bSwn5pyA5aSn5pWw6YePJyxtYXhfbnVtKVxyXG5cclxuICAgICAgICB2YXIgZnJlZSA9ICQoJy5zdHJhdGVneS1wYXJhbWV0ZXJzLWJlbG93IC5kZWFsLWFjY291bnQnKS50ZXh0KCkgIC8v5Lqk5piT5omL57ut6LS5XHJcbiAgICAgICAgdmFyIGdpcmRpbmdfcHJvZml0ID0gJCgnLnN0cmF0ZWd5LXBhcmFtZXRlcnMtYmVsb3cgLnJlc2lzdGFuY2UnKS50ZXh0KCkgIC8v5Y2V572R5qC85Yip5ramXHJcbiAgICAgICAgdmFyIHN0b3Bsb3NzID0gJCgnLnN0b3BMb3NzIC5sb3NzJykudGV4dCgpXHJcbiAgICAgICAgdmFyIHdhcmluZyA9ICQoJy53YXJuaW5nIC52YWx1ZScpLnRleHQoKVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygn5q2i5o2f5Lu3JyxzdG9wbG9zcyx3YXJpbmcpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ+etlueVpe+8micsc3RyYXRlZ3ksICfotKbmiLfvvJonLGFjY291bnQsJ+mYu+WKm+S9jTonLCByZXNpc3RhbmNlLCAn5pSv5pKR5L2NOicsc3VwcG9ydCwgJ+e9keagvOaVsOmHjzonLGdpcmRpbmdfbnVtLCAn5Lqk5piT5omL57ut6LS5JyxmcmVlLCAn572R5qC85Yip5ramJyxnaXJkaW5nX3Byb2ZpdClcclxuXHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6Jy9kZWFsL2NyZWF0ZXJvYm90LycsXHJcbiAgICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICAndHJhZGluZ19hY2NvdW50JzphY2NvdW50LFxyXG4gICAgICAgICAgICAgICAgJ2N1cnJlbmN5JzpjdXJyZW55LFxyXG4gICAgICAgICAgICAgICAgJ21hcmtldCc6bWFya2V0LFxyXG4gICAgICAgICAgICAgICAgJ3RyYWRpbmdfc3RyYXRlZ3knOnN0cmF0ZWd5LFxyXG4gICAgICAgICAgICAgICAgJ3RvdGFsX21vbmV5JzonJyxcclxuICAgICAgICAgICAgICAgICdmbG9hdF9wcm9maXQnOicnLFxyXG4gICAgICAgICAgICAgICAgJ3JlYWxpemVkX3Byb2ZpdCc6JycsXHJcbiAgICAgICAgICAgICAgICAndG90YWxfcHJvZml0JzonJyxcclxuICAgICAgICAgICAgICAgICdhbm51YWxfeWllbGQnOicnLFxyXG4gICAgICAgICAgICAgICAgJ3Byb3RlY3Rpb24nOjEsXHJcbiAgICAgICAgICAgICAgICAnc3RhdHVzJzoxLFxyXG4gICAgICAgICAgICAgICAgJ2N1cnJlbnRfcHJpY2UnOmN1cnJlbl9wcmljZSxcclxuICAgICAgICAgICAgICAgICdvcmRlcnNfZnJlcXVlbmN5JzoyMixcclxuICAgICAgICAgICAgICAgICdyZXNpc3RhbmNlJzpyZXNpc3RhbmNlLFxyXG4gICAgICAgICAgICAgICAgJ3N1cHBvcnRfbGV2ZWwnOnN1cHBvcnQsXHJcbiAgICAgICAgICAgICAgICAnZ2lyZGluZ19udW0nOjI1LFxyXG4gICAgICAgICAgICAgICAgJ3Byb2N1ZGVyZV9mZWUnOmZyZWUsXHJcbiAgICAgICAgICAgICAgICAnbWluX251bSc6MjMsXHJcbiAgICAgICAgICAgICAgICAnbWF4X251bSc6MjM0LFxyXG4gICAgICAgICAgICAgICAgJ2dpcmRpbmdfcHJvZml0JzpnaXJkaW5nX3Byb2ZpdCxcclxuICAgICAgICAgICAgICAgICdzdG9wX3ByaWNlJzpcIjIzNDIzXCIsXHJcbiAgICAgICAgICAgICAgICAnd2FybmluZ19wcmljZSc6XCI2NTQ2NVwiLFxyXG4gICAgICAgICAgICAgICAgJ3dhcm5pbmdfYWNjb3VudCc6JzQ1NDUnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pXHJcblxyXG59XHJcblxyXG4vKipcclxuICog5py65Zmo5Lq66L+Q6KGMXHJcbiAqL1xyXG5Sb2JvdC5wcm90b3R5cGUucnVuUm9ib3RFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciByb2JvdEJudCA9ICQoJyNydW4tcm9ib3QnKVxyXG4gICAgcm9ib3RCbnQuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50YnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50YnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciByb2JvdCA9IHRyLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICB2YXIgcm9ib3RfaWQgPSBbXVxyXG4gICAgICAgIHJvYm90X2lkLnB1c2gocm9ib3QpXHJcbiAgICAgICAgY29uc29sZS5sb2cocm9ib3RfaWQpXHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvZGVhbC9zdGFydHJvYm90LycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3JvYm90X2lkJzogcm9ib3RfaWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRyYWRpdGlvbmFsOiB0cnVlLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG59O1xyXG5cclxuLyoqXHJcbiAqIOacuuWZqOS6uui/kOihjHznpoHmraLkv53miqTop6PpmaRcclxuICovXHJcblJvYm90LnByb3RvdHlwZS5wcm90ZWN0UmVsaWV2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5wcm90ZWN0LXJlbGlldmUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZsYWcgPSAkKHRoaXMpLnRleHQoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGZsYWcpXHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSAkKHRoaXMpLnNpYmxpbmdzKClcclxuICAgICAgICB2YXIgcnVuZmxnID0gJChlbGVtZW50WzBdKS50ZXh0KClcclxuICAgICAgICBpZiAocnVuZmxnID09PSAn6L+Q6KGMJyB8fCBydW5mbGcgPT09ICfov5DooYwo5L+d5oqkKScpIHtcclxuICAgICAgICAgICAgdmFyIGZsZ190ZXh0ID0gJ+i/kOihjCdcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJ1bmZsZyA9PT0gJ+WBnOatoicgfHwgcnVuZmxnID09PSAn5YGc5q2iKOS/neaKpCknKSB7XHJcbiAgICAgICAgICAgIHZhciBmbGdfdGV4dCA9ICflgZzmraInXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmbGFnID09PSAn5L+d5oqkJykge1xyXG4gICAgICAgICAgICB2YXIgbmV3X3ZhbHVlID0gcnVuZmxnICsgJygnICsgZmxhZyArICcpJ1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhuZXdfdmFsdWUpXHJcbiAgICAgICAgICAgICQoZWxlbWVudFswXSkudGV4dChuZXdfdmFsdWUpXHJcbiAgICAgICAgICAgICQodGhpcykudGV4dCgn6Kej6ZmkJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKGVsZW1lbnRbMF0pLnRleHQoZmxnX3RleHQpXHJcbiAgICAgICAgICAgICQodGhpcykudGV4dCgn5L+d5oqkJylcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcm9ib3QgPSBuZXcgUm9ib3QoKTtcclxuICAgIHJvYm90LnJ1bigpO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==
