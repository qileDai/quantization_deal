function Auth(){var e=this;e.maskWrapper=$(".mask-wrapper"),e.roleWrapper=$(".role-wrapper"),e.menuWwrapper=$(".menu-wrapper"),e.permissionWrapper=$(".permission-wrapper")}function User(){}Auth.prototype.run=function(){var e=this;e.listenUserShowHideEvent(),e.listMenuShowHideEvent(),e.listRoleShowHideEvent(),e.listCancelEvent(),e.listtenPermissionShowEvent()},Auth.prototype.showUserEvent=function(){this.maskWrapper.show()},Auth.prototype.showRoleEvent=function(){this.roleWrapper.show()},Auth.prototype.showPermissionEvent=function(){this.permissionWrapper.show()},Auth.prototype.showMenuEvent=function(){this.menuWwrapper.show(),this.roleWrapper.show()},Auth.prototype.hideEvent=function(){var e=this;e.maskWrapper.hide(),e.roleWrapper.hide(),e.menuWwrapper.hide(),e.permissionWrapper.hide()},Auth.prototype.listRoleShowHideEvent=function(){var e=this,t=$("#role-add-btn"),n=$(".close-btn");t.click(function(){e.showRoleEvent()}),n.click(function(){e.hideEvent()})},Auth.prototype.listCancelEvent=function(){var e=this;$("#cacle").click(function(){e.hideEvent()})},Auth.prototype.listMenuShowHideEvent=function(){var e=this,t=$("#menu-add-btn"),n=$(".close-btn");t.click(function(){e.showMenuEvent()}),n.click(function(){e.hideEvent()})},Auth.prototype.listenUserShowHideEvent=function(){var e=this,t=$("#user-add-btn"),n=$(".close-btn");t.click(function(){console.log("dddd"),e.showUserEvent()}),n.click(function(){e.hideEvent()})},Auth.prototype.listtenPermissionShowEvent=function(){var e=this,t=$("#permission-add-btn"),n=$(".close-btn");t.click(function(){e.showPermissionEvent()}),n.click(function(){e.hideEvent()})},$(function(){(new Auth).run()}),User.prototype.run=function(){this.listRoleSubmitEvent(),this.listenDeleteRolesEvent()},User.prototype.listRoleSubmitEvent=function(){roleGroup=$(".role-modal-body "),$("#role-confirm").click(function(){rolename=roleGroup.find("input[name='rolename']").val(),permission=roleGroup.find("select[name='permission']").val(),console.log(rolename,permission),xfzajax.post({url:"/rbac/add_roles/",data:{rolename:rolename,permission:permission},success:function(e){200===e.code&&(console.log("sdf"),xfzalert.alertSuccess("添加角色成功",function(){window.location.reload()}))}})})},User.prototype.listenDeleteRolesEvent=function(){$(".delete-roles-btn").on("click",function(){var e=$(this).parent().parent().attr("data-role-id");console.log(e),xfzalert.alertConfirm({title:"您确定要删除这个角色吗",confirmCallback:function(){xfzajax.post({url:"/rbac/delete_roles/",data:{pk:e},success:function(e){200===e.code&&window.location.reload()}})}})})},$(function(){(new User).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyb250X2Jhc2UuanMiXSwibmFtZXMiOlsiQXV0aCIsInNlbGYiLCJ0aGlzIiwibWFza1dyYXBwZXIiLCIkIiwicm9sZVdyYXBwZXIiLCJtZW51V3dyYXBwZXIiLCJwZXJtaXNzaW9uV3JhcHBlciIsIlVzZXIiLCJwcm90b3R5cGUiLCJydW4iLCJsaXN0ZW5Vc2VyU2hvd0hpZGVFdmVudCIsImxpc3RNZW51U2hvd0hpZGVFdmVudCIsImxpc3RSb2xlU2hvd0hpZGVFdmVudCIsImxpc3RDYW5jZWxFdmVudCIsImxpc3R0ZW5QZXJtaXNzaW9uU2hvd0V2ZW50Iiwic2hvd1VzZXJFdmVudCIsInNob3ciLCJzaG93Um9sZUV2ZW50Iiwic2hvd1Blcm1pc3Npb25FdmVudCIsInNob3dNZW51RXZlbnQiLCJoaWRlRXZlbnQiLCJoaWRlIiwicm9sZUJ0biIsImNsb3NlQnRuIiwiY2xpY2siLCJtZW51QnRuIiwiYWRkQnRuIiwiY29uc29sZSIsImxvZyIsInBlcm1pc3Npb25CdG4iLCJsaXN0Um9sZVN1Ym1pdEV2ZW50IiwibGlzdGVuRGVsZXRlUm9sZXNFdmVudCIsInJvbGVHcm91cCIsInJvbGVuYW1lIiwiZmluZCIsInZhbCIsInBlcm1pc3Npb24iLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIm9uIiwicGsiLCJwYXJlbnQiLCJhdHRyIiwiYWxlcnRDb25maXJtIiwidGl0bGUiLCJjb25maXJtQ2FsbGJhY2siXSwibWFwcGluZ3MiOiJBQU1BLFNBQVNBLE9BQ0wsSUFBSUMsRUFBT0MsS0FDWEQsRUFBS0UsWUFBY0MsRUFBRSxpQkFDckJILEVBQUtJLFlBQWNELEVBQUUsaUJBQ3JCSCxFQUFLSyxhQUFlRixFQUFFLGlCQUN0QkgsRUFBS00sa0JBQW9CSCxFQUFFLHVCQXVHL0IsU0FBU0ksUUFwR1RSLEtBQUtTLFVBQVVDLElBQU0sV0FDakIsSUFBSVQsRUFBT0MsS0FFWEQsRUFBS1UsMEJBQ0xWLEVBQUtXLHdCQUNMWCxFQUFLWSx3QkFDTFosRUFBS2Esa0JBQ0xiLEVBQUtjLDhCQUlUZixLQUFLUyxVQUFVTyxjQUFnQixXQUNoQmQsS0FDTkMsWUFBWWMsUUFFckJqQixLQUFLUyxVQUFVUyxjQUFnQixXQUNoQmhCLEtBQ05HLFlBQVlZLFFBRXJCakIsS0FBS1MsVUFBVVUsb0JBQXNCLFdBQ3RCakIsS0FDTkssa0JBQWtCVSxRQUczQmpCLEtBQUtTLFVBQVVXLGNBQWdCLFdBQ2hCbEIsS0FDTkksYUFBYVcsT0FEUGYsS0FFTkcsWUFBWVksUUFJckJqQixLQUFLUyxVQUFVWSxVQUFZLFdBQ3ZCLElBQUlwQixFQUFPQyxLQUNYRCxFQUFLRSxZQUFZbUIsT0FDakJyQixFQUFLSSxZQUFZaUIsT0FDakJyQixFQUFLSyxhQUFhZ0IsT0FDbEJyQixFQUFLTSxrQkFBa0JlLFFBRTNCdEIsS0FBS1MsVUFBVUksc0JBQXdCLFdBQ25DLElBQUlaLEVBQU9DLEtBQ1BxQixFQUFVbkIsRUFBRSxpQkFDWm9CLEVBQVdwQixFQUFFLGNBQ2pCbUIsRUFBUUUsTUFBTSxXQUNWeEIsRUFBS2lCLGtCQUVUTSxFQUFTQyxNQUFNLFdBQ1h4QixFQUFLb0IsZUFJYnJCLEtBQUtTLFVBQVVLLGdCQUFrQixXQUM3QixJQUFJYixFQUFPQyxLQUNLRSxFQUFFLFVBQ1JxQixNQUFNLFdBQ1p4QixFQUFLb0IsZUFHYnJCLEtBQUtTLFVBQVVHLHNCQUF3QixXQUNuQyxJQUFJWCxFQUFPQyxLQUNQd0IsRUFBVXRCLEVBQUUsaUJBQ1pvQixFQUFXcEIsRUFBRSxjQUNqQnNCLEVBQVFELE1BQU0sV0FDVnhCLEVBQUttQixrQkFFVEksRUFBU0MsTUFBTSxXQUNYeEIsRUFBS29CLGVBR2JyQixLQUFLUyxVQUFVRSx3QkFBMEIsV0FDckMsSUFBSVYsRUFBT0MsS0FDUHlCLEVBQVN2QixFQUFFLGlCQUNYb0IsRUFBV3BCLEVBQUUsY0FFakJ1QixFQUFPRixNQUFNLFdBQ1RHLFFBQVFDLElBQUksUUFDWjVCLEVBQUtlLGtCQUVUUSxFQUFTQyxNQUFNLFdBQ1h4QixFQUFLb0IsZUFHYnJCLEtBQUtTLFVBQVVNLDJCQUE2QixXQUN4QyxJQUFJZCxFQUFPQyxLQUNQNEIsRUFBZ0IxQixFQUFFLHVCQUNsQm9CLEVBQVdwQixFQUFFLGNBQ2pCMEIsRUFBY0wsTUFBTSxXQUNoQnhCLEVBQUtrQix3QkFFVEssRUFBU0MsTUFBTSxXQUNYeEIsRUFBS29CLGVBS2JqQixFQUFFLFlBQ2EsSUFBSUosTUFDVlUsUUFRVEYsS0FBS0MsVUFBVUMsSUFBTSxXQUNOUixLQUNONkIsc0JBRE03QixLQUVOOEIsMEJBTVR4QixLQUFLQyxVQUFVc0Isb0JBQXNCLFdBQ2pDRSxVQUFZN0IsRUFBRSxxQkFDQUEsRUFBRSxpQkFFUnFCLE1BQU0sV0FDVlMsU0FBV0QsVUFBVUUsS0FBSywwQkFBMEJDLE1BQ3BEQyxXQUFhSixVQUFVRSxLQUFLLDZCQUE2QkMsTUFDekRSLFFBQVFDLElBQUlLLFNBQVVHLFlBRXRCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU8sbUJBQ1BDLEtBQVEsQ0FDSlAsU0FBWUEsU0FDWkcsV0FBY0EsWUFFbEJLLFFBQVcsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxPQUNiZixRQUFRQyxJQUFJLE9BQ1plLFNBQVNDLGFBQWEsU0FBVSxXQUM1QkMsT0FBT0MsU0FBU0Msa0JBUXhDeEMsS0FBS0MsVUFBVXVCLHVCQUF5QixXQUVwQzVCLEVBQUUscUJBQXFCNkMsR0FBRyxRQUFTLFdBQy9CLElBRUlDLEVBRmE5QyxFQUFFRixNQUNDaUQsU0FBU0EsU0FDakJDLEtBQUssZ0JBQ2pCeEIsUUFBUUMsSUFBSXFCLEdBQ1pOLFNBQVNTLGFBQWEsQ0FDbEJDLE1BQVMsY0FDVEMsZ0JBQW1CLFdBQ2ZqQixRQUFRQyxLQUFLLENBQ1RDLElBQU8sc0JBQ1BDLEtBQVEsQ0FDSlMsR0FBTUEsR0FFVlIsUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLE1BQ2JHLE9BQU9DLFNBQVNDLGtCQWdCNUM1QyxFQUFFLFlBQ2EsSUFBSUksTUFDVkUiLCJmaWxlIjoiZnJvbnRfYmFzZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBBZG1pbmlzdHJhdG9yIG9uIDIwMTkvMS8zLlxyXG4gKi9cclxuXHJcbi8qIOWkhOeQhueZu+W9lemXrumimCovXHJcblxyXG5mdW5jdGlvbiBBdXRoKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrV3JhcHBlciA9ICQoJy5tYXNrLXdyYXBwZXInKTtcclxuICAgIHNlbGYucm9sZVdyYXBwZXIgPSAkKCcucm9sZS13cmFwcGVyJyk7XHJcbiAgICBzZWxmLm1lbnVXd3JhcHBlciA9ICQoJy5tZW51LXdyYXBwZXInKTtcclxuICAgIHNlbGYucGVybWlzc2lvbldyYXBwZXIgPSAkKCcucGVybWlzc2lvbi13cmFwcGVyJylcclxufVxyXG5cclxuQXV0aC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gc2VsZi5saXN0ZW5TaG93SGlkZUV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblVzZXJTaG93SGlkZUV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RNZW51U2hvd0hpZGVFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0Um9sZVNob3dIaWRlRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdENhbmNlbEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3R0ZW5QZXJtaXNzaW9uU2hvd0V2ZW50KCk7XHJcbn07XHJcblxyXG5cclxuQXV0aC5wcm90b3R5cGUuc2hvd1VzZXJFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWFza1dyYXBwZXIuc2hvdygpO1xyXG59O1xyXG5BdXRoLnByb3RvdHlwZS5zaG93Um9sZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5yb2xlV3JhcHBlci5zaG93KCk7XHJcbn07XHJcbkF1dGgucHJvdG90eXBlLnNob3dQZXJtaXNzaW9uRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnBlcm1pc3Npb25XcmFwcGVyLnNob3coKTtcclxufVxyXG5cclxuQXV0aC5wcm90b3R5cGUuc2hvd01lbnVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWVudVd3cmFwcGVyLnNob3coKTtcclxuICAgIHNlbGYucm9sZVdyYXBwZXIuc2hvdygpO1xyXG59O1xyXG5cclxuXHJcbkF1dGgucHJvdG90eXBlLmhpZGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWFza1dyYXBwZXIuaGlkZSgpO1xyXG4gICAgc2VsZi5yb2xlV3JhcHBlci5oaWRlKCk7XHJcbiAgICBzZWxmLm1lbnVXd3JhcHBlci5oaWRlKCk7XHJcbiAgICBzZWxmLnBlcm1pc3Npb25XcmFwcGVyLmhpZGUoKTtcclxufTtcclxuQXV0aC5wcm90b3R5cGUubGlzdFJvbGVTaG93SGlkZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHJvbGVCdG4gPSAkKCcjcm9sZS1hZGQtYnRuJyk7XHJcbiAgICB2YXIgY2xvc2VCdG4gPSAkKCcuY2xvc2UtYnRuJyk7XHJcbiAgICByb2xlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNob3dSb2xlRXZlbnQoKTtcclxuICAgIH0pO1xyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuaGlkZUV2ZW50KCk7XHJcbiAgICB9KTtcclxuXHJcbn07XHJcbkF1dGgucHJvdG90eXBlLmxpc3RDYW5jZWxFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBjYW5jZWxCdG4gPSAkKCcjY2FjbGUnKTtcclxuICAgIGNhbmNlbEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5oaWRlRXZlbnQoKTtcclxuICAgIH0pXHJcbn1cclxuQXV0aC5wcm90b3R5cGUubGlzdE1lbnVTaG93SGlkZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIG1lbnVCdG4gPSAkKCcjbWVudS1hZGQtYnRuJyk7XHJcbiAgICB2YXIgY2xvc2VCdG4gPSAkKCcuY2xvc2UtYnRuJyk7XHJcbiAgICBtZW51QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNob3dNZW51RXZlbnQoKTtcclxuICAgIH0pO1xyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuaGlkZUV2ZW50KCk7XHJcbiAgICB9KTtcclxufVxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5Vc2VyU2hvd0hpZGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBhZGRCdG4gPSAkKCcjdXNlci1hZGQtYnRuJyk7XHJcbiAgICB2YXIgY2xvc2VCdG4gPSAkKCcuY2xvc2UtYnRuJyk7XHJcblxyXG4gICAgYWRkQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImRkZGRcIilcclxuICAgICAgICBzZWxmLnNob3dVc2VyRXZlbnQoKTtcclxuICAgIH0pO1xyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuaGlkZUV2ZW50KCk7XHJcbiAgICB9KTtcclxufTtcclxuQXV0aC5wcm90b3R5cGUubGlzdHRlblBlcm1pc3Npb25TaG93RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgcGVybWlzc2lvbkJ0biA9ICQoJyNwZXJtaXNzaW9uLWFkZC1idG4nKTtcclxuICAgIHZhciBjbG9zZUJ0biA9ICQoJy5jbG9zZS1idG4nKTtcclxuICAgIHBlcm1pc3Npb25CdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc2hvd1Blcm1pc3Npb25FdmVudCgpXHJcbiAgICB9KTtcclxuICAgIGNsb3NlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmhpZGVFdmVudCgpO1xyXG4gICAgfSk7XHJcblxyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYXV0aCA9IG5ldyBBdXRoKCk7XHJcbiAgICBhdXRoLnJ1bigpO1xyXG59KTtcclxuXHJcbi8q5aSE55CG55So5oi3Ki9cclxuZnVuY3Rpb24gVXNlcigpIHtcclxuXHJcbn07XHJcblxyXG5Vc2VyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RSb2xlU3VibWl0RXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuRGVsZXRlUm9sZXNFdmVudCgpO1xyXG4gO1xyXG59O1xyXG5cclxuXHJcblxyXG5Vc2VyLnByb3RvdHlwZS5saXN0Um9sZVN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcm9sZUdyb3VwID0gJCgnLnJvbGUtbW9kYWwtYm9keSAnKTtcclxuICAgIHZhciByb2xlQnRuID0gJCgnI3JvbGUtY29uZmlybScpO1xyXG5cclxuICAgIHJvbGVCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJvbGVuYW1lID0gcm9sZUdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdyb2xlbmFtZSddXCIpLnZhbCgpXHJcbiAgICAgICAgcGVybWlzc2lvbiA9IHJvbGVHcm91cC5maW5kKFwic2VsZWN0W25hbWU9J3Blcm1pc3Npb24nXVwiKS52YWwoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHJvbGVuYW1lLCBwZXJtaXNzaW9uKVxyXG5cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9yYmFjL2FkZF9yb2xlcy8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdyb2xlbmFtZSc6IHJvbGVuYW1lLFxyXG4gICAgICAgICAgICAgICAgJ3Blcm1pc3Npb24nOiBwZXJtaXNzaW9uXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNkZlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2VzcyhcIua3u+WKoOinkuiJsuaIkOWKn1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG5Vc2VyLnByb3RvdHlwZS5saXN0ZW5EZWxldGVSb2xlc0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgJCgnLmRlbGV0ZS1yb2xlcy1idG4nKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudGJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudGJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgcGsgPSB0ci5hdHRyKCdkYXRhLXJvbGUtaWQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhwaylcclxuICAgICAgICB4ZnphbGVydC5hbGVydENvbmZpcm0oe1xyXG4gICAgICAgICAgICAndGl0bGUnOiAn5oKo56Gu5a6a6KaB5Yig6Zmk6L+Z5Liq6KeS6Imy5ZCXJyxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvcmJhYy9kZWxldGVfcm9sZXMvJyxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BrJzogcGtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB1c2VyID0gbmV3IFVzZXIoKTtcclxuICAgIHVzZXIucnVuKCk7XHJcbn0pIl19
