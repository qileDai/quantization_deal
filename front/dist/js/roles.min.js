function Role(){}Role.prototype.run=function(){this.listenDeleteRolesEvent(),this.listRoleSubmitEvent()},Role.prototype.listenDeleteRolesEvent=function(){$(".delete-roles-btn").on("click",function(){var e=$(this).parent().parent().attr("data-role-id");console.log(e),xfzalert.alertConfirm({title:"您确定要删除这个角色吗",confirmCallback:function(){xfzajax.post({url:"/rbac/delete_roles/",data:{pk:e},success:function(e){200===e.code&&window.location.reload()}})}})})},Role.prototype.listRoleSubmitEvent=function(){roleGroup=$(".role-modal-body "),$("#role-confirm").click(function(){rolename=roleGroup.find("input[name='rolename']").val(),permission=roleGroup.find("select[name='permission']").val(),console.log(rolename,permission),xfzajax.post({url:"/rbac/add_roles/",data:{rolename:rolename,permission:permission},success:function(e){200===e.code&&(console.log("sdf"),xfzalert.alertSuccess("添加角色成功",function(){window.location.reload()}))}})})},$(function(){(new Role).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGVzLmpzIl0sIm5hbWVzIjpbIlJvbGUiLCJwcm90b3R5cGUiLCJydW4iLCJ0aGlzIiwibGlzdGVuRGVsZXRlUm9sZXNFdmVudCIsImxpc3RSb2xlU3VibWl0RXZlbnQiLCIkIiwib24iLCJwayIsInBhcmVudCIsImF0dHIiLCJjb25zb2xlIiwibG9nIiwieGZ6YWxlcnQiLCJhbGVydENvbmZpcm0iLCJ0aXRsZSIsImNvbmZpcm1DYWxsYmFjayIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsInJvbGVHcm91cCIsImNsaWNrIiwicm9sZW5hbWUiLCJmaW5kIiwidmFsIiwicGVybWlzc2lvbiIsImFsZXJ0U3VjY2VzcyJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsUUFJVEEsS0FBS0MsVUFBVUMsSUFBTSxXQUNOQyxLQUNOQyx5QkFETUQsS0FFTkUsdUJBSVRMLEtBQUtDLFVBQVVHLHVCQUF5QixXQUVwQ0UsRUFBRSxxQkFBcUJDLEdBQUcsUUFBUyxXQUMvQixJQUVJQyxFQUZhRixFQUFFSCxNQUNDTSxTQUFTQSxTQUNqQkMsS0FBSyxnQkFDakJDLFFBQVFDLElBQUlKLEdBQ1pLLFNBQVNDLGFBQWEsQ0FDbEJDLE1BQVMsY0FDVEMsZ0JBQW1CLFdBQ2ZDLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyxzQkFDUEMsS0FBUSxDQUNKWixHQUFNQSxHQUVWYSxRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYkMsT0FBT0MsU0FBU0Msa0JBUzVDekIsS0FBS0MsVUFBVUksb0JBQXNCLFdBQ2pDcUIsVUFBWXBCLEVBQUUscUJBQ0FBLEVBQUUsaUJBQ1JxQixNQUFNLFdBQ1ZDLFNBQVdGLFVBQVVHLEtBQUssMEJBQTBCQyxNQUNwREMsV0FBYUwsVUFBVUcsS0FBSyw2QkFBNkJDLE1BQ3pEbkIsUUFBUUMsSUFBSWdCLFNBQVVHLFlBRXRCZCxRQUFRQyxLQUFLLENBQ1RDLElBQU8sbUJBQ1BDLEtBQVEsQ0FDSlEsU0FBWUEsU0FDWkcsV0FBY0EsWUFFbEJWLFFBQVcsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxPQUNiWCxRQUFRQyxJQUFJLE9BQ1pDLFNBQVNtQixhQUFhLFNBQVUsV0FDNUJULE9BQU9DLFNBQVNDLGtCQVF4Q25CLEVBQUUsWUFDYSxJQUFJTixNQUNWRSIsImZpbGUiOiJyb2xlcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZnVuY3Rpb24gUm9sZSgpIHtcclxuXHJcbn07XHJcblxyXG5Sb2xlLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlbkRlbGV0ZVJvbGVzRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdFJvbGVTdWJtaXRFdmVudCgpO1xyXG5cclxufTtcclxuXHJcblJvbGUucHJvdG90eXBlLmxpc3RlbkRlbGV0ZVJvbGVzRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAkKCcuZGVsZXRlLXJvbGVzLWJ0bicpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50YnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50YnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciBwayA9IHRyLmF0dHIoJ2RhdGEtcm9sZS1pZCcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHBrKVxyXG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0Q29uZmlybSh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICfmgqjnoa7lrpropoHliKDpmaTov5nkuKrop5LoibLlkJcnLFxyXG4gICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAndXJsJzogJy9yYmFjL2RlbGV0ZV9yb2xlcy8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOiBwa1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbn1cclxuUm9sZS5wcm90b3R5cGUubGlzdFJvbGVTdWJtaXRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJvbGVHcm91cCA9ICQoJy5yb2xlLW1vZGFsLWJvZHkgJyk7XHJcbiAgICB2YXIgcm9sZUJ0biA9ICQoJyNyb2xlLWNvbmZpcm0nKTtcclxuICAgIHJvbGVCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJvbGVuYW1lID0gcm9sZUdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdyb2xlbmFtZSddXCIpLnZhbCgpXHJcbiAgICAgICAgcGVybWlzc2lvbiA9IHJvbGVHcm91cC5maW5kKFwic2VsZWN0W25hbWU9J3Blcm1pc3Npb24nXVwiKS52YWwoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHJvbGVuYW1lLCBwZXJtaXNzaW9uKVxyXG5cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9yYmFjL2FkZF9yb2xlcy8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdyb2xlbmFtZSc6IHJvbGVuYW1lLFxyXG4gICAgICAgICAgICAgICAgJ3Blcm1pc3Npb24nOiBwZXJtaXNzaW9uXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNkZlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2VzcyhcIua3u+WKoOinkuiJsuaIkOWKn1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciByb2xlID0gbmV3IFJvbGUoKTtcclxuICAgIHJvbGUucnVuKCk7XHJcbn0pIl19
