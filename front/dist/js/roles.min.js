function Role(){}Role.prototype.run=function(){var o=this;o.listenDeleteRolesEvent(),o.listRoleSubmitEvent(),o.listEditRole()},Role.prototype.listenDeleteRolesEvent=function(){$(".delete-roles-btn").on("click",function(){var o=$(this).parent().parent().attr("data-role-id");console.log(o),xfzalert.alertConfirm({title:"您确定要删除这个角色吗",confirmCallback:function(){xfzajax.post({url:"/rbac/delete_roles/",data:{pk:o},success:function(o){console.log(o),200===o.code&&window.location.reload()}})}})})},Role.prototype.listRoleSubmitEvent=function(){roleGroup=$(".role-modal-body "),$("#role-confirm").click(function(){rolename=roleGroup.find("input[name='rolename']").val(),permission=roleGroup.find("select[name='permission']").val(),console.log(permission),console.log(rolename,permission),xfzajax.post({url:"/rbac/add_roles/",data:{rolename:rolename,permissions:permission},success:function(o){console.log(o),200===o.code&&(console.log("sdf"),xfzalert.alertSuccess("添加角色成功",function(){window.location.reload()}))}})})},Role.prototype.listEditRole=function(){$(".role-edit").click(function(){$(".role-wrapper").show()})},$(function(){(new Role).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGVzLmpzIl0sIm5hbWVzIjpbIlJvbGUiLCJwcm90b3R5cGUiLCJydW4iLCJzZWxmIiwidGhpcyIsImxpc3RlbkRlbGV0ZVJvbGVzRXZlbnQiLCJsaXN0Um9sZVN1Ym1pdEV2ZW50IiwibGlzdEVkaXRSb2xlIiwiJCIsIm9uIiwicGsiLCJwYXJlbnQiLCJhdHRyIiwiY29uc29sZSIsImxvZyIsInhmemFsZXJ0IiwiYWxlcnRDb25maXJtIiwidGl0bGUiLCJjb25maXJtQ2FsbGJhY2siLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJyb2xlR3JvdXAiLCJjbGljayIsInJvbGVuYW1lIiwiZmluZCIsInZhbCIsInBlcm1pc3Npb24iLCJwZXJtaXNzaW9ucyIsImFsZXJ0U3VjY2VzcyIsInNob3ciXSwibWFwcGluZ3MiOiJBQUNBLFNBQVNBLFFBSVRBLEtBQUtDLFVBQVVDLElBQU0sV0FDakIsSUFBSUMsRUFBT0MsS0FDWEQsRUFBS0UseUJBQ0xGLEVBQUtHLHNCQUNMSCxFQUFLSSxnQkFJVFAsS0FBS0MsVUFBVUksdUJBQXlCLFdBRXBDRyxFQUFFLHFCQUFxQkMsR0FBRyxRQUFTLFdBQy9CLElBRUlDLEVBRmFGLEVBQUVKLE1BQ0NPLFNBQVNBLFNBQ2pCQyxLQUFLLGdCQUNqQkMsUUFBUUMsSUFBSUosR0FDWkssU0FBU0MsYUFBYSxDQUNsQkMsTUFBUyxjQUNUQyxnQkFBbUIsV0FDZkMsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLHNCQUNQQyxLQUFRLENBQ0paLEdBQU1BLEdBRVZhLFFBQVcsU0FBVUMsR0FDakJYLFFBQVFDLElBQUlVLEdBQ1csTUFBbkJBLEVBQWEsTUFDYkMsT0FBT0MsU0FBU0Msa0JBUzVDM0IsS0FBS0MsVUFBVUssb0JBQXNCLFdBQ2pDc0IsVUFBWXBCLEVBQUUscUJBQ0FBLEVBQUUsaUJBQ1JxQixNQUFNLFdBQ1ZDLFNBQVdGLFVBQVVHLEtBQUssMEJBQTBCQyxNQUNwREMsV0FBYUwsVUFBVUcsS0FBSyw2QkFBNkJDLE1BQ3pEbkIsUUFBUUMsSUFBSW1CLFlBQ1pwQixRQUFRQyxJQUFJZ0IsU0FBVUcsWUFDdEJkLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyxtQkFDUEMsS0FBUSxDQUNKUSxTQUFZQSxTQUNaSSxZQUFlRCxZQUVuQlYsUUFBVyxTQUFVQyxHQUNqQlgsUUFBUUMsSUFBSVUsR0FDVyxNQUFuQkEsRUFBYSxPQUNiWCxRQUFRQyxJQUFJLE9BQ1pDLFNBQVNvQixhQUFhLFNBQVUsV0FDNUJWLE9BQU9DLFNBQVNDLGtCQVF4QzNCLEtBQUtDLFVBQVVNLGFBQWUsV0FDMUJDLEVBQUUsY0FBY3FCLE1BQU0sV0FDbEJyQixFQUFFLGlCQUFpQjRCLFVBSzNCNUIsRUFBRSxZQUNhLElBQUlSLE1BQ1ZFIiwiZmlsZSI6InJvbGVzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5mdW5jdGlvbiBSb2xlKCkge1xyXG5cclxufTtcclxuXHJcblJvbGUucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGlzdGVuRGVsZXRlUm9sZXNFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0Um9sZVN1Ym1pdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RFZGl0Um9sZSgpO1xyXG5cclxufTtcclxuXHJcblJvbGUucHJvdG90eXBlLmxpc3RlbkRlbGV0ZVJvbGVzRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAkKCcuZGVsZXRlLXJvbGVzLWJ0bicpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50YnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50YnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciBwayA9IHRyLmF0dHIoJ2RhdGEtcm9sZS1pZCcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHBrKVxyXG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0Q29uZmlybSh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICfmgqjnoa7lrpropoHliKDpmaTov5nkuKrop5LoibLlkJcnLFxyXG4gICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAndXJsJzogJy9yYmFjL2RlbGV0ZV9yb2xlcy8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOiBwa1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxufVxyXG5Sb2xlLnByb3RvdHlwZS5saXN0Um9sZVN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcm9sZUdyb3VwID0gJCgnLnJvbGUtbW9kYWwtYm9keSAnKTtcclxuICAgIHZhciByb2xlQnRuID0gJCgnI3JvbGUtY29uZmlybScpO1xyXG4gICAgcm9sZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcm9sZW5hbWUgPSByb2xlR3JvdXAuZmluZChcImlucHV0W25hbWU9J3JvbGVuYW1lJ11cIikudmFsKClcclxuICAgICAgICBwZXJtaXNzaW9uID0gcm9sZUdyb3VwLmZpbmQoXCJzZWxlY3RbbmFtZT0ncGVybWlzc2lvbiddXCIpLnZhbCgpXHJcbiAgICAgICAgY29uc29sZS5sb2cocGVybWlzc2lvbilcclxuICAgICAgICBjb25zb2xlLmxvZyhyb2xlbmFtZSwgcGVybWlzc2lvbilcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9yYmFjL2FkZF9yb2xlcy8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdyb2xlbmFtZSc6IHJvbGVuYW1lLFxyXG4gICAgICAgICAgICAgICAgJ3Blcm1pc3Npb25zJzogcGVybWlzc2lvblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZGZcIilcclxuICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3MoXCLmt7vliqDop5LoibLmiJDlip9cIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuUm9sZS5wcm90b3R5cGUubGlzdEVkaXRSb2xlID0gZnVuY3Rpb24oKXtcclxuICAgICQoJy5yb2xlLWVkaXQnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLnJvbGUtd3JhcHBlcicpLnNob3coKVxyXG5cclxuICAgIH0pXHJcbn1cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHJvbGUgPSBuZXcgUm9sZSgpO1xyXG4gICAgcm9sZS5ydW4oKTtcclxufSkiXX0=
