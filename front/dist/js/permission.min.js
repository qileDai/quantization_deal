function Permission(){}Permission.prototype.run=function(){this.listenPermissionSubmitEvent()},Permission.prototype.listenPermissionSubmitEvent=function(){var i=$("#permission-confirm"),n=$(".permission-modal-body ");i.click(function(){title=n.find("input[name='permission']").val(),permissionUrl=n.find("input[name='url']").val(),menu=n.find("select[name='menu']").val(),console.log(title,permissionUrl,menu),xfzajax.post({url:"/rbac/add_permission/",data:{title:title,url:permissionUrl,menu:menu},success:function(i){200===i.code&&xfzalert.alertSuccess("添加权限成功",function(){window.location.reload()})}})})},$(function(){(new Permission).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcm1pc3Npb24uanMiXSwibmFtZXMiOlsiUGVybWlzc2lvbiIsInByb3RvdHlwZSIsInJ1biIsInRoaXMiLCJsaXN0ZW5QZXJtaXNzaW9uU3VibWl0RXZlbnQiLCJidG4iLCIkIiwicGVybWlzc2lvbkdyb3VwIiwiY2xpY2siLCJ0aXRsZSIsImZpbmQiLCJ2YWwiLCJwZXJtaXNzaW9uVXJsIiwibWVudSIsImNvbnNvbGUiLCJsb2ciLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsY0FJVEEsV0FBV0MsVUFBVUMsSUFBTSxXQUNaQyxLQUNOQywrQkFHVEosV0FBV0MsVUFBVUcsNEJBQThCLFdBQy9DLElBQUlDLEVBQU1DLEVBQUUsdUJBQ1JDLEVBQWtCRCxFQUFFLDJCQUN4QkQsRUFBSUcsTUFBTSxXQUNOQyxNQUFRRixFQUFnQkcsS0FBSyw0QkFBNEJDLE1BQ3pEQyxjQUFnQkwsRUFBZ0JHLEtBQUsscUJBQXFCQyxNQUMxREUsS0FBT04sRUFBZ0JHLEtBQUssdUJBQXVCQyxNQUNuREcsUUFBUUMsSUFBSU4sTUFBTUcsY0FBY0MsTUFDaENHLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyx3QkFDUEMsS0FBTyxDQUNIVixNQUFRQSxNQUNSUyxJQUFNTixjQUNOQyxLQUFPQSxNQUVYTyxRQUFVLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDWkMsU0FBU0MsYUFBYSxTQUFTLFdBQzFCQyxPQUFPQyxTQUFTQyxpQkFRekNwQixFQUFFLFlBQ21CLElBQUlOLFlBQ1ZFIiwiZmlsZSI6InBlcm1pc3Npb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmZ1bmN0aW9uIFBlcm1pc3Npb24oKSB7XHJcblxyXG59XHJcblxyXG5QZXJtaXNzaW9uLnByb3RvdHlwZS5ydW4gID1mdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlblBlcm1pc3Npb25TdWJtaXRFdmVudCgpO1xyXG5cclxufTtcclxuUGVybWlzc2lvbi5wcm90b3R5cGUubGlzdGVuUGVybWlzc2lvblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBidG4gPSAkKCcjcGVybWlzc2lvbi1jb25maXJtJylcclxuICAgIHZhciBwZXJtaXNzaW9uR3JvdXAgPSAkKCcucGVybWlzc2lvbi1tb2RhbC1ib2R5ICcpXHJcbiAgICBidG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRpdGxlID0gcGVybWlzc2lvbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdwZXJtaXNzaW9uJ11cIikudmFsKClcclxuICAgICAgICBwZXJtaXNzaW9uVXJsID0gcGVybWlzc2lvbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd1cmwnXVwiKS52YWwoKVxyXG4gICAgICAgIG1lbnUgPSBwZXJtaXNzaW9uR3JvdXAuZmluZChcInNlbGVjdFtuYW1lPSdtZW51J11cIikudmFsKClcclxuICAgICAgICBjb25zb2xlLmxvZyh0aXRsZSxwZXJtaXNzaW9uVXJsLG1lbnUpXHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvcmJhYy9hZGRfcGVybWlzc2lvbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICAgJ3RpdGxlJzp0aXRsZSxcclxuICAgICAgICAgICAgICAgICd1cmwnOnBlcm1pc3Npb25VcmwsXHJcbiAgICAgICAgICAgICAgICAnbWVudSc6bWVudVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzKFwi5re75Yqg5p2D6ZmQ5oiQ5YqfXCIsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwZXJtaXNzaW9uID0gbmV3IFBlcm1pc3Npb24oKTtcclxuICAgIHBlcm1pc3Npb24ucnVuKCk7XHJcbn0pIl19
