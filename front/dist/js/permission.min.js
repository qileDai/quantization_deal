function Permission(){}Permission.prototype.run=function(){var i=this;i.listenPermissionSubmitEvent(),i.listenPermissionDeleteEvent(),i.editPermission()},Permission.prototype.listenPermissionSubmitEvent=function(){var i=$("#permission-confirm"),n=$(".permission-modal-body ");i.click(function(){title=n.find("input[name='permission']").val(),permissionUrl=n.find("input[name='url']").val(),menu=n.find("select[name='menu']").val(),console.log(title,permissionUrl,menu),xfzajax.post({url:"/rbac/add_permission/",data:{title:title,url:permissionUrl,menu:menu},success:function(i){200===i.code&&xfzalert.alertSuccess("添加权限成功",function(){window.location.reload()})}})})},Permission.prototype.listenPermissionDeleteEvent=function(){$(".delete-PermissioneBtn").on("click",function(){var i=$(this).parent().parent().attr("data-permission-id");console.log(i),xfzalert.alertConfirm({title:"您确定要删除这个权限吗",confirmCallback:function(){xfzajax.post({url:"/rbac/delete_permission/",data:{pk:i},success:function(i){console.log(i),200===i.code&&(console.log("fsd"),window.location.reload())}})}})})},Permission.prototype.editPermission=function(){$("#edit-permission").click(function(){console.log("sfd"),$(".permission-wrapper").show();var i=$(this).parent().parent().attr("data-permission-id");console.log(i),xfzajax.post({url:"/rbac/edit_permission/",data:{permission_id:i},success:function(i){console.log(i)}})})},$(function(){(new Permission).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcm1pc3Npb24uanMiXSwibmFtZXMiOlsiUGVybWlzc2lvbiIsInByb3RvdHlwZSIsInJ1biIsInNlbGYiLCJ0aGlzIiwibGlzdGVuUGVybWlzc2lvblN1Ym1pdEV2ZW50IiwibGlzdGVuUGVybWlzc2lvbkRlbGV0ZUV2ZW50IiwiZWRpdFBlcm1pc3Npb24iLCJidG4iLCIkIiwicGVybWlzc2lvbkdyb3VwIiwiY2xpY2siLCJ0aXRsZSIsImZpbmQiLCJ2YWwiLCJwZXJtaXNzaW9uVXJsIiwibWVudSIsImNvbnNvbGUiLCJsb2ciLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIm9uIiwicGsiLCJwYXJlbnQiLCJhdHRyIiwiYWxlcnRDb25maXJtIiwiY29uZmlybUNhbGxiYWNrIiwic2hvdyIsInBlcm1pc3Npb25faWQiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGNBSVRBLFdBQVdDLFVBQVVDLElBQU0sV0FDdkIsSUFBSUMsRUFBT0MsS0FDWEQsRUFBS0UsOEJBQ0xGLEVBQUtHLDhCQUNMSCxFQUFLSSxrQkFHVFAsV0FBV0MsVUFBVUksNEJBQThCLFdBQy9DLElBQUlHLEVBQU1DLEVBQUUsdUJBQ1JDLEVBQWtCRCxFQUFFLDJCQUN4QkQsRUFBSUcsTUFBTSxXQUNOQyxNQUFRRixFQUFnQkcsS0FBSyw0QkFBNEJDLE1BQ3pEQyxjQUFnQkwsRUFBZ0JHLEtBQUsscUJBQXFCQyxNQUMxREUsS0FBT04sRUFBZ0JHLEtBQUssdUJBQXVCQyxNQUNuREcsUUFBUUMsSUFBSU4sTUFBT0csY0FBZUMsTUFDbENHLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKVixNQUFTQSxNQUNUUyxJQUFPTixjQUNQQyxLQUFRQSxNQUVaTyxRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYkMsU0FBU0MsYUFBYSxTQUFVLFdBQzVCQyxPQUFPQyxTQUFTQyxpQkFReEM3QixXQUFXQyxVQUFVSyw0QkFBOEIsV0FDL0NHLEVBQUUsMEJBQTBCcUIsR0FBRyxRQUFTLFdBQ3BDLElBRUlDLEVBRmF0QixFQUFFTCxNQUNDNEIsU0FBU0EsU0FDakJDLEtBQUssc0JBQ2pCaEIsUUFBUUMsSUFBSWEsR0FDWk4sU0FBU1MsYUFBYSxDQUNsQnRCLE1BQVMsY0FDVHVCLGdCQUFtQixXQUNmaEIsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLDJCQUNQQyxLQUFRLENBQ0pTLEdBQU1BLEdBRVZSLFFBQVcsU0FBVUMsR0FDakJQLFFBQVFDLElBQUlNLEdBQ1csTUFBbkJBLEVBQWEsT0FDYlAsUUFBUUMsSUFBSSxPQUNaUyxPQUFPQyxTQUFTQyxtQkFTNUM3QixXQUFXQyxVQUFVTSxlQUFpQixXQUVsQ0UsRUFBRSxvQkFBb0JFLE1BQU0sV0FDeEJNLFFBQVFDLElBQUksT0FDWlQsRUFBRSx1QkFBdUIyQixPQUN6QixJQUVJTCxFQUZhdEIsRUFBRUwsTUFDQzRCLFNBQVNBLFNBQ2pCQyxLQUFLLHNCQUNqQmhCLFFBQVFDLElBQUlhLEdBQ1paLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyx5QkFDUEMsS0FBTyxDQUNIZSxjQUFpQk4sR0FFckJSLFFBQVUsU0FBVUMsR0FDaEJQLFFBQVFDLElBQUlNLFNBTTVCZixFQUFFLFlBQ21CLElBQUlULFlBQ1ZFIiwiZmlsZSI6InBlcm1pc3Npb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gUGVybWlzc2lvbigpIHtcclxuXHJcbn1cclxuXHJcblBlcm1pc3Npb24ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGlzdGVuUGVybWlzc2lvblN1Ym1pdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblBlcm1pc3Npb25EZWxldGVFdmVudCgpO1xyXG4gICAgc2VsZi5lZGl0UGVybWlzc2lvbigpO1xyXG5cclxufTtcclxuUGVybWlzc2lvbi5wcm90b3R5cGUubGlzdGVuUGVybWlzc2lvblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJ0biA9ICQoJyNwZXJtaXNzaW9uLWNvbmZpcm0nKVxyXG4gICAgdmFyIHBlcm1pc3Npb25Hcm91cCA9ICQoJy5wZXJtaXNzaW9uLW1vZGFsLWJvZHkgJylcclxuICAgIGJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGl0bGUgPSBwZXJtaXNzaW9uR3JvdXAuZmluZChcImlucHV0W25hbWU9J3Blcm1pc3Npb24nXVwiKS52YWwoKVxyXG4gICAgICAgIHBlcm1pc3Npb25VcmwgPSBwZXJtaXNzaW9uR3JvdXAuZmluZChcImlucHV0W25hbWU9J3VybCddXCIpLnZhbCgpXHJcbiAgICAgICAgbWVudSA9IHBlcm1pc3Npb25Hcm91cC5maW5kKFwic2VsZWN0W25hbWU9J21lbnUnXVwiKS52YWwoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRpdGxlLCBwZXJtaXNzaW9uVXJsLCBtZW51KVxyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL3JiYWMvYWRkX3Blcm1pc3Npb24vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAndGl0bGUnOiB0aXRsZSxcclxuICAgICAgICAgICAgICAgICd1cmwnOiBwZXJtaXNzaW9uVXJsLFxyXG4gICAgICAgICAgICAgICAgJ21lbnUnOiBtZW51XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3MoXCLmt7vliqDmnYPpmZDmiJDlip9cIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcblBlcm1pc3Npb24ucHJvdG90eXBlLmxpc3RlblBlcm1pc3Npb25EZWxldGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5kZWxldGUtUGVybWlzc2lvbmVCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRidG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRidG4ucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHBrID0gdHIuYXR0cignZGF0YS1wZXJtaXNzaW9uLWlkJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocGspO1xyXG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0Q29uZmlybSh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICfmgqjnoa7lrpropoHliKDpmaTov5nkuKrmnYPpmZDlkJcnLFxyXG4gICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAndXJsJzogJy9yYmFjL2RlbGV0ZV9wZXJtaXNzaW9uLycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdwayc6IHBrXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmc2RcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuUGVybWlzc2lvbi5wcm90b3R5cGUuZWRpdFBlcm1pc3Npb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAkKCcjZWRpdC1wZXJtaXNzaW9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2ZkXCIpXHJcbiAgICAgICAgJCgnLnBlcm1pc3Npb24td3JhcHBlcicpLnNob3coKTtcclxuICAgICAgICB2YXIgY3VycmVudGJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudGJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgcGsgPSB0ci5hdHRyKCdkYXRhLXBlcm1pc3Npb24taWQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhwayk7XHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvcmJhYy9lZGl0X3Blcm1pc3Npb24vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICdwZXJtaXNzaW9uX2lkJzogcGssXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcGVybWlzc2lvbiA9IG5ldyBQZXJtaXNzaW9uKCk7XHJcbiAgICBwZXJtaXNzaW9uLnJ1bigpO1xyXG59KSJdfQ==
