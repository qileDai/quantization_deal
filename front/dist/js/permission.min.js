function Permission(){}Permission.prototype.run=function(){this.listenPermissionSubmitEvent(),this.listenPermissionDeleteEvent()},Permission.prototype.listenPermissionSubmitEvent=function(){var n=$("#permission-confirm"),i=$(".permission-modal-body ");n.click(function(){title=i.find("input[name='permission']").val(),permissionUrl=i.find("input[name='url']").val(),menu=i.find("select[name='menu']").val(),console.log(title,permissionUrl,menu),xfzajax.post({url:"/rbac/add_permission/",data:{title:title,url:permissionUrl,menu:menu},success:function(n){200===n.code&&xfzalert.alertSuccess("添加权限成功",function(){window.location.reload()})}})})},Permission.prototype.listenPermissionDeleteEvent=function(){$(".delete-PermissioneBtn").on("click",function(){var n=$(this).parent().parent().attr("data-permission-id");console.log(n),xfzalert.alertConfirm({title:"您确定要删除这个权限吗",confirmCallback:function(){xfzajax.post({url:"/rbac/delete_permission/",data:{pk:n},success:function(n){200===n.code&&xfzalert.alertSuccess("删除成功！",function(){window.location.reload()})}})}})})},$(function(){(new Permission).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcm1pc3Npb24uanMiXSwibmFtZXMiOlsiUGVybWlzc2lvbiIsInByb3RvdHlwZSIsInJ1biIsInRoaXMiLCJsaXN0ZW5QZXJtaXNzaW9uU3VibWl0RXZlbnQiLCJsaXN0ZW5QZXJtaXNzaW9uRGVsZXRlRXZlbnQiLCJidG4iLCIkIiwicGVybWlzc2lvbkdyb3VwIiwiY2xpY2siLCJ0aXRsZSIsImZpbmQiLCJ2YWwiLCJwZXJtaXNzaW9uVXJsIiwibWVudSIsImNvbnNvbGUiLCJsb2ciLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIm9uIiwicGsiLCJwYXJlbnQiLCJhdHRyIiwiYWxlcnRDb25maXJtIiwiY29uZmlybUNhbGxiYWNrIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxjQUlUQSxXQUFXQyxVQUFVQyxJQUFNLFdBQ1pDLEtBQ05DLDhCQURNRCxLQUVORSwrQkFHVEwsV0FBV0MsVUFBVUcsNEJBQThCLFdBQy9DLElBQUlFLEVBQU1DLEVBQUUsdUJBQ1JDLEVBQWtCRCxFQUFFLDJCQUN4QkQsRUFBSUcsTUFBTSxXQUNOQyxNQUFRRixFQUFnQkcsS0FBSyw0QkFBNEJDLE1BQ3pEQyxjQUFnQkwsRUFBZ0JHLEtBQUsscUJBQXFCQyxNQUMxREUsS0FBT04sRUFBZ0JHLEtBQUssdUJBQXVCQyxNQUNuREcsUUFBUUMsSUFBSU4sTUFBT0csY0FBZUMsTUFDbENHLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKVixNQUFTQSxNQUNUUyxJQUFPTixjQUNQQyxLQUFRQSxNQUVaTyxRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYkMsU0FBU0MsYUFBYSxTQUFVLFdBQzVCQyxPQUFPQyxTQUFTQyxpQkFReEMzQixXQUFXQyxVQUFVSSw0QkFBOEIsV0FDL0NFLEVBQUUsMEJBQTBCcUIsR0FBRyxRQUFTLFdBQ3BDLElBRUlDLEVBRmF0QixFQUFFSixNQUNDMkIsU0FBU0EsU0FDakJDLEtBQUssc0JBQ2pCaEIsUUFBUUMsSUFBSWEsR0FDWk4sU0FBU1MsYUFBYSxDQUNsQnRCLE1BQVMsY0FDVHVCLGdCQUFtQixXQUNmaEIsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLDJCQUNQQyxLQUFRLENBQ0pTLEdBQU1BLEdBRVZSLFFBQVcsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxNQUNiQyxTQUFTQyxhQUFhLFFBQVMsV0FDM0JDLE9BQU9DLFNBQVNDLG9CQVVoRHBCLEVBQUUsWUFDbUIsSUFBSVAsWUFDVkUiLCJmaWxlIjoicGVybWlzc2lvbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBQZXJtaXNzaW9uKCkge1xyXG5cclxufVxyXG5cclxuUGVybWlzc2lvbi5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5QZXJtaXNzaW9uU3VibWl0RXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuUGVybWlzc2lvbkRlbGV0ZUV2ZW50KCk7XHJcblxyXG59O1xyXG5QZXJtaXNzaW9uLnByb3RvdHlwZS5saXN0ZW5QZXJtaXNzaW9uU3VibWl0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYnRuID0gJCgnI3Blcm1pc3Npb24tY29uZmlybScpXHJcbiAgICB2YXIgcGVybWlzc2lvbkdyb3VwID0gJCgnLnBlcm1pc3Npb24tbW9kYWwtYm9keSAnKVxyXG4gICAgYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aXRsZSA9IHBlcm1pc3Npb25Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncGVybWlzc2lvbiddXCIpLnZhbCgpXHJcbiAgICAgICAgcGVybWlzc2lvblVybCA9IHBlcm1pc3Npb25Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ndXJsJ11cIikudmFsKClcclxuICAgICAgICBtZW51ID0gcGVybWlzc2lvbkdyb3VwLmZpbmQoXCJzZWxlY3RbbmFtZT0nbWVudSddXCIpLnZhbCgpXHJcbiAgICAgICAgY29uc29sZS5sb2codGl0bGUsIHBlcm1pc3Npb25VcmwsIG1lbnUpXHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvcmJhYy9hZGRfcGVybWlzc2lvbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd0aXRsZSc6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgJ3VybCc6IHBlcm1pc3Npb25VcmwsXHJcbiAgICAgICAgICAgICAgICAnbWVudSc6IG1lbnVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2VzcyhcIua3u+WKoOadg+mZkOaIkOWKn1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuUGVybWlzc2lvbi5wcm90b3R5cGUubGlzdGVuUGVybWlzc2lvbkRlbGV0ZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLmRlbGV0ZS1QZXJtaXNzaW9uZUJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudGJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudGJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgcGsgPSB0ci5hdHRyKCdkYXRhLXBlcm1pc3Npb24taWQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhwayk7XHJcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRDb25maXJtKHtcclxuICAgICAgICAgICAgJ3RpdGxlJzogJ+aCqOehruWumuimgeWIoOmZpOi/meS4quadg+mZkOWQlycsXHJcbiAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL3JiYWMvZGVsZXRlX3Blcm1pc3Npb24vJyxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BrJzogcGtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzKFwi5Yig6Zmk5oiQ5Yqf77yBXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwZXJtaXNzaW9uID0gbmV3IFBlcm1pc3Npb24oKTtcclxuICAgIHBlcm1pc3Npb24ucnVuKCk7XHJcbn0pIl19
