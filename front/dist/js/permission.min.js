function Permission(){}Permission.prototype.run=function(){this.listenPermissionSubmitEvent(),this.listenPermissionDeleteEvent()},Permission.prototype.listenPermissionSubmitEvent=function(){var i=$("#permission-confirm"),n=$(".permission-modal-body ");i.click(function(){title=n.find("input[name='permission']").val(),permissionUrl=n.find("input[name='url']").val(),menu=n.find("select[name='menu']").val(),console.log(title,permissionUrl,menu),xfzajax.post({url:"/rbac/add_permission/",data:{title:title,url:permissionUrl,menu:menu},success:function(i){200===i.code&&xfzalert.alertSuccess("添加权限成功",function(){window.location.reload()})}})})},Permission.prototype.listenPermissionDeleteEvent=function(){$(".delete-PermissioneBtn").on("click",function(){var i=$(this).parent().parent().attr("data-permission-id");console.log(i),xfzalert.alertConfirm({title:"您确定要删除这个权限吗",confirmCallback:function(){xfzajax.post({url:"/rbac/delete_permission/",data:{pk:i},success:function(i){200===i.code&&window.location.reload()}})}})})},$(function(){(new Permission).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcm1pc3Npb24uanMiXSwibmFtZXMiOlsiUGVybWlzc2lvbiIsInByb3RvdHlwZSIsInJ1biIsInRoaXMiLCJsaXN0ZW5QZXJtaXNzaW9uU3VibWl0RXZlbnQiLCJsaXN0ZW5QZXJtaXNzaW9uRGVsZXRlRXZlbnQiLCJidG4iLCIkIiwicGVybWlzc2lvbkdyb3VwIiwiY2xpY2siLCJ0aXRsZSIsImZpbmQiLCJ2YWwiLCJwZXJtaXNzaW9uVXJsIiwibWVudSIsImNvbnNvbGUiLCJsb2ciLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIm9uIiwicGsiLCJwYXJlbnQiLCJhdHRyIiwiYWxlcnRDb25maXJtIiwiY29uZmlybUNhbGxiYWNrIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxjQUlUQSxXQUFXQyxVQUFVQyxJQUFNLFdBQ1pDLEtBQ05DLDhCQURNRCxLQUVORSwrQkFHVEwsV0FBV0MsVUFBVUcsNEJBQThCLFdBQy9DLElBQUlFLEVBQU1DLEVBQUUsdUJBQ1JDLEVBQWtCRCxFQUFFLDJCQUN4QkQsRUFBSUcsTUFBTSxXQUNOQyxNQUFRRixFQUFnQkcsS0FBSyw0QkFBNEJDLE1BQ3pEQyxjQUFnQkwsRUFBZ0JHLEtBQUsscUJBQXFCQyxNQUMxREUsS0FBT04sRUFBZ0JHLEtBQUssdUJBQXVCQyxNQUNuREcsUUFBUUMsSUFBSU4sTUFBT0csY0FBZUMsTUFDbENHLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKVixNQUFTQSxNQUNUUyxJQUFPTixjQUNQQyxLQUFRQSxNQUVaTyxRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYkMsU0FBU0MsYUFBYSxTQUFVLFdBQzVCQyxPQUFPQyxTQUFTQyxpQkFReEMzQixXQUFXQyxVQUFVSSw0QkFBOEIsV0FDL0NFLEVBQUUsMEJBQTBCcUIsR0FBRyxRQUFTLFdBQ3BDLElBRUlDLEVBRmF0QixFQUFFSixNQUNDMkIsU0FBU0EsU0FDakJDLEtBQUssc0JBQ2pCaEIsUUFBUUMsSUFBSWEsR0FDWk4sU0FBU1MsYUFBYSxDQUNsQnRCLE1BQVMsY0FDVHVCLGdCQUFrQixXQUNkaEIsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLDJCQUNQQyxLQUFPLENBQ0hTLEdBQU1BLEdBRVZSLFFBQVUsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxNQUNaRyxPQUFPQyxTQUFTQyxrQkFTNUNwQixFQUFFLFlBQ21CLElBQUlQLFlBQ1ZFIiwiZmlsZSI6InBlcm1pc3Npb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gUGVybWlzc2lvbigpIHtcclxuXHJcbn1cclxuXHJcblBlcm1pc3Npb24ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGlzdGVuUGVybWlzc2lvblN1Ym1pdEV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblBlcm1pc3Npb25EZWxldGVFdmVudCgpO1xyXG5cclxufTtcclxuUGVybWlzc2lvbi5wcm90b3R5cGUubGlzdGVuUGVybWlzc2lvblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJ0biA9ICQoJyNwZXJtaXNzaW9uLWNvbmZpcm0nKVxyXG4gICAgdmFyIHBlcm1pc3Npb25Hcm91cCA9ICQoJy5wZXJtaXNzaW9uLW1vZGFsLWJvZHkgJylcclxuICAgIGJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGl0bGUgPSBwZXJtaXNzaW9uR3JvdXAuZmluZChcImlucHV0W25hbWU9J3Blcm1pc3Npb24nXVwiKS52YWwoKVxyXG4gICAgICAgIHBlcm1pc3Npb25VcmwgPSBwZXJtaXNzaW9uR3JvdXAuZmluZChcImlucHV0W25hbWU9J3VybCddXCIpLnZhbCgpXHJcbiAgICAgICAgbWVudSA9IHBlcm1pc3Npb25Hcm91cC5maW5kKFwic2VsZWN0W25hbWU9J21lbnUnXVwiKS52YWwoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRpdGxlLCBwZXJtaXNzaW9uVXJsLCBtZW51KVxyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL3JiYWMvYWRkX3Blcm1pc3Npb24vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAndGl0bGUnOiB0aXRsZSxcclxuICAgICAgICAgICAgICAgICd1cmwnOiBwZXJtaXNzaW9uVXJsLFxyXG4gICAgICAgICAgICAgICAgJ21lbnUnOiBtZW51XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3MoXCLmt7vliqDmnYPpmZDmiJDlip9cIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcblBlcm1pc3Npb24ucHJvdG90eXBlLmxpc3RlblBlcm1pc3Npb25EZWxldGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5kZWxldGUtUGVybWlzc2lvbmVCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRidG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRidG4ucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHBrID0gdHIuYXR0cignZGF0YS1wZXJtaXNzaW9uLWlkJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocGspO1xyXG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0Q29uZmlybSh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICfmgqjnoa7lrpropoHliKDpmaTov5nkuKrmnYPpmZDlkJcnLFxyXG4gICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzpmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL3JiYWMvZGVsZXRlX3Blcm1pc3Npb24vJyxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOiBwa1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwZXJtaXNzaW9uID0gbmV3IFBlcm1pc3Npb24oKTtcclxuICAgIHBlcm1pc3Npb24ucnVuKCk7XHJcbn0pIl19
